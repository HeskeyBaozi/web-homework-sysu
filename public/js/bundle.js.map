{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 68bad327243a3eccb327","webpack:///./src/index.js","webpack:///./src/data-structure.js","webpack:///./src/selector.js","webpack:///external \"_\"","webpack:///./src/helper.js","webpack:///./src/myModel/observer/dependency.js","webpack:///./src/myModel/observer/watcher.js","webpack:///./src/algorithm.js","webpack:///./src/myModel/compiler.js","webpack:///./src/myModel/index.js","webpack:///./src/myModel/observer/array.js","webpack:///./src/myModel/observer/index.js","webpack:///./src/type.js","webpack:///external \"jQuery\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","handleBeginningGame","model","normalizeInitialGameData","cache","$selectors","addClass","beginCount","_lodash2","assign","isRunning","startButton","time","count","isWinner","message","timeUid","setInterval","gameState","_type","Type","Pending","clearInterval","handleEndingGame","removeClass","handleMovedMap","_helper","isSolved","blockMap","Unstarted","startGame","mix","$blank","updater","_selector","selectElement","then","stopGame","handleStoppingGame","asyncRunningAlgorithm","generateInitialNode","resultNode","displaySolution","handleEndingDisplaying","selector","getIndex","getterFactory","_dataStructure","Node","$loading","algorithm","args","Promise","resolve","reject","delay","path","collectSolutionPath","handleResolvingDisplaying","showSolutionAsync","target","parentNode","push","_index","_index2","_jquery","_jquery2","_lodash","_algorithm","data","imgUrl","Array","from","document","querySelectorAll","map","element","index","correctIndex","stepNumber","$startBtn","update","bind","$watch","newValue","oldValue","img","Image","ctxArray","this","object","getContext","src","onload","drawCanvas","click","e","preventDefault","nextDescriptor","move","state","currentImg","Img","find","imageInfo","name","url","console","log","_classCallCheck","instance","Constructor","TypeError","computeH","distanceObject","manhatten","geometric","mapIndexToDistanceObject","number","getManhattenDistance","getGeometricDistance","to","Math","abs","sqrt","pow","objectReducer","leftObject","rightObject","PriorityQueue","compare","getTopItem","TopItem","pop","length","getMinChildIndex","parentIndex","_this","minChildIndex","filter","childIndex","forEach","sink","Q","shift","swap","bubble","currentIndex","array","leftIndex","rightIndex","temp","Object","defineProperty","value","undefined","blankTargetIndex","depth","h","selectNumber","reduce","prototype","__proto__","empty","dequeue","enqueue","item","o","selectOriginal","_","targetIndex","getNeighboursIndex","some","neighboursIndex","getNextMap","parentState","nextMap","clone","search","currentNode","subNode","randomlySelectAndMoveAsync","times","speed","randomlyMove","preTargetIndex","sample","nextState","patches","diff","render","X","Y","offset","floor","position","findIndex","canvasContextArray","image","ctx","drawImage","width","height","last","fillStyle","fillRect","blankElement","getElementIndex","flow","every","newMap","oldMap","tokens","newObject","oldObject","before","after","patch","className","replace","pushTarget","_target","Dependency","targetStack","popTarget","_createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","uid","subs","sub","addDependency","slice","getGetter","expOrFn","getter","Function","warn","_typeof","Symbol","iterator","constructor","_dependency","Watcher","callback","newDepIds","Set","newDeps","_getter","get","dep","has","add","addSub","run","AStar","rootNode","_initializeAlgorithm","initializeAlgorithm","_initializeAlgorithm2","_slicedToArray","PQ","S","_loop","v","tryInsertToSet","_ret","left","right","nextNode","set","priorityQueue","signature","toString","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","isArray","compile","nodeList","childNodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","node","nodeType","compileTextNode","textNode","parseText","textContent","frag","createDocumentFragment","ele","expression","createTextNode","_watcher","_watchers","_watcher2","appendChild","replaceChild","text","tagRE","test","lastIndex","match","exec","exp","proxy","_data","newVal","_compiler","Model","options","arguments","querySelector","keys","observe","watcher","observeNewItems","methodName","observer","inserted","observeArray","arrayMethods","create","original","result","apply","notify","ob","hasOwnProperty","Observer","isExtensible","defineReactive","val","_dependency2","childObserver","depend","augment","_array","walk","items","Win","Lose","Over","bg","jQuery"],"mappings":"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","file":"bundle.js","sourcesContent":["/*!\n * web-homework-sysu 0.0.0 - Modern Web Programming HomeWork - SYSU\n * Copyright (c) 2016 He Zhiyu - https://github.com/HeskeyBaozi/web-homework-sysu#readme\n * License: MIT\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _index = __webpack_require__(9);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _jquery = __webpack_require__(13);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helper = __webpack_require__(4);\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _type = __webpack_require__(12);\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tvar _algorithm = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t *           That's Me!\r\n\t *              ↓ ↓\r\n\t * View <==> View-Model <==> Model\r\n\t */\n\tvar model = new _index2.default({\n\t    target: '.container',\n\t    data: {\n\t        imgUrl: '',\n\t        blockMap: Array.from(document.querySelectorAll('.block')).map(function (element, index) {\n\t            return { element: element, correctIndex: index };\n\t        }),\n\t        startButton: 'Start!',\n\t        gameState: _type.Type.Unstarted,\n\t        isRunning: false,\n\t        isWinner: false,\n\t        time: 0,\n\t        count: 0,\n\t        message: 'Welcome to play the Puzzle!!',\n\t        stepNumber: 15\n\t    }\n\t});\n\t\n\t/**\r\n\t * the jquery object cache.\r\n\t * @type {{$blank: (any), $loading: (any), $startBtn: (any), $selectors: (any), updater: (())}}\r\n\t */\n\tvar cache = {\n\t    $blank: (0, _jquery2.default)('#blk-15'),\n\t    $loading: (0, _jquery2.default)('#loading'),\n\t    $startBtn: (0, _jquery2.default)('#start'),\n\t    $selectors: (0, _jquery2.default)('.img-groups'),\n\t    updater: _helper.update.bind(model)\n\t};\n\t\n\t/****************************************************************\r\n\t View-Callbacks\r\n\t 1. watch the variable of the model.\r\n\t 2. call the callback when the variable change.\r\n\t 3. then update the view by operating on the DOM node.\r\n\t ****************************************************************/\n\t\n\t/**\r\n\t * change the image.\r\n\t */\n\tmodel.$watch('imgUrl', function (newValue, oldValue) {\n\t    var img = new Image();\n\t    var ctxArray = this.blockMap.map(function (object) {\n\t        return object.element.getContext('2d');\n\t    });\n\t    img.src = newValue;\n\t    img.onload = function () {\n\t        (0, _helper.drawCanvas)(ctxArray, img);\n\t    };\n\t});\n\t\n\t/**\r\n\t * use the default image: KongFu Panda.\r\n\t * @type {string}\r\n\t */\n\tmodel.imgUrl = './img/panda.jpg';\n\t\n\t/**\r\n\t * be reactive to the state of the game.\r\n\t */\n\tmodel.$watch('gameState', function (newValue, oldValue) {\n\t    /**\r\n\t     * When the game starts...\r\n\t     */\n\t    if (_type.Type.Pending === newValue) {\n\t        handleBeginningGame(this);\n\t    }\n\t    /**\r\n\t     * When the game over or give up.\r\n\t     */\n\t    if (_type.Type.Pending === oldValue) {\n\t        handleEndingGame(this);\n\t    }\n\t});\n\t\n\t/**\r\n\t * normalize data & style.\r\n\t * @param model\r\n\t */\n\tfunction handleBeginningGame(model) {\n\t    normalizeInitialGameData(model);\n\t    cache.$selectors.addClass('no-see');\n\t    beginCount(model);\n\t}\n\t\n\t/**\r\n\t * set initial data of the game.\r\n\t * @param model\r\n\t */\n\tfunction normalizeInitialGameData(model) {\n\t    _lodash2.default.assign(model, {\n\t        isRunning: false,\n\t        startButton: 'Give Up : (',\n\t        time: 0,\n\t        count: 0,\n\t        isWinner: false,\n\t        message: 'Game Starting...'\n\t    });\n\t}\n\t\n\t/**\r\n\t * counting the time every 1s.\r\n\t * @param model\r\n\t */\n\tfunction beginCount(model) {\n\t    var timeUid = setInterval(function () {\n\t        if (model.gameState === _type.Type.Pending) {\n\t            model.time++;\n\t        } else clearInterval(timeUid);\n\t    }, 1000);\n\t}\n\t\n\t/**\r\n\t * set data & style when game ending.\r\n\t * @param model\r\n\t */\n\tfunction handleEndingGame(model) {\n\t    if (model.isWinner) cache.$selectors.removeClass('no-see');\n\t    _lodash2.default.assign(model, {\n\t        message: (model.isWinner ? 'Congratulations!' : 'Try your best.') + ' Time:' + model.time + ', Count:' + model.count,\n\t        startButton: model.isWinner ? 'Start!' : 'Getting Solution...',\n\t        time: 0,\n\t        count: 0\n\t    });\n\t}\n\t\n\t/**\r\n\t * watch the block moving. update the style.\r\n\t */\n\tmodel.$watch('isRunning', function (isRunning) {\n\t    if (isRunning) {\n\t        cache.$startBtn.addClass('disable-click');\n\t        cache.$selectors.addClass('no-see');\n\t    } else {\n\t        cache.$startBtn.removeClass('disable-click');\n\t    }\n\t});\n\t\n\t/****************************************************************\r\n\t Event Handler\r\n\t ****************************************************************/\n\t\n\t/**\r\n\t * Move the block when it was clicked\r\n\t * if it is near the blank Block.\r\n\t */\n\t(0, _jquery2.default)('.playground').click(function (e) {\n\t    e.preventDefault();\n\t    var getIndex = (0, _helper.getterFactory)(model.blockMap, _selector.selectElement);\n\t    var nextDescriptor = (0, _helper.move)(getIndex(e.target), getIndex(cache.$blank[0]), model.blockMap);\n\t    if (!nextDescriptor) return;\n\t    _helper.update.call(model, nextDescriptor.state);\n\t    handleMovedMap(model);\n\t});\n\t\n\t/**\r\n\t * set data & style after moving a block.\r\n\t * @param model\r\n\t */\n\tfunction handleMovedMap(model) {\n\t    if ((0, _helper.isSolved)(model.blockMap)) {\n\t        model.isWinner = true;\n\t        model.gameState = _type.Type.Unstarted;\n\t    }\n\t    if (model.gameState === _type.Type.Pending) {\n\t        model.count++;\n\t    }\n\t}\n\t\n\tcache.$startBtn.click(function (e) {\n\t    e.preventDefault();\n\t    /**\r\n\t     * refuse when the animate running.\r\n\t     */\n\t    if (model.isRunning) return;\n\t    if (model.gameState === _type.Type.Unstarted) {\n\t        startGame(model);\n\t    } else if (model.gameState === _type.Type.Pending) {\n\t        stopGame(model);\n\t    }\n\t});\n\t\n\t/**\r\n\t * turn to starting.\r\n\t * @param model {model}\r\n\t */\n\tfunction startGame(model) {\n\t    /**\r\n\t     * Mix the puzzle.\r\n\t     * @type {string}\r\n\t     */\n\t    model.startButton = 'Mixing...';\n\t    (0, _helper.mix)(model, cache.$blank[0], cache.updater, _selector.selectElement).then(function () {\n\t        model.gameState = _type.Type.Pending;\n\t    });\n\t}\n\t\n\t/**\r\n\t * turn to stopping game.\r\n\t * @param model {model}\r\n\t */\n\tfunction stopGame(model) {\n\t    model.gameState = _type.Type.Unstarted;\n\t    handleStoppingGame(model);\n\t    /**\r\n\t     * Use Algorithm to solve the problem.\r\n\t     */\n\t    asyncRunningAlgorithm(_algorithm.AStar, generateInitialNode(model, _selector.selectElement)).then(function (resultNode) {\n\t        return displaySolution(model, resultNode);\n\t    }).then(function () {\n\t        handleEndingDisplaying(model);\n\t    });\n\t}\n\t\n\t/**\r\n\t * generate a initial parent Node for the algorithm.\r\n\t * @param model\r\n\t * @param selector\r\n\t * @return {Node}\r\n\t */\n\tfunction generateInitialNode(model, selector) {\n\t    var getIndex = (0, _helper.getterFactory)(model.blockMap, selector);\n\t    return new _dataStructure.Node(model.blockMap, getIndex(cache.$blank[0]), null);\n\t}\n\t\n\t/**\r\n\t * set data & style when stopping the game.\r\n\t * @param model\r\n\t */\n\tfunction handleStoppingGame(model) {\n\t    cache.$loading.removeClass('disable-see');\n\t}\n\t\n\t/**\r\n\t * running the algorithm after the UI handler.\r\n\t * @param algorithm\r\n\t * @param args\r\n\t * @return {Promise}\r\n\t */\n\tfunction asyncRunningAlgorithm(algorithm, args) {\n\t    return new Promise(function (resolve, reject) {\n\t        _lodash2.default.delay(function () {\n\t            resolve(algorithm(args));\n\t        }, 20);\n\t    });\n\t}\n\t\n\t/**\r\n\t * collect the solution path and display it.\r\n\t * @param model\r\n\t * @param resultNode\r\n\t * @return {Promise}\r\n\t */\n\tfunction displaySolution(model, resultNode) {\n\t    var path = collectSolutionPath(resultNode);\n\t    handleResolvingDisplaying(model);\n\t    return new Promise(function (resolve, reject) {\n\t        (0, _helper.showSolutionAsync)(path, cache.updater, resolve);\n\t    });\n\t}\n\t\n\t/**\r\n\t * convert the result node into a solution path.\r\n\t * @param resultNode {Node}\r\n\t * @return {Array<Node>}\r\n\t */\n\tfunction collectSolutionPath(resultNode) {\n\t    var path = [];\n\t    var target = resultNode;\n\t    while (target.parentNode) {\n\t        path.push(target);\n\t        target = target.parentNode;\n\t    }\n\t    return path;\n\t}\n\t\n\t/**\r\n\t * set Data & style while displaying the solution.\r\n\t * @param model\r\n\t */\n\tfunction handleResolvingDisplaying(model) {\n\t    cache.$loading.addClass('disable-see');\n\t    _lodash2.default.assign(model, {\n\t        startButton: 'Recovering...',\n\t        isRunning: true\n\t    });\n\t}\n\t\n\t/**\r\n\t * set Data & style after displaying the solution.\r\n\t * @param model\r\n\t */\n\tfunction handleEndingDisplaying(model) {\n\t    cache.$selectors.removeClass('no-see');\n\t    _lodash2.default.assign(model, {\n\t        startButton: 'Try Again! : )',\n\t        isRunning: false\n\t    });\n\t}\n\t\n\t/**\r\n\t * the image switcher.\r\n\t */\n\tcache.$selectors.click(function (e) {\n\t    e.preventDefault();\n\t    if (model.gameState === _type.Type.Unstarted) {\n\t        var currentImg = _type.Img.find(function (imageInfo) {\n\t            return imageInfo.name === e.target.id;\n\t        });\n\t        if (currentImg) model.imgUrl = currentImg.url.img;\n\t    }\n\t});\n\t\n\tconsole.log(model);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Node = undefined;\n\texports.PriorityQueue = PriorityQueue;\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Node =\n\t/**\r\n\t *\r\n\t * @param state {Array}\r\n\t * @param blankTargetIndex {Number}\r\n\t * @param parentNode {Node}\r\n\t */\n\texports.Node = function Node(state, blankTargetIndex, parentNode) {\n\t    _classCallCheck(this, Node);\n\t\n\t    Object.assign(this, {\n\t        state: state,\n\t        blankTargetIndex: blankTargetIndex,\n\t        parentNode: parentNode,\n\t        depth: parentNode !== null ? parentNode.depth + 1 : 0\n\t    });\n\t    this.h = computeH(this.state.map(_selector.selectNumber).map(mapIndexToDistanceObject).reduce(objectReducer));\n\t};\n\t\n\t/**\r\n\t * compute the h value of the current state.\r\n\t * @param distanceObject\r\n\t * @return {number}\r\n\t */\n\t\n\t\n\tfunction computeH(distanceObject) {\n\t    return distanceObject.manhatten * 6 + distanceObject.geometric * 3;\n\t}\n\t\n\t/**\r\n\t * map the number & index to the distance object.\r\n\t * @param number\r\n\t * @param index\r\n\t * @return {{manhatten: number, geometric: number}}\r\n\t */\n\tfunction mapIndexToDistanceObject(number, index) {\n\t    return {\n\t        manhatten: getManhattenDistance(number, index),\n\t        geometric: getGeometricDistance(number, index)\n\t    };\n\t}\n\t\n\t/**\r\n\t * get manhatten distance\r\n\t * @param from\r\n\t * @param to\r\n\t * @return {number}\r\n\t */\n\tfunction getManhattenDistance(from, to) {\n\t    return Math.abs(from % 4 - to % 4) + Math.abs(from >> 2 - to >> 2);\n\t}\n\t\n\t/**\r\n\t * get geometric distance\r\n\t * @param from\r\n\t * @param to\r\n\t * @return {number}\r\n\t */\n\tfunction getGeometricDistance(from, to) {\n\t    return Math.sqrt(Math.pow(from % 4 - to % 4, 2) + Math.pow(from >> 2 - to >> 2, 2));\n\t}\n\t\n\t/**\r\n\t * reduce the object\r\n\t * @param leftObject\r\n\t * @param rightObject\r\n\t * @return {Object}\r\n\t */\n\tfunction objectReducer(leftObject, rightObject) {\n\t    leftObject.manhatten += rightObject.manhatten;\n\t    leftObject.geometric += rightObject.geometric;\n\t    return leftObject;\n\t}\n\t\n\t/**\r\n\t *\r\n\t * @param compare\r\n\t * @constructor\r\n\t */\n\tfunction PriorityQueue(compare) {\n\t    this.push(null);\n\t    this.compare = compare;\n\t}\n\t\n\tPriorityQueue.prototype.__proto__ = Array.prototype;\n\t_lodash2.default.assign(PriorityQueue.prototype, {\n\t    empty: function empty() {\n\t        return this.length <= 1;\n\t    },\n\t    dequeue: function dequeue() {\n\t        var TopItem = getTopItem.call(this);\n\t        sink.call(this);\n\t        return TopItem;\n\t    },\n\t    enqueue: function enqueue(item) {\n\t        this.push(item);\n\t        bubble.call(this);\n\t    }\n\t});\n\t\n\t/**\r\n\t *\r\n\t * @return {*}\r\n\t */\n\tfunction getTopItem() {\n\t    var TopItem = this[1];\n\t    this[1] = this.pop();\n\t    if (this.length === 2) {\n\t        this.pop();\n\t    }\n\t    return TopItem;\n\t}\n\t\n\t/**\r\n\t *\r\n\t * @param parentIndex {number}\r\n\t * @return {number}\r\n\t */\n\tfunction getMinChildIndex(parentIndex) {\n\t    var _this = this;\n\t\n\t    var minChildIndex = parentIndex;\n\t    [parentIndex << 1, parentIndex << 1 | 1].filter(function (childIndex) {\n\t        return childIndex < _this.length;\n\t    }).forEach(function (childIndex) {\n\t        if (_this.compare(_this[childIndex], _this[minChildIndex]) < 0) minChildIndex = childIndex;\n\t    });\n\t    return minChildIndex;\n\t}\n\t\n\tfunction sink() {\n\t    var Q = [1];\n\t    while (Q.length) {\n\t        var parentIndex = Q.shift();\n\t        var minChildIndex = getMinChildIndex.call(this, parentIndex);\n\t        if (parentIndex !== minChildIndex) {\n\t            swap(this, parentIndex, minChildIndex);\n\t            Q.push(minChildIndex);\n\t        }\n\t    }\n\t}\n\t\n\tfunction bubble() {\n\t    var currentIndex = this.length - 1;\n\t    while (currentIndex > 1) {\n\t        var parentIndex = currentIndex >> 1;\n\t        if (this.compare(this[currentIndex], this[parentIndex]) < 0) swap(this, parentIndex, currentIndex);else break;\n\t        currentIndex = parentIndex;\n\t    }\n\t}\n\t\n\tfunction swap(array, leftIndex, rightIndex) {\n\t    var temp = array[leftIndex];\n\t    array[leftIndex] = array[rightIndex];\n\t    array[rightIndex] = temp;\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar selectElement = exports.selectElement = function selectElement(o) {\n\t  return o.element;\n\t};\n\tvar selectNumber = exports.selectNumber = function selectNumber(o) {\n\t  return o.correctIndex;\n\t};\n\tvar selectOriginal = exports.selectOriginal = function selectOriginal(o) {\n\t  return o;\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = _;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.move = move;\n\texports.search = search;\n\texports.randomlySelectAndMoveAsync = randomlySelectAndMoveAsync;\n\texports.update = update;\n\texports.getNeighboursIndex = getNeighboursIndex;\n\texports.getterFactory = getterFactory;\n\texports.showSolutionAsync = showSolutionAsync;\n\texports.drawCanvas = drawCanvas;\n\texports.mix = mix;\n\texports.isSolved = isSolved;\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/***********************************************************\r\n\t Public Helper Function\r\n\t ***********************************************************/\n\t\n\t/**\r\n\t *\r\n\t * @param targetIndex {number}\r\n\t * @param blankTargetIndex {number}\r\n\t * @param map {{element:Element,correctIndex:number}[] | number[]}\r\n\t * @return {Node}\r\n\t */\n\tfunction move(targetIndex, blankTargetIndex, map) {\n\t    if (getNeighboursIndex(targetIndex).some(function (neighboursIndex) {\n\t        return neighboursIndex === blankTargetIndex;\n\t    })) {\n\t        return {\n\t            state: getNextMap(map, targetIndex, blankTargetIndex),\n\t            blankTargetIndex: targetIndex,\n\t            parentState: map\n\t        };\n\t    }\n\t}\n\t\n\tfunction getNextMap(map, targetIndex, blankTargetIndex) {\n\t    var nextMap = _lodash2.default.clone(map);\n\t    nextMap[targetIndex] = map[blankTargetIndex];\n\t    nextMap[blankTargetIndex] = map[targetIndex];\n\t    return nextMap;\n\t}\n\t\n\tfunction search(targetIndex, currentNode) {\n\t    var subNode = move(targetIndex, currentNode.blankTargetIndex, currentNode.state);\n\t    return new _dataStructure.Node(subNode.state, subNode.blankTargetIndex, currentNode);\n\t}\n\t\n\t/**\r\n\t * baffle the blocks.\r\n\t * @param times {number} the times.\r\n\t * @param speed {number} the speed of the block when moving. (ms)\r\n\t * @param resolve {function} promise resolve\r\n\t * @return {function}\r\n\t */\n\tfunction randomlySelectAndMoveAsync(times, speed, resolve) {\n\t    return function randomlyMove(preTargetIndex, blankTargetIndex, map, updater) {\n\t        var targetIndex = _lodash2.default.sample(getNeighboursIndex(blankTargetIndex).filter(function (index) {\n\t            return index !== preTargetIndex;\n\t        }));\n\t        var nextDescriptor = move(targetIndex, blankTargetIndex, map);\n\t        updater(nextDescriptor.state);\n\t        if (times--) _lodash2.default.delay(function () {\n\t            return randomlyMove(blankTargetIndex, nextDescriptor.blankTargetIndex, nextDescriptor.state, updater);\n\t        }, speed);else resolve(nextDescriptor);\n\t    };\n\t}\n\t\n\t/**\r\n\t * Update the view according nextBlankTargetIndex the descriptor.\r\n\t * @param nextState\r\n\t */\n\tfunction update(nextState) {\n\t    var patches = diff(nextState, this.blockMap);\n\t    render(patches, nextState);\n\t    this.blockMap = nextState;\n\t}\n\t\n\t/**\r\n\t * get the neighbours index.\r\n\t * @param targetIndex\r\n\t * @return {Array}\r\n\t */\n\tfunction getNeighboursIndex(targetIndex) {\n\t    return [{ X: 0, Y: -1 }, { X: 1, Y: 0 }, { X: 0, Y: 1 }, { X: -1, Y: 0 }].map(function (offset) {\n\t        return { X: targetIndex % 4 + offset.X, Y: Math.floor(targetIndex / 4) + offset.Y };\n\t    }).filter(function (position) {\n\t        return position.X >= 0 && position.X < 4 && position.Y >= 0 && position.Y < 4;\n\t    }).map(function (position) {\n\t        return position.Y * 4 + position.X;\n\t    });\n\t}\n\t\n\t/**\r\n\t * make a index getter\r\n\t * @param map\r\n\t * @param selector\r\n\t * @return {function(*): number}\r\n\t */\n\tfunction getterFactory(map, selector) {\n\t    return function (target) {\n\t        return map.map(selector).findIndex(function (object) {\n\t            return object === target;\n\t        });\n\t    };\n\t}\n\t\n\t/**\r\n\t * showing the solution for the solution path.\r\n\t * @param path {Array}\r\n\t * @param updater {Function}\r\n\t * @param resolve\r\n\t */\n\tfunction showSolutionAsync(path, updater, resolve) {\n\t    if (path.length) {\n\t        updater(path.pop().state);\n\t        _lodash2.default.delay(function () {\n\t            showSolutionAsync(path, updater, resolve);\n\t        }, 120);\n\t    } else resolve(path);\n\t}\n\t\n\t/**\r\n\t * draw the picture\r\n\t * @param canvasContextArray {Array}\r\n\t * @param image {Image}\r\n\t */\n\tfunction drawCanvas(canvasContextArray, image) {\n\t    canvasContextArray.forEach(function (ctx, index) {\n\t        return ctx.drawImage(image, index % 4 * (image.width / 4), Math.floor(index / 4) * (image.height / 4), image.width / 4, image.height / 4, 0, 0, 100, 100);\n\t    });\n\t    var last = canvasContextArray[canvasContextArray.length - 1];\n\t    last.fillStyle = 'rgba(120, 120, 120, 0.7)';\n\t    last.fillRect(0, 0, 100, 100);\n\t}\n\t\n\tfunction mix(model, blankElement, updater, selector) {\n\t    var getElementIndex = getterFactory(model.blockMap, selector);\n\t    var targetIndex = _lodash2.default.flow(getElementIndex, getNeighboursIndex, _lodash2.default.sample)(blankElement);\n\t    return new Promise(function (resolve, reject) {\n\t        model.isRunning = true;\n\t        randomlySelectAndMoveAsync(model.stepNumber, 120, resolve)(targetIndex, getElementIndex(blankElement), model.blockMap, updater);\n\t    });\n\t}\n\t\n\t/**\r\n\t * judge if it is Solved.\r\n\t * @param blockMap\r\n\t * @return {boolean|*}\r\n\t */\n\tfunction isSolved(blockMap) {\n\t    return blockMap.every(function (object, index) {\n\t        return object.correctIndex === index;\n\t    });\n\t}\n\t\n\t/***********************************************************\r\n\t Private Helper Function\r\n\t ***********************************************************/\n\t\n\t/**\r\n\t * Show the difference between the new map and the old map.\r\n\t * @param newMap {Array}\r\n\t * @param oldMap {Array}\r\n\t * @return {Array} tokens.\r\n\t */\n\tfunction diff(newMap, oldMap) {\n\t    var tokens = [];\n\t    newMap.forEach(function (newObject, index) {\n\t        var oldObject = oldMap[index];\n\t        if (newObject.correctIndex !== oldObject.correctIndex) tokens.push({ before: oldObject.correctIndex, after: newObject.correctIndex, index: index });\n\t    });\n\t    return tokens;\n\t}\n\t\n\t/**\r\n\t * render the data to the view\r\n\t * @param patches {Array}\r\n\t * @param map\r\n\t */\n\tfunction render(patches, map) {\n\t    patches.forEach(function (patch) {\n\t        var target = map[patch.index].element;\n\t        target.className = target.className.replace(/order-\\d*/, 'order-' + patch.index);\n\t    });\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.pushTarget = pushTarget;\n\texports.popTarget = popTarget;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar uid = 0;\n\t\n\t/**\r\n\t * 订阅者模式\r\n\t */\n\t\n\tvar Dependency = function () {\n\t    function Dependency() {\n\t        _classCallCheck(this, Dependency);\n\t\n\t        this.id = uid++;\n\t        this.subs = [];\n\t    }\n\t\n\t    _createClass(Dependency, [{\n\t        key: 'addSub',\n\t        value: function addSub(sub) {\n\t            this.subs.push(sub);\n\t        }\n\t\n\t        /**\r\n\t         * 通知依赖\r\n\t         * 这样Watcher就可以知道所维护的值需要依赖于哪些Model里面的其他值\r\n\t         */\n\t\n\t    }, {\n\t        key: 'depend',\n\t        value: function depend() {\n\t            if (Dependency.target) {\n\t                Dependency.target.addDependency(this);\n\t            }\n\t        }\n\t\n\t        /**\r\n\t         * 广播更新\r\n\t         */\n\t\n\t    }, {\n\t        key: 'notify',\n\t        value: function notify() {\n\t            var subs = this.subs.slice();\n\t            subs.forEach(function (sub) {\n\t                sub.update();\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Dependency;\n\t}();\n\t\n\t/**\r\n\t * 该依赖的全局监视者\r\n\t */\n\t\n\t\n\texports.default = Dependency;\n\tDependency.target = null;\n\t\n\tvar targetStack = [];\n\t\n\t/**\r\n\t * 全局每次更新只能有一个监视者更新, 使用栈维护\r\n\t * @param _target {Watcher}\r\n\t */\n\tfunction pushTarget(_target) {\n\t    if (Dependency.target) targetStack.push(Dependency.target);\n\t    Dependency.target = _target;\n\t}\n\t\n\tfunction popTarget() {\n\t    Dependency.target = targetStack.pop();\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.getGetter = getGetter;\n\t\n\tvar _dependency = __webpack_require__(5);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Watcher will call the callback when the value of the expression changes!\r\n\t */\n\tvar Watcher = function () {\n\t    /**\r\n\t     * @constructor\r\n\t     * @param model {model}\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t    function Watcher(model, expOrFn, callback) {\n\t        _classCallCheck(this, Watcher);\n\t\n\t        this.callback = callback;\n\t        this.model = model;\n\t\n\t        this.newDepIds = new Set();\n\t        this.newDeps = [];\n\t        this._getter = getGetter(expOrFn);\n\t        this.value = this.get();\n\t    }\n\t\n\t    /**\r\n\t     * get the value of the expression and collects the dep!\r\n\t     * @return {*}\r\n\t     */\n\t\n\t\n\t    _createClass(Watcher, [{\n\t        key: 'get',\n\t        value: function get() {\n\t            (0, _dependency.pushTarget)(this);\n\t            var value = this._getter.call(this.model, this.model); // collects the deps!\n\t            (0, _dependency.popTarget)();\n\t            return value;\n\t        }\n\t\n\t        /**\r\n\t         * add dependency for the watcher\r\n\t         * @param dep {Dependency}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'addDependency',\n\t        value: function addDependency(dep) {\n\t            var id = dep.id;\n\t            if (!this.newDepIds.has(id)) {\n\t                this.newDepIds.add(id);\n\t                this.newDeps.push(dep);\n\t                dep.addSub(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'update',\n\t        value: function update() {\n\t            this.run();\n\t            return this;\n\t        }\n\t\n\t        /**\r\n\t         * run the callback to update the value\r\n\t         */\n\t\n\t    }, {\n\t        key: 'run',\n\t        value: function run() {\n\t            var value = this.get();\n\t            if (value !== this.value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t                var oldValue = this.value;\n\t                this.value = value;\n\t                this.callback.call(this.model, value, oldValue);\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Watcher;\n\t}();\n\t\n\t/**\r\n\t * get the getter function of the expression after parsing.\r\n\t * @param expOrFn {string|Function}\r\n\t * @return {function}\r\n\t */\n\t\n\t\n\texports.default = Watcher;\n\tfunction getGetter(expOrFn) {\n\t    var getter = function getter() {\n\t        // do nothing..\n\t    };\n\t    if (typeof expOrFn === 'function') {\n\t        getter = expOrFn;\n\t    } else if (typeof expOrFn === 'string') {\n\t        getter = new Function('model', 'return model.' + expOrFn + ';');\n\t    } else {\n\t        console.warn(expOrFn + ' fail to parse!!');\n\t    }\n\t    return getter;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.AStar = AStar;\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tvar _helper = __webpack_require__(4);\n\t\n\t/**\r\n\t * A* Algorithm\r\n\t * based on BFS with a function f to give an standard to choice\r\n\t * which node is the best when getting next state.\r\n\t * @param rootNode {Node} the root node. (Current State)\r\n\t * @return {Node|undefined} the last node\r\n\t */\n\tfunction AStar(rootNode) {\n\t    var _initializeAlgorithm = initializeAlgorithm(rootNode);\n\t\n\t    var _initializeAlgorithm2 = _slicedToArray(_initializeAlgorithm, 2);\n\t\n\t    var PQ = _initializeAlgorithm2[0];\n\t    var S = _initializeAlgorithm2[1];\n\t\n\t    var _loop = function _loop() {\n\t        var currentNode = PQ.dequeue();\n\t        if ((0, _helper.isSolved)(currentNode.state)) return {\n\t                v: currentNode\n\t            };\n\t        (0, _helper.getNeighboursIndex)(currentNode.blankTargetIndex).forEach(function (targetIndex) {\n\t            return tryInsertToSet((0, _helper.search)(targetIndex, currentNode), S, PQ);\n\t        });\n\t    };\n\t\n\t    while (!PQ.empty()) {\n\t        var _ret = _loop();\n\t\n\t        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t    }\n\t}\n\t\n\t/**\r\n\t * initialize the algorithm.\r\n\t * @param rootNode\r\n\t * @return {*[]}\r\n\t */\n\tfunction initializeAlgorithm(rootNode) {\n\t    var PQ = new _dataStructure.PriorityQueue(compare);\n\t    var S = new Set();\n\t    PQ.enqueue(rootNode);\n\t    return [PQ, S];\n\t}\n\t\n\t/**\r\n\t * general compare function.\r\n\t * @param left\r\n\t * @param right\r\n\t * @return {number}\r\n\t */\n\tfunction compare(left, right) {\n\t    return left.h - right.h + left.depth - right.depth;\n\t}\n\t\n\t/**\r\n\t * check the signature and insert to the set.\r\n\t * @param nextNode\r\n\t * @param set\r\n\t * @param priorityQueue\r\n\t */\n\tfunction tryInsertToSet(nextNode, set, priorityQueue) {\n\t    var signature = nextNode.state.map(_selector.selectNumber).toString();\n\t    if (!set.has(signature)) {\n\t        priorityQueue.enqueue(nextNode);\n\t        set.add(signature);\n\t    }\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.compile = compile;\n\t\n\tvar _watcher = __webpack_require__(6);\n\t\n\tvar _watcher2 = _interopRequireDefault(_watcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction compile(element, model) {\n\t    var nodeList = element.childNodes;\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _iterator = nodeList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var node = _step.value;\n\t\n\t            if (node.nodeType === 3) {\n\t                compileTextNode(node, model);\n\t            } else if (node.nodeType === 1) {\n\t                compile(node, model);\n\t            }\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                _iterator.return();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\tvar tagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\n\t\n\tfunction compileTextNode(textNode, model) {\n\t    var tokens = parseText(textNode.textContent);\n\t    if (!tokens) return;\n\t    var frag = document.createDocumentFragment();\n\t    tokens.forEach(function (obj) {\n\t        var ele = void 0;\n\t        if (obj.expression) {\n\t            ele = document.createTextNode((0, _watcher.getGetter)(obj.expression)(model));\n\t            model._watchers.push(new _watcher2.default(model, obj.expression, function (newValue, oldValue) {\n\t                ele.textContent = newValue;\n\t            }));\n\t        } else {\n\t            ele = document.createTextNode(obj.value);\n\t        }\n\t        frag.appendChild(ele);\n\t    });\n\t\n\t    var parentNode = textNode.parentNode;\n\t    parentNode.replaceChild(frag, textNode);\n\t}\n\t\n\tfunction parseText(text) {\n\t    if (!tagRE.test(text)) return;\n\t\n\t    var tokens = [];\n\t    var lastIndex = tagRE.lastIndex = 0;\n\t    var match = void 0,\n\t        index = void 0;\n\t    while (match = tagRE.exec(text)) {\n\t        index = match.index;\n\t        // push text token\n\t        if (index > lastIndex) {\n\t            tokens.push({\n\t                value: text.slice(lastIndex, index)\n\t            });\n\t        }\n\t        // tag token\n\t        var exp = match[1];\n\t        tokens.push({\n\t            expression: exp,\n\t            value: exp\n\t        });\n\t        lastIndex = index + match[0].length;\n\t    }\n\t    if (lastIndex < text.length) {\n\t        tokens.push({\n\t            value: text.slice(lastIndex)\n\t        });\n\t    }\n\t    return tokens;\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * myModel is a very very very tiny MVVM lib.\r\n\t *\r\n\t * @Updated 2016/10/14 Zhiyu He\r\n\t */\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(11);\n\t\n\tvar _compiler = __webpack_require__(8);\n\t\n\tvar _watcher = __webpack_require__(6);\n\t\n\tvar _watcher2 = _interopRequireDefault(_watcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Model = function () {\n\t    function Model() {\n\t        var _this = this;\n\t\n\t        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        _classCallCheck(this, Model);\n\t\n\t        this._data = options.data;\n\t        this._watchers = [];\n\t        this._target = options.target ? document.querySelector(options.target) : undefined;\n\t        Object.keys(this._data).forEach(function (key) {\n\t            proxy(_this, key);\n\t        });\n\t        (0, _index.observe)(this._data);\n\t        if (this._target) (0, _compiler.compile)(this._target, this);\n\t    }\n\t\n\t    /**\r\n\t     * when the vale of the expression changes,\r\n\t     * the callback would be called\r\n\t     * callback example:\r\n\t     *        (newValue, oldValue) => *, this <===> model\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t\n\t\n\t    _createClass(Model, [{\n\t        key: '$watch',\n\t        value: function $watch(expOrFn, callback) {\n\t            var watcher = new _watcher2.default(this, expOrFn, callback);\n\t            this._watchers.push(watcher);\n\t        }\n\t    }]);\n\t\n\t    return Model;\n\t}();\n\t\n\t/**\r\n\t * proxy the properties\r\n\t * example:\r\n\t *      model.key <===> model._data.key\r\n\t * @param model {Model}\r\n\t * @param key {String}\r\n\t */\n\t\n\t\n\texports.default = Model;\n\tfunction proxy(model, key) {\n\t    Object.defineProperty(model, key, {\n\t        configurable: true,\n\t        enumerable: true,\n\t        get: function get() {\n\t            return model._data[key];\n\t        },\n\t        set: function set(newVal) {\n\t            model._data[key] = newVal;\n\t        }\n\t    });\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * []\r\n\t * @type {Array}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar arrayMethods = exports.arrayMethods = Object.create(Array.prototype);\n\t\n\t['push', 'dequeue', 'shift', 'unshift', 'sort', 'reverse', 'splice'].forEach(function (methodName) {\n\t    var original = Array.prototype[methodName];\n\t    Object.defineProperty(arrayMethods, methodName, {\n\t        enumerable: false,\n\t        writable: true,\n\t        configurable: true,\n\t        value: function value() {\n\t            var args = Array.from(arguments);\n\t            var result = original.apply(this, args);\n\t            var observer = this['__ob__'];\n\t            observeNewItems(methodName, args, observer);\n\t            observer.dep.notify();\n\t            return result;\n\t        }\n\t    });\n\t});\n\t\n\tfunction observeNewItems(methodName, args, observer) {\n\t    var inserted = undefined;\n\t    switch (methodName) {\n\t        case 'push':\n\t            inserted = args;\n\t            break;\n\t        case 'unshift':\n\t            inserted = args;\n\t            break;\n\t        case 'splice':\n\t            inserted = args.slice(2);\n\t            break;\n\t    }\n\t    if (inserted) {\n\t        observer.observeArray(inserted);\n\t    }\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.observe = observe;\n\t\n\tvar _dependency = __webpack_require__(5);\n\t\n\tvar _dependency2 = _interopRequireDefault(_dependency);\n\t\n\tvar _array = __webpack_require__(10);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Observer = function () {\n\t    function Observer(value) {\n\t        _classCallCheck(this, Observer);\n\t\n\t        this.value = value;\n\t        this.dep = new _dependency2.default();\n\t        Object.defineProperty(value, '__ob__', {\n\t            value: this,\n\t            enumerable: false,\n\t            writable: true,\n\t            configurable: true\n\t        });\n\t\n\t        if (Array.isArray(value)) {\n\t            augment(value, _array.arrayMethods);\n\t            this.observeArray(value);\n\t        } else this.walk(value);\n\t    }\n\t\n\t    /**\r\n\t     * travel all the props of the object, and set reactive props.\r\n\t     * @param obj {object}\r\n\t     */\n\t\n\t\n\t    _createClass(Observer, [{\n\t        key: 'walk',\n\t        value: function walk(obj) {\n\t            Object.keys(obj).forEach(function (key) {\n\t                defineReactive(obj, key, obj[key]);\n\t            });\n\t        }\n\t\n\t        /**\r\n\t         * Observe a list of Array items.\r\n\t         * @param items {Array}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'observeArray',\n\t        value: function observeArray(items) {\n\t            items.forEach(function (value) {\n\t                observe(value);\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Observer;\n\t}();\n\t\n\t/**\r\n\t * observe a property and set a observer if the property doesn't own one;\r\n\t * @param value {object} the property that needs nextBlankTargetIndex be observed\r\n\t * @return {Observer|undefined} if it is a string or number, returns undefined\r\n\t */\n\t\n\t\n\tfunction observe(value) {\n\t    if (!value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n\t        return;\n\t    }\n\t    var ob = void 0;\n\t    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\n\t        ob = value['__ob__'];\n\t    } else if (Object.isExtensible(value)) {\n\t        ob = new Observer(value);\n\t    }\n\t    return ob;\n\t}\n\t\n\t/**\r\n\t * Make the prop reactified\r\n\t * @param obj {Object}\r\n\t * @param key {String}\r\n\t * @param val {*}\r\n\t * @return {*}\r\n\t */\n\tfunction defineReactive(obj, key, val) {\n\t    var dep = new _dependency2.default();\n\t\n\t    var childObserver = observe(val);\n\t\n\t    Object.defineProperty(obj, key, {\n\t        enumerable: true,\n\t        configurable: true,\n\t        get: function get() {\n\t            if (_dependency2.default.target) {\n\t                dep.depend();\n\t                if (childObserver) {\n\t                    childObserver.dep.depend();\n\t                }\n\t                if (Array.isArray(val)) {\n\t                    val.forEach(function (item) {\n\t                        item && item['__ob__'] && item['__ob__'].dep.depend();\n\t                    });\n\t                }\n\t            }\n\t            return val;\n\t        },\n\t        set: function set(newVal) {\n\t            if (newVal === val) return;\n\t            val = newVal;\n\t            dep.notify();\n\t        }\n\t    });\n\t}\n\t\n\tfunction augment(target, src) {\n\t    target.__proto__ = src;\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * The State constant of the game.\r\n\t * @type {{Unstarted: string, Pending: string, Win: string, Lose: string, Over: string}}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar Type = exports.Type = {\n\t    Unstarted: 'UNSTARTED',\n\t    Pending: 'PENDING',\n\t    Win: 'WIN',\n\t    Lose: 'LOSE',\n\t    Over: 'OVER'\n\t};\n\t\n\tvar Img = exports.Img = [{\n\t    name: 'panda',\n\t    url: {\n\t        img: './img/panda.jpg',\n\t        bg: './img/bg_gfpanda.jpg'\n\t    }\n\t}, {\n\t    name: 'overwatch',\n\t    url: {\n\t        img: './img/img_overwatch.jpg',\n\t        bg: './img/bg_overwatch.jpg'\n\t    }\n\t}, {\n\t    name: 'zootopia',\n\t    url: {\n\t        img: './img/img_zootopia.jpeg',\n\t        bg: './img/bg_zootopia.jpeg'\n\t    }\n\t}, {\n\t    name: 'baymax',\n\t    url: {\n\t        img: './img/img_baymax.jpg',\n\t        bg: './img/bg_baymax.jpg'\n\t    }\n\t}];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 68bad327243a3eccb327\n **/","'use strict';\r\n\r\nimport Model from './myModel/index.js';\r\nimport $ from 'jquery';\r\nimport _ from 'lodash';\r\nimport {\r\n    move,\r\n    getterFactory,\r\n    update,\r\n    showSolutionAsync,\r\n    drawCanvas,\r\n    mix,\r\n    isSolved\r\n} from  './helper.js'\r\nimport {Node} from './data-structure.js';\r\nimport {Type, Img} from './type.js';\r\nimport {selectElement} from './selector.js';\r\nimport {AStar} from './algorithm.js';\r\n\r\n/**\r\n *           That's Me!\r\n *              ↓ ↓\r\n * View <==> View-Model <==> Model\r\n */\r\nconst model = new Model({\r\n    target: '.container',\r\n    data: {\r\n        imgUrl: '',\r\n        blockMap: Array\r\n            .from(document.querySelectorAll('.block'))\r\n            .map((element, index) => ({element, correctIndex: index})),\r\n        startButton: 'Start!',\r\n        gameState: Type.Unstarted,\r\n        isRunning: false,\r\n        isWinner: false,\r\n        time: 0,\r\n        count: 0,\r\n        message: 'Welcome to play the Puzzle!!',\r\n        stepNumber: 15\r\n    }\r\n});\r\n\r\n/**\r\n * the jquery object cache.\r\n * @type {{$blank: (any), $loading: (any), $startBtn: (any), $selectors: (any), updater: (())}}\r\n */\r\nconst cache = {\r\n    $blank: $('#blk-15'),\r\n    $loading: $('#loading'),\r\n    $startBtn: $('#start'),\r\n    $selectors: $('.img-groups'),\r\n    updater: update.bind(model)\r\n};\r\n\r\n/****************************************************************\r\n View-Callbacks\r\n 1. watch the variable of the model.\r\n 2. call the callback when the variable change.\r\n 3. then update the view by operating on the DOM node.\r\n ****************************************************************/\r\n\r\n/**\r\n * change the image.\r\n */\r\nmodel.$watch('imgUrl', function (newValue, oldValue) {\r\n    const img = new Image();\r\n    const ctxArray = this.blockMap.map(object => object.element.getContext('2d'));\r\n    img.src = newValue;\r\n    img.onload = () => {\r\n        drawCanvas(ctxArray, img);\r\n    };\r\n});\r\n\r\n/**\r\n * use the default image: KongFu Panda.\r\n * @type {string}\r\n */\r\nmodel.imgUrl = './img/panda.jpg';\r\n\r\n/**\r\n * be reactive to the state of the game.\r\n */\r\nmodel.$watch('gameState', function (newValue, oldValue) {\r\n    /**\r\n     * When the game starts...\r\n     */\r\n    if (Type.Pending === newValue) {\r\n        handleBeginningGame(this);\r\n    }\r\n    /**\r\n     * When the game over or give up.\r\n     */\r\n    if (Type.Pending === oldValue) {\r\n        handleEndingGame(this);\r\n    }\r\n});\r\n\r\n/**\r\n * normalize data & style.\r\n * @param model\r\n */\r\nfunction handleBeginningGame(model) {\r\n    normalizeInitialGameData(model);\r\n    cache.$selectors.addClass('no-see');\r\n    beginCount(model);\r\n}\r\n\r\n/**\r\n * set initial data of the game.\r\n * @param model\r\n */\r\nfunction normalizeInitialGameData(model) {\r\n    _.assign(model, {\r\n        isRunning: false,\r\n        startButton: 'Give Up : (',\r\n        time: 0,\r\n        count: 0,\r\n        isWinner: false,\r\n        message: 'Game Starting...'\r\n    });\r\n}\r\n\r\n/**\r\n * counting the time every 1s.\r\n * @param model\r\n */\r\nfunction beginCount(model) {\r\n    const timeUid = setInterval(() => {\r\n        if (model.gameState === Type.Pending) {\r\n            model.time++;\r\n        } else\r\n            clearInterval(timeUid);\r\n    }, 1000);\r\n}\r\n\r\n/**\r\n * set data & style when game ending.\r\n * @param model\r\n */\r\nfunction handleEndingGame(model) {\r\n    if (model.isWinner)\r\n        cache.$selectors.removeClass('no-see');\r\n    _.assign(model, {\r\n        message: `${model.isWinner ? 'Congratulations!' : 'Try your best.'} Time:${model.time}, Count:${model.count}`,\r\n        startButton: model.isWinner ? 'Start!' : 'Getting Solution...',\r\n        time: 0,\r\n        count: 0\r\n    });\r\n}\r\n\r\n/**\r\n * watch the block moving. update the style.\r\n */\r\nmodel.$watch('isRunning', function (isRunning) {\r\n    if (isRunning) {\r\n        cache.$startBtn.addClass('disable-click');\r\n        cache.$selectors.addClass('no-see');\r\n    } else {\r\n        cache.$startBtn.removeClass('disable-click');\r\n    }\r\n});\r\n\r\n/****************************************************************\r\n Event Handler\r\n ****************************************************************/\r\n\r\n/**\r\n * Move the block when it was clicked\r\n * if it is near the blank Block.\r\n */\r\n$('.playground').click(e => {\r\n    e.preventDefault();\r\n    const getIndex = getterFactory(model.blockMap, selectElement);\r\n    const nextDescriptor = move(getIndex(e.target), getIndex(cache.$blank[0]), model.blockMap);\r\n    if (!nextDescriptor) return;\r\n    update.call(model, nextDescriptor.state);\r\n    handleMovedMap(model);\r\n});\r\n\r\n/**\r\n * set data & style after moving a block.\r\n * @param model\r\n */\r\nfunction handleMovedMap(model) {\r\n    if (isSolved(model.blockMap)) {\r\n        model.isWinner = true;\r\n        model.gameState = Type.Unstarted;\r\n    }\r\n    if (model.gameState === Type.Pending) {\r\n        model.count++;\r\n    }\r\n}\r\n\r\n\r\ncache.$startBtn.click(e => {\r\n    e.preventDefault();\r\n    /**\r\n     * refuse when the animate running.\r\n     */\r\n    if (model.isRunning) return;\r\n    if (model.gameState === Type.Unstarted) {\r\n        startGame(model);\r\n    } else if (model.gameState === Type.Pending) {\r\n        stopGame(model);\r\n    }\r\n\r\n});\r\n\r\n/**\r\n * turn to starting.\r\n * @param model {model}\r\n */\r\nfunction startGame(model) {\r\n    /**\r\n     * Mix the puzzle.\r\n     * @type {string}\r\n     */\r\n    model.startButton = 'Mixing...';\r\n    mix(model, cache.$blank[0], cache.updater, selectElement)\r\n        .then(() => {\r\n            model.gameState = Type.Pending;\r\n        });\r\n}\r\n\r\n/**\r\n * turn to stopping game.\r\n * @param model {model}\r\n */\r\nfunction stopGame(model) {\r\n    model.gameState = Type.Unstarted;\r\n    handleStoppingGame(model);\r\n    /**\r\n     * Use Algorithm to solve the problem.\r\n     */\r\n    asyncRunningAlgorithm(AStar, generateInitialNode(model, selectElement))\r\n        .then(resultNode => displaySolution(model, resultNode))\r\n        .then(() => {\r\n            handleEndingDisplaying(model);\r\n        });\r\n}\r\n\r\n/**\r\n * generate a initial parent Node for the algorithm.\r\n * @param model\r\n * @param selector\r\n * @return {Node}\r\n */\r\nfunction generateInitialNode(model, selector) {\r\n    const getIndex = getterFactory(model.blockMap, selector);\r\n    return new Node(model.blockMap, getIndex(cache.$blank[0]), null);\r\n}\r\n\r\n/**\r\n * set data & style when stopping the game.\r\n * @param model\r\n */\r\nfunction handleStoppingGame(model) {\r\n    cache.$loading.removeClass('disable-see');\r\n}\r\n\r\n/**\r\n * running the algorithm after the UI handler.\r\n * @param algorithm\r\n * @param args\r\n * @return {Promise}\r\n */\r\nfunction asyncRunningAlgorithm(algorithm, args) {\r\n    return new Promise((resolve, reject) => {\r\n        _.delay(() => {\r\n            resolve(algorithm(args));\r\n        }, 20);\r\n    });\r\n}\r\n\r\n/**\r\n * collect the solution path and display it.\r\n * @param model\r\n * @param resultNode\r\n * @return {Promise}\r\n */\r\nfunction displaySolution(model, resultNode) {\r\n    const path = collectSolutionPath(resultNode);\r\n    handleResolvingDisplaying(model);\r\n    return new Promise((resolve, reject) => {\r\n        showSolutionAsync(path, cache.updater, resolve);\r\n    });\r\n}\r\n\r\n/**\r\n * convert the result node into a solution path.\r\n * @param resultNode {Node}\r\n * @return {Array<Node>}\r\n */\r\nfunction collectSolutionPath(resultNode) {\r\n    const path = [];\r\n    let target = resultNode;\r\n    while (target.parentNode) {\r\n        path.push(target);\r\n        target = target.parentNode;\r\n    }\r\n    return path;\r\n}\r\n\r\n/**\r\n * set Data & style while displaying the solution.\r\n * @param model\r\n */\r\nfunction handleResolvingDisplaying(model) {\r\n    cache.$loading.addClass('disable-see');\r\n    _.assign(model, {\r\n        startButton: 'Recovering...',\r\n        isRunning: true\r\n    });\r\n}\r\n\r\n/**\r\n * set Data & style after displaying the solution.\r\n * @param model\r\n */\r\nfunction handleEndingDisplaying(model) {\r\n    cache.$selectors.removeClass('no-see');\r\n    _.assign(model, {\r\n        startButton: 'Try Again! : )',\r\n        isRunning: false\r\n    });\r\n}\r\n\r\n/**\r\n * the image switcher.\r\n */\r\ncache.$selectors\r\n    .click(e => {\r\n        e.preventDefault();\r\n        if (model.gameState === Type.Unstarted) {\r\n            const currentImg = Img.find(imageInfo => imageInfo.name === e.target.id);\r\n            if (currentImg)\r\n                model.imgUrl = currentImg.url.img;\r\n        }\r\n    });\r\n\r\nconsole.log(model);\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","'use strict';\r\n\r\nimport {selectNumber} from './selector.js';\r\nimport _ from 'lodash';\r\n\r\nexport class Node {\r\n    /**\r\n     *\r\n     * @param state {Array}\r\n     * @param blankTargetIndex {Number}\r\n     * @param parentNode {Node}\r\n     */\r\n    constructor(state, blankTargetIndex, parentNode) {\r\n        Object.assign(this, {\r\n            state,\r\n            blankTargetIndex,\r\n            parentNode,\r\n            depth: parentNode !== null ? parentNode.depth + 1 : 0,\r\n        });\r\n        this.h = computeH(this.state.map(selectNumber).map(mapIndexToDistanceObject).reduce(objectReducer));\r\n    }\r\n}\r\n\r\n/**\r\n * compute the h value of the current state.\r\n * @param distanceObject\r\n * @return {number}\r\n */\r\nfunction computeH(distanceObject) {\r\n    return (distanceObject.manhatten * 6 + distanceObject.geometric * 3);\r\n}\r\n\r\n/**\r\n * map the number & index to the distance object.\r\n * @param number\r\n * @param index\r\n * @return {{manhatten: number, geometric: number}}\r\n */\r\nfunction mapIndexToDistanceObject(number, index) {\r\n    return {\r\n        manhatten: getManhattenDistance(number, index),\r\n        geometric: getGeometricDistance(number, index)\r\n    };\r\n}\r\n\r\n/**\r\n * get manhatten distance\r\n * @param from\r\n * @param to\r\n * @return {number}\r\n */\r\nfunction getManhattenDistance(from, to) {\r\n    return Math.abs(from % 4 - to % 4) + Math.abs(from >> 2 - to >> 2);\r\n}\r\n\r\n/**\r\n * get geometric distance\r\n * @param from\r\n * @param to\r\n * @return {number}\r\n */\r\nfunction getGeometricDistance(from, to) {\r\n    return Math.sqrt(Math.pow((from % 4 - to % 4), 2) + Math.pow(from >> 2 - to >> 2, 2));\r\n}\r\n\r\n/**\r\n * reduce the object\r\n * @param leftObject\r\n * @param rightObject\r\n * @return {Object}\r\n */\r\nfunction objectReducer(leftObject, rightObject) {\r\n    leftObject.manhatten += rightObject.manhatten;\r\n    leftObject.geometric += rightObject.geometric;\r\n    return leftObject;\r\n}\r\n\r\n/**\r\n *\r\n * @param compare\r\n * @constructor\r\n */\r\nexport function PriorityQueue(compare) {\r\n    this.push(null);\r\n    this.compare = compare;\r\n}\r\n\r\nPriorityQueue.prototype.__proto__ = Array.prototype;\r\n_.assign(PriorityQueue.prototype, {\r\n    empty() {\r\n        return this.length <= 1;\r\n    },\r\n\r\n    dequeue() {\r\n        const TopItem = getTopItem.call(this);\r\n        sink.call(this);\r\n        return TopItem;\r\n    },\r\n\r\n    enqueue(item) {\r\n        this.push(item);\r\n        bubble.call(this);\r\n    }\r\n});\r\n\r\n/**\r\n *\r\n * @return {*}\r\n */\r\nfunction getTopItem() {\r\n    const TopItem = this[1];\r\n    this[1] = this.pop();\r\n    if (this.length === 2) {\r\n        this.pop();\r\n    }\r\n    return TopItem;\r\n}\r\n\r\n/**\r\n *\r\n * @param parentIndex {number}\r\n * @return {number}\r\n */\r\nfunction getMinChildIndex(parentIndex) {\r\n    let minChildIndex = parentIndex;\r\n    [parentIndex << 1, (parentIndex << 1) | 1].filter(childIndex => {\r\n        return childIndex < this.length;\r\n    }).forEach(childIndex => {\r\n        if (this.compare(this[childIndex], this[minChildIndex]) < 0)\r\n            minChildIndex = childIndex;\r\n    });\r\n    return minChildIndex;\r\n}\r\n\r\nfunction sink() {\r\n    const Q = [1];\r\n    while (Q.length) {\r\n        const parentIndex = Q.shift();\r\n        let minChildIndex = getMinChildIndex.call(this, parentIndex);\r\n        if (parentIndex !== minChildIndex) {\r\n            swap(this, parentIndex, minChildIndex);\r\n            Q.push(minChildIndex);\r\n        }\r\n    }\r\n}\r\n\r\nfunction bubble() {\r\n    let currentIndex = this.length - 1;\r\n    while (currentIndex > 1) {\r\n        const parentIndex = currentIndex >> 1;\r\n        if (this.compare(this[currentIndex], this[parentIndex]) < 0)\r\n            swap(this, parentIndex, currentIndex);\r\n        else break;\r\n        currentIndex = parentIndex;\r\n    }\r\n}\r\n\r\n\r\nfunction swap(array, leftIndex, rightIndex) {\r\n    const temp = array[leftIndex];\r\n    array[leftIndex] = array[rightIndex];\r\n    array[rightIndex] = temp;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/data-structure.js\n **/","'use strict';\r\n\r\nexport const selectElement = o => o.element;\r\nexport const selectNumber = o => o.correctIndex;\r\nexport const selectOriginal = o => o;\n\n\n/** WEBPACK FOOTER **\n ** ./src/selector.js\n **/","module.exports = _;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\r\n\r\nimport {Node} from './data-structure.js';\r\nimport _ from 'lodash';\r\n\r\n/***********************************************************\r\n Public Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n *\r\n * @param targetIndex {number}\r\n * @param blankTargetIndex {number}\r\n * @param map {{element:Element,correctIndex:number}[] | number[]}\r\n * @return {Node}\r\n */\r\nexport function move(targetIndex, blankTargetIndex, map) {\r\n    if (getNeighboursIndex(targetIndex)\r\n            .some(neighboursIndex => neighboursIndex === blankTargetIndex)) {\r\n        return {\r\n            state: getNextMap(map, targetIndex, blankTargetIndex),\r\n            blankTargetIndex: targetIndex,\r\n            parentState: map\r\n        }\r\n    }\r\n}\r\n\r\nfunction getNextMap(map, targetIndex, blankTargetIndex) {\r\n    const nextMap = _.clone(map);\r\n    nextMap[targetIndex] = map[blankTargetIndex];\r\n    nextMap[blankTargetIndex] = map[targetIndex];\r\n    return nextMap;\r\n}\r\n\r\nexport function search(targetIndex, currentNode) {\r\n    const subNode = move(targetIndex, currentNode.blankTargetIndex, currentNode.state);\r\n    return new Node(subNode.state, subNode.blankTargetIndex, currentNode);\r\n}\r\n\r\n/**\r\n * baffle the blocks.\r\n * @param times {number} the times.\r\n * @param speed {number} the speed of the block when moving. (ms)\r\n * @param resolve {function} promise resolve\r\n * @return {function}\r\n */\r\nexport function randomlySelectAndMoveAsync(times, speed, resolve) {\r\n    return function randomlyMove(preTargetIndex, blankTargetIndex, map, updater) {\r\n        const targetIndex = _.sample(getNeighboursIndex(blankTargetIndex).filter(index => index !== preTargetIndex));\r\n        const nextDescriptor = move(targetIndex, blankTargetIndex, map);\r\n        updater(nextDescriptor.state);\r\n        if (times--)\r\n            _.delay(() => randomlyMove(blankTargetIndex, nextDescriptor.blankTargetIndex, nextDescriptor.state, updater), speed);\r\n        else\r\n            resolve(nextDescriptor);\r\n    };\r\n}\r\n\r\n\r\n/**\r\n * Update the view according nextBlankTargetIndex the descriptor.\r\n * @param nextState\r\n */\r\nexport function update(nextState) {\r\n    const patches = diff(nextState, this.blockMap);\r\n    render(patches, nextState);\r\n    this.blockMap = nextState;\r\n}\r\n\r\n/**\r\n * get the neighbours index.\r\n * @param targetIndex\r\n * @return {Array}\r\n */\r\nexport function getNeighboursIndex(targetIndex) {\r\n    return [{X: 0, Y: -1}, {X: 1, Y: 0}, {X: 0, Y: 1}, {X: -1, Y: 0}]\r\n        .map(offset => ({X: targetIndex % 4 + offset.X, Y: Math.floor(targetIndex / 4) + offset.Y}))\r\n        .filter(position => (position.X >= 0 && position.X < 4 && position.Y >= 0 && position.Y < 4))\r\n        .map(position => position.Y * 4 + position.X);\r\n}\r\n\r\n/**\r\n * make a index getter\r\n * @param map\r\n * @param selector\r\n * @return {function(*): number}\r\n */\r\nexport function getterFactory(map, selector) {\r\n    return target => map.map(selector).findIndex(object => object === target);\r\n}\r\n\r\n/**\r\n * showing the solution for the solution path.\r\n * @param path {Array}\r\n * @param updater {Function}\r\n * @param resolve\r\n */\r\nexport function showSolutionAsync(path, updater, resolve) {\r\n    if (path.length) {\r\n        updater(path.pop().state);\r\n        _.delay(() => {\r\n            showSolutionAsync(path, updater, resolve);\r\n        }, 120);\r\n    } else resolve(path);\r\n}\r\n\r\n/**\r\n * draw the picture\r\n * @param canvasContextArray {Array}\r\n * @param image {Image}\r\n */\r\nexport function drawCanvas(canvasContextArray, image) {\r\n    canvasContextArray.forEach((ctx, index) =>\r\n        ctx.drawImage(image, (index % 4) * (image.width / 4), Math.floor(index / 4) * (image.height / 4),\r\n            (image.width / 4), (image.height / 4), 0, 0, 100, 100));\r\n    const last = canvasContextArray[canvasContextArray.length - 1];\r\n    last.fillStyle = 'rgba(120, 120, 120, 0.7)';\r\n    last.fillRect(0, 0, 100, 100);\r\n}\r\n\r\nexport function mix(model, blankElement, updater, selector) {\r\n    const getElementIndex = getterFactory(model.blockMap, selector);\r\n    const targetIndex = _.flow(getElementIndex, getNeighboursIndex, _.sample)(blankElement);\r\n    return new Promise((resolve, reject) => {\r\n        model.isRunning = true;\r\n        randomlySelectAndMoveAsync(model.stepNumber, 120, resolve)(\r\n            targetIndex, getElementIndex(blankElement), model.blockMap, updater\r\n        );\r\n    });\r\n}\r\n\r\n/**\r\n * judge if it is Solved.\r\n * @param blockMap\r\n * @return {boolean|*}\r\n */\r\nexport function isSolved(blockMap) {\r\n    return blockMap.every((object, index) => object.correctIndex === index);\r\n}\r\n\r\n/***********************************************************\r\n Private Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n * Show the difference between the new map and the old map.\r\n * @param newMap {Array}\r\n * @param oldMap {Array}\r\n * @return {Array} tokens.\r\n */\r\nfunction diff(newMap, oldMap) {\r\n    const tokens = [];\r\n    newMap.forEach((newObject, index) => {\r\n        const oldObject = oldMap[index];\r\n        if (newObject.correctIndex !== oldObject.correctIndex)\r\n            tokens.push({before: oldObject.correctIndex, after: newObject.correctIndex, index});\r\n    });\r\n    return tokens;\r\n}\r\n\r\n/**\r\n * render the data to the view\r\n * @param patches {Array}\r\n * @param map\r\n */\r\nfunction render(patches, map) {\r\n    patches.forEach(patch => {\r\n        const target = map[patch.index].element;\r\n        target.className = target.className.replace(/order-\\d*/, `order-${patch.index}`);\r\n    });\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper.js\n **/","'use strict';\r\n\r\nlet uid = 0;\r\n\r\n/**\r\n * 订阅者模式\r\n */\r\nexport default class Dependency {\r\n    constructor() {\r\n        this.id = uid++;\r\n        this.subs = [];\r\n    }\r\n\r\n    addSub(sub) {\r\n        this.subs.push(sub);\r\n    }\r\n\r\n    /**\r\n     * 通知依赖\r\n     * 这样Watcher就可以知道所维护的值需要依赖于哪些Model里面的其他值\r\n     */\r\n    depend() {\r\n        if (Dependency.target) {\r\n            Dependency.target.addDependency(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 广播更新\r\n     */\r\n    notify() {\r\n        const subs = this.subs.slice();\r\n        subs.forEach(sub => {\r\n            sub.update();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * 该依赖的全局监视者\r\n */\r\nDependency.target = null;\r\n\r\nconst targetStack = [];\r\n\r\n/**\r\n * 全局每次更新只能有一个监视者更新, 使用栈维护\r\n * @param _target {Watcher}\r\n */\r\nexport function pushTarget(_target) {\r\n    if (Dependency.target)\r\n        targetStack.push(Dependency.target);\r\n    Dependency.target = _target;\r\n}\r\n\r\nexport function popTarget() {\r\n    Dependency.target = targetStack.pop()\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/dependency.js\n **/","'use strict';\r\n\r\nimport {popTarget, pushTarget} from './dependency.js';\r\n\r\n/**\r\n * Watcher will call the callback when the value of the expression changes!\r\n */\r\nexport default class Watcher {\r\n    /**\r\n     * @constructor\r\n     * @param model {model}\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    constructor(model, expOrFn, callback) {\r\n        this.callback = callback;\r\n        this.model = model;\r\n\r\n        this.newDepIds = new Set();\r\n        this.newDeps = [];\r\n        this._getter = getGetter(expOrFn);\r\n        this.value = this.get();\r\n    }\r\n\r\n    /**\r\n     * get the value of the expression and collects the dep!\r\n     * @return {*}\r\n     */\r\n    get() {\r\n        pushTarget(this);\r\n        const value = this._getter.call(this.model, this.model); // collects the deps!\r\n        popTarget();\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * add dependency for the watcher\r\n     * @param dep {Dependency}\r\n     */\r\n    addDependency(dep) {\r\n        const id = dep.id;\r\n        if (!this.newDepIds.has(id)) {\r\n            this.newDepIds.add(id);\r\n            this.newDeps.push(dep);\r\n            dep.addSub(this)\r\n        }\r\n    }\r\n\r\n    update() {\r\n        this.run();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * run the callback to update the value\r\n     */\r\n    run() {\r\n        const value = this.get();\r\n        if (value !== this.value || typeof value === 'object') {\r\n            const oldValue = this.value;\r\n            this.value = value;\r\n            this.callback.call(this.model, value, oldValue);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * get the getter function of the expression after parsing.\r\n * @param expOrFn {string|Function}\r\n * @return {function}\r\n */\r\nexport function getGetter(expOrFn) {\r\n    let getter = function () {\r\n        // do nothing..\r\n    };\r\n    if (typeof expOrFn === 'function') {\r\n        getter = expOrFn;\r\n    } else if (typeof expOrFn === 'string') {\r\n        getter = new Function('model', `return model.${expOrFn};`);\r\n    } else {\r\n        console.warn(`${expOrFn} fail to parse!!`);\r\n    }\r\n    return getter;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/watcher.js\n **/","'use strict';\r\n\r\nimport {PriorityQueue} from './data-structure.js';\r\nimport {selectNumber} from './selector.js';\r\nimport {search, getNeighboursIndex, isSolved} from './helper.js';\r\n\r\n/**\r\n * A* Algorithm\r\n * based on BFS with a function f to give an standard to choice\r\n * which node is the best when getting next state.\r\n * @param rootNode {Node} the root node. (Current State)\r\n * @return {Node|undefined} the last node\r\n */\r\nexport function AStar(rootNode) {\r\n    const [PQ, S] = initializeAlgorithm(rootNode);\r\n    while (!PQ.empty()) {\r\n        const currentNode = PQ.dequeue();\r\n        if (isSolved(currentNode.state)) return currentNode;\r\n        getNeighboursIndex(currentNode.blankTargetIndex)\r\n            .forEach(targetIndex => tryInsertToSet(search(targetIndex, currentNode), S, PQ));\r\n    }\r\n}\r\n\r\n/**\r\n * initialize the algorithm.\r\n * @param rootNode\r\n * @return {*[]}\r\n */\r\nfunction initializeAlgorithm(rootNode) {\r\n    const PQ = new PriorityQueue(compare);\r\n    const S = new Set();\r\n    PQ.enqueue(rootNode);\r\n    return [PQ, S];\r\n}\r\n\r\n/**\r\n * general compare function.\r\n * @param left\r\n * @param right\r\n * @return {number}\r\n */\r\nfunction compare(left, right) {\r\n    return left.h - right.h + left.depth - right.depth;\r\n}\r\n\r\n/**\r\n * check the signature and insert to the set.\r\n * @param nextNode\r\n * @param set\r\n * @param priorityQueue\r\n */\r\nfunction tryInsertToSet(nextNode, set, priorityQueue) {\r\n    const signature = nextNode.state.map(selectNumber).toString();\r\n    if (!set.has(signature)) {\r\n        priorityQueue.enqueue(nextNode);\r\n        set.add(signature);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/algorithm.js\n **/","'use strict';\r\n\r\nimport Watcher, {getGetter} from './observer/watcher.js';\r\n\r\nexport function compile(element, model) {\r\n    const nodeList = element.childNodes;\r\n    for (let node of nodeList) {\r\n        if (node.nodeType === 3) {\r\n            compileTextNode(node, model);\r\n        } else if (node.nodeType === 1) {\r\n            compile(node, model);\r\n        }\r\n    }\r\n}\r\n\r\nconst tagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\r\n\r\nfunction compileTextNode(textNode, model) {\r\n    let tokens = parseText(textNode.textContent);\r\n    if (!tokens)\r\n        return;\r\n    let frag = document.createDocumentFragment();\r\n    tokens.forEach(obj => {\r\n        let ele;\r\n        if (obj.expression) {\r\n            ele = document.createTextNode(getGetter(obj.expression)(model));\r\n            model._watchers.push(\r\n                new Watcher(model, obj.expression, (newValue, oldValue) => {\r\n                    ele.textContent = newValue;\r\n                })\r\n            );\r\n        } else {\r\n            ele = document.createTextNode(obj.value);\r\n        }\r\n        frag.appendChild(ele);\r\n    });\r\n\r\n    const parentNode = textNode.parentNode;\r\n    parentNode.replaceChild(frag, textNode);\r\n}\r\n\r\nfunction parseText(text) {\r\n    if (!tagRE.test(text))\r\n        return;\r\n\r\n    const tokens = [];\r\n    let lastIndex = tagRE.lastIndex = 0;\r\n    let match, index;\r\n    while ((match = tagRE.exec(text))) {\r\n        index = match.index;\r\n        // push text token\r\n        if (index > lastIndex) {\r\n            tokens.push({\r\n                value: text.slice(lastIndex, index)\r\n            });\r\n        }\r\n        // tag token\r\n        const exp = match[1];\r\n        tokens.push({\r\n            expression: exp,\r\n            value: exp\r\n        });\r\n        lastIndex = index + match[0].length;\r\n    }\r\n    if (lastIndex < text.length) {\r\n        tokens.push({\r\n            value: text.slice(lastIndex)\r\n        });\r\n    }\r\n    return tokens;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/compiler.js\n **/","/**\r\n * myModel is a very very very tiny MVVM lib.\r\n *\r\n * @Updated 2016/10/14 Zhiyu He\r\n */\r\n\r\n'use strict';\r\n\r\nimport {observe} from './observer/index.js';\r\nimport {compile} from './compiler.js';\r\nimport Watcher from './observer/watcher.js';\r\n\r\nexport default class Model {\r\n    constructor(options = {}) {\r\n        this._data = options.data;\r\n        this._watchers = [];\r\n        this._target = options.target ? document.querySelector(options.target) : undefined;\r\n        Object.keys(this._data).forEach(key => {\r\n            proxy(this, key);\r\n        });\r\n        observe(this._data);\r\n        if (this._target)\r\n            compile(this._target, this);\r\n    }\r\n\r\n    /**\r\n     * when the vale of the expression changes,\r\n     * the callback would be called\r\n     * callback example:\r\n     *        (newValue, oldValue) => *, this <===> model\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    $watch(expOrFn, callback) {\r\n        const watcher = new Watcher(this, expOrFn, callback);\r\n        this._watchers.push(watcher);\r\n    }\r\n}\r\n\r\n/**\r\n * proxy the properties\r\n * example:\r\n *      model.key <===> model._data.key\r\n * @param model {Model}\r\n * @param key {String}\r\n */\r\nfunction proxy(model, key) {\r\n    Object.defineProperty(model, key, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: () => model._data[key],\r\n        set: newVal => {\r\n            model._data[key] = newVal;\r\n        }\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/index.js\n **/","'use strict';\r\n\r\n/**\r\n * []\r\n * @type {Array}\r\n */\r\nexport const arrayMethods = Object.create(Array.prototype);\r\n\r\n[\r\n    'push',\r\n    'dequeue',\r\n    'shift',\r\n    'unshift',\r\n    'sort',\r\n    'reverse',\r\n    'splice'\r\n].forEach(methodName => {\r\n    const original = Array.prototype[methodName];\r\n    Object.defineProperty(arrayMethods, methodName, {\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true,\r\n        value: function () {\r\n            const args = Array.from(arguments);\r\n            const result = original.apply(this, args);\r\n            const observer = this['__ob__'];\r\n            observeNewItems(methodName, args, observer);\r\n            observer.dep.notify();\r\n            return result;\r\n        }\r\n    })\r\n});\r\n\r\nfunction observeNewItems(methodName, args, observer) {\r\n    let inserted = undefined;\r\n    switch (methodName) {\r\n        case 'push':\r\n            inserted = args;\r\n            break;\r\n        case 'unshift':\r\n            inserted = args;\r\n            break;\r\n        case 'splice':\r\n            inserted = args.slice(2);\r\n            break;\r\n    }\r\n    if (inserted) {\r\n        observer.observeArray(inserted);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/array.js\n **/","'use strict';\r\n\r\nimport Dependency from './dependency.js';\r\nimport {arrayMethods} from './array.js';\r\n\r\nclass Observer {\r\n    constructor(value) {\r\n        this.value = value;\r\n        this.dep = new Dependency();\r\n        Object.defineProperty(value, '__ob__', {\r\n            value: this,\r\n            enumerable: false,\r\n            writable: true,\r\n            configurable: true\r\n        });\r\n\r\n        if (Array.isArray(value)) {\r\n            augment(value, arrayMethods);\r\n            this.observeArray(value);\r\n        } else\r\n            this.walk(value);\r\n    }\r\n\r\n    /**\r\n     * travel all the props of the object, and set reactive props.\r\n     * @param obj {object}\r\n     */\r\n    walk(obj) {\r\n        Object.keys(obj).forEach(key => {\r\n            defineReactive(obj, key, obj[key]);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Observe a list of Array items.\r\n     * @param items {Array}\r\n     */\r\n    observeArray(items) {\r\n        items.forEach(value => {\r\n            observe(value);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * observe a property and set a observer if the property doesn't own one;\r\n * @param value {object} the property that needs nextBlankTargetIndex be observed\r\n * @return {Observer|undefined} if it is a string or number, returns undefined\r\n */\r\nexport function observe(value) {\r\n    if (!value || typeof value !== 'object') {\r\n        return;\r\n    }\r\n    let ob;\r\n    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\r\n        ob = value['__ob__'];\r\n    } else if (Object.isExtensible(value)) {\r\n        ob = new Observer(value);\r\n    }\r\n    return ob;\r\n}\r\n\r\n/**\r\n * Make the prop reactified\r\n * @param obj {Object}\r\n * @param key {String}\r\n * @param val {*}\r\n * @return {*}\r\n */\r\nfunction defineReactive(obj, key, val) {\r\n    const dep = new Dependency();\r\n\r\n    let childObserver = observe(val);\r\n\r\n    Object.defineProperty(obj, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: () => {\r\n            if (Dependency.target) {\r\n                dep.depend();\r\n                if (childObserver) {\r\n                    childObserver.dep.depend();\r\n                }\r\n                if (Array.isArray(val)) {\r\n                    val.forEach(item => {\r\n                        item && item['__ob__'] && item['__ob__'].dep.depend();\r\n                    });\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n        set: (newVal) => {\r\n            if (newVal === val)\r\n                return;\r\n            val = newVal;\r\n            dep.notify();\r\n        }\r\n    });\r\n}\r\n\r\nfunction augment(target, src) {\r\n    target.__proto__ = src;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/index.js\n **/","'use strict';\r\n\r\n/**\r\n * The State constant of the game.\r\n * @type {{Unstarted: string, Pending: string, Win: string, Lose: string, Over: string}}\r\n */\r\nexport const Type = {\r\n    Unstarted: 'UNSTARTED',\r\n    Pending: 'PENDING',\r\n    Win: 'WIN',\r\n    Lose: 'LOSE',\r\n    Over: 'OVER',\r\n};\r\n\r\nexport const Img = [\r\n    {\r\n        name: 'panda',\r\n        url: {\r\n            img: './img/panda.jpg',\r\n            bg: './img/bg_gfpanda.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'overwatch',\r\n        url: {\r\n            img: './img/img_overwatch.jpg',\r\n            bg: './img/bg_overwatch.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'zootopia',\r\n        url: {\r\n            img: './img/img_zootopia.jpeg',\r\n            bg: './img/bg_zootopia.jpeg'\r\n        }\r\n    },\r\n    {\r\n        name: 'baymax',\r\n        url: {\r\n            img: './img/img_baymax.jpg',\r\n            bg: './img/bg_baymax.jpg'\r\n        }\r\n    }\r\n];\n\n\n/** WEBPACK FOOTER **\n ** ./src/type.js\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}
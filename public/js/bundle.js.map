{"version":3,"sources":["webpack:///webpack/bootstrap 10df1a21ba68ddb56b98","webpack:///./src/index.js","webpack:///./src/myModel/index.js","webpack:///./src/myModel/observer/index.js","webpack:///./src/myModel/observer/dependency.js","webpack:///./src/myModel/observer/array.js","webpack:///./src/myModel/compiler.js","webpack:///./src/myModel/observer/watcher.js","webpack:///./src/myQuery/index.js","webpack:///./src/myQuery/helper.js","webpack:///./src/helper.js","webpack:///./src/util.js","webpack:///./src/data-structure.js","webpack:///./src/selector.js","webpack:///./src/type.js","webpack:///./src/algorithm.js"],"names":["model","target","data","imgUrl","blockMap","Array","from","document","querySelectorAll","map","element","index","correctIndex","startButton","gameState","Unstarted","isRunning","isWinner","time","count","message","stepNumber","cache","blankElement","querySelector","loadingElement","btnElement","selectorsElement","updater","bind","$watch","newValue","oldValue","img","Image","ctxArray","object","getContext","src","onload","Pending","classList","add","timeUid","setInterval","clearInterval","remove","on","e","preventDefault","getIndex","nextDescriptor","call","state","every","then","Promise","resolve","reject","setTimeout","path","result","parentNode","push","currentImg","find","imageInfo","name","id","url","console","log","Model","options","_data","_watchers","_target","undefined","Object","keys","forEach","proxy","key","expOrFn","callback","watcher","defineProperty","configurable","enumerable","get","set","newVal","observe","Observer","value","dep","writable","isArray","augment","observeArray","walk","obj","defineReactive","items","ob","hasOwnProperty","isExtensible","val","childObserver","depend","item","notify","__proto__","pushTarget","popTarget","uid","Dependency","subs","sub","addDependency","slice","update","targetStack","pop","arrayMethods","create","prototype","original","methodName","args","arguments","apply","observer","observeNewItems","inserted","compile","nodeList","childNodes","node","nodeType","compileTextNode","tagRE","textNode","tokens","parseText","textContent","frag","createDocumentFragment","ele","expression","createTextNode","appendChild","replaceChild","text","test","lastIndex","match","exec","exp","length","getGetter","Watcher","newDepIds","Set","newDeps","_getter","has","addSub","run","getter","Function","warn","DOMSelector","HzyElement","Element","el","EventName","isCapture","className","newText","addClass","removeClass","hasClass","addClassTemp","addEventListener","toLowerCase","replace","RegExp","split","join","contains","klass","move","search","randomlySelectAndMoveAsync","getNeighbours","getNeighboursIndex","getterFactory","getSample","showSolutionAsync","drawCanvas","mix","targetIndex","blankTargetIndex","some","neighboursIndex","nextMap","parentState","currentNode","subNode","times","speed","randomlyMove","preTargetIndex","filter","nextState","patches","diff","render","X","Y","offset","Math","floor","position","selector","findIndex","array","newMap","oldMap","newObject","oldObject","before","after","patch","canvasContextArray","image","ctx","drawImage","width","height","last","fillStyle","fillRect","getElementIndex","reduce","wrapper","getRandomInt","min","max","random","Node","depth","h","number","abs","left","right","PriorityQueue","compare","enqueue","currentIndex","parentIndex","swap","dequeue","TopItem","Q","shift","minChildIndex","childIndexArray","childIndex","empty","leftIndex","rightIndex","temp","selectElement","o","selectNumber","selectOriginal","Type","Win","Lose","Over","Img","bg","AStar","IDAStar","rootNode","PQ","S","timeEnd","neighbours","nextNode","signature","toString","Stack","bound","cost"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 10df1a21ba68ddb56b98\n **/","'use strict';\r\n\r\nimport Model from './myModel/index.js';\r\nimport Query from './myQuery/index.js';\r\nimport {\r\n    move,\r\n    getterFactory,\r\n    update,\r\n    showSolutionAsync,\r\n    drawCanvas,\r\n    mix\r\n} from  './helper.js'\r\nimport {Node} from './data-structure.js';\r\nimport {Type, Img} from './type.js';\r\nimport {selectElement} from './selector.js';\r\nimport {AStar} from './algorithm.js';\r\n\r\n/**\r\n *           That's Me!\r\n *              ↓ ↓\r\n * View <==> View-Model <==> Model\r\n */\r\nconst model = new Model({\r\n    target: '.container',\r\n    data: {\r\n        imgUrl: '',\r\n        blockMap: Array\r\n            .from(document.querySelectorAll('.block'))\r\n            .map((element, index) => ({element, correctIndex: index})),\r\n        startButton: 'Start!',\r\n        gameState: Type.Unstarted,\r\n        isRunning: false,\r\n        isWinner: false,\r\n        time: 0,\r\n        count: 0,\r\n        message: 'Welcome to play the Puzzle!!',\r\n        stepNumber: 15\r\n    }\r\n});\r\n\r\n\r\nconst cache = {\r\n    blankElement: document.querySelector('#blk-15'),\r\n    loadingElement: document.querySelector('#loading'),\r\n    btnElement: document.querySelector('#start'),\r\n    selectorsElement: document.querySelector('.img-groups'),\r\n    updater: update.bind(model)\r\n};\r\n\r\n/****************************************************************\r\n View-Callbacks\r\n 1. watch the variable of the model.\r\n 2. call the callback when the variable change.\r\n 3. then update the view by operating on the DOM node.\r\n ****************************************************************/\r\n\r\n/**\r\n * change the image.\r\n */\r\nmodel.$watch('imgUrl', function (newValue, oldValue) {\r\n    const img = new Image();\r\n    const ctxArray = this.blockMap.map(object => object.element.getContext('2d'));\r\n    img.src = newValue;\r\n    img.onload = () => {\r\n        drawCanvas(ctxArray, img);\r\n    };\r\n});\r\n\r\n/**\r\n * use the default image: KongFu Panda.\r\n * @type {string}\r\n */\r\nmodel.imgUrl = './img/panda.jpg';\r\n\r\n/**\r\n * be reactive to the state of the game.\r\n */\r\nmodel.$watch('gameState', function (newValue, oldValue) {\r\n    switch (newValue) {\r\n        /**\r\n         * When the game starts...\r\n         */\r\n        case Type.Pending:\r\n            this.time = 0;\r\n            this.count = 0;\r\n            this.isWinner = false;\r\n            this.message = 'Game Starting...';\r\n            cache.selectorsElement.classList.add('no-see');\r\n            const timeUid = setInterval(() => {\r\n                if (this.gameState === Type.Pending) {\r\n                    this.time++;\r\n                } else\r\n                    clearInterval(timeUid);\r\n\r\n            }, 1000);\r\n            break;\r\n    }\r\n\r\n    switch (oldValue) {\r\n        /**\r\n         * When the game over or give up.\r\n         */\r\n        case Type.Pending:\r\n            this.message = `${this.isWinner ? 'Congratulations!' : 'Try your best.'} Time:${this.time}, Count:${this.count}`;\r\n            if (this.isWinner) {\r\n                this.startButton = 'Start!';\r\n                cache.selectorsElement.classList.remove('no-see');\r\n            }\r\n            this.time = 0;\r\n            this.count = 0;\r\n            break;\r\n    }\r\n});\r\n\r\n/**\r\n * watch the block moving. update the style.\r\n */\r\nmodel.$watch('isRunning', function (isRunning) {\r\n    if (isRunning) {\r\n        cache.btnElement.classList.add('disable-click');\r\n        cache.selectorsElement.classList.add('no-see');\r\n    } else {\r\n        cache.btnElement.classList.remove('disable-click');\r\n    }\r\n});\r\n\r\n/****************************************************************\r\n Event Handler\r\n ****************************************************************/\r\n\r\n/**\r\n * Move the block when it was clicked\r\n * if it is near the blank Block.\r\n */\r\nQuery('.playground')\r\n    .on('click', e => {\r\n        e.preventDefault();\r\n        const getIndex = getterFactory(model.blockMap, selectElement);\r\n        const nextDescriptor = move(getIndex(e.target), getIndex(cache.blankElement), model.blockMap);\r\n        if (!nextDescriptor) return;\r\n        update.call(model, nextDescriptor.state);\r\n        if (model.blockMap.every((object, index) => object.correctIndex === index)) {\r\n            model.isWinner = true;\r\n            model.gameState = Type.Unstarted;\r\n        }\r\n        if (model.gameState === Type.Pending) {\r\n            model.count++;\r\n        }\r\n    });\r\n\r\n\r\nQuery('#start')\r\n    .on('click', e => {\r\n        e.preventDefault();\r\n        /**\r\n         * refuse when the animate running.\r\n         */\r\n        if (model.isRunning) {\r\n            return;\r\n        }\r\n        switch (model.gameState) {\r\n            case Type.Unstarted:\r\n                /**\r\n                 * Mix the puzzle.\r\n                 * @type {string}\r\n                 */\r\n                model.startButton = 'Mixing...';\r\n                mix(model, cache.blankElement, cache.updater, selectElement)\r\n                    .then(() => {\r\n                        model.isRunning = false;\r\n                        model.startButton = 'Give Up : (';\r\n                        model.gameState = Type.Pending;\r\n                    });\r\n                break;\r\n\r\n            case Type.Pending:\r\n                new Promise((resolve, reject) => {\r\n                    model.gameState = Type.Unstarted;\r\n                    model.startButton = 'Getting Solution...';\r\n                    cache.loadingElement.classList.remove('disable-see');\r\n                    const getIndex = getterFactory(model.blockMap, selectElement);\r\n                    setTimeout(() => {\r\n                        /**\r\n                         * Use Algorithm to solve the problem.\r\n                         */\r\n                        resolve(AStar(new Node(model.blockMap, getIndex(cache.blankElement), null)));\r\n                    }, 20);\r\n                }).then(result => {\r\n                    /**\r\n                     * Display the Solution.\r\n                     */\r\n                    const path = [];\r\n                    let target = result;\r\n                    while (target.parentNode) {\r\n                        path.push(target);\r\n                        target = target.parentNode;\r\n                    }\r\n\r\n                    return new Promise((resolve, reject) => {\r\n                        model.isRunning = true;\r\n                        cache.loadingElement.classList.add('disable-see');\r\n                        model.startButton = 'Recovering...';\r\n                        showSolutionAsync(path, cache.updater, resolve);\r\n                    });\r\n                }).then(() => {\r\n                    cache.selectorsElement.classList.remove('no-see');\r\n                    model.startButton = 'Try Again! : )';\r\n                    model.isRunning = false;\r\n                });\r\n                break;\r\n        }\r\n    });\r\n\r\n/**\r\n * the image switcher.\r\n */\r\nQuery('.img-groups')\r\n    .on('click', e => {\r\n        e.preventDefault();\r\n        if (model.gameState === Type.Unstarted) {\r\n            const currentImg = Img.find(imageInfo => imageInfo.name === e.target.id);\r\n            if (currentImg)\r\n                model.imgUrl = currentImg.url.img;\r\n        }\r\n    });\r\n\r\nconsole.log(model);\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/**\r\n * myModel is a very very very tiny MVVM lib.\r\n *\r\n * @Updated 2016/10/14 Zhiyu He\r\n */\r\n\r\n'use strict';\r\n\r\nimport {observe} from './observer/index.js';\r\nimport {compile} from './compiler.js';\r\nimport Watcher from './observer/watcher.js';\r\n\r\nexport default class Model {\r\n    constructor(options = {}) {\r\n        this._data = options.data;\r\n        this._watchers = [];\r\n        this._target = options.target ? document.querySelector(options.target) : undefined;\r\n        Object.keys(this._data).forEach(key => {\r\n            proxy(this, key);\r\n        });\r\n        observe(this._data);\r\n        if (this._target)\r\n            compile(this._target, this);\r\n    }\r\n\r\n    /**\r\n     * when the vale of the expression changes,\r\n     * the callback would be called\r\n     * callback example:\r\n     *        (newValue, oldValue) => *, this <===> model\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    $watch(expOrFn, callback) {\r\n        const watcher = new Watcher(this, expOrFn, callback);\r\n        this._watchers.push(watcher);\r\n    }\r\n}\r\n\r\n/**\r\n * proxy the properties\r\n * example:\r\n *      model.key <===> model._data.key\r\n * @param model {Model}\r\n * @param key {String}\r\n */\r\nfunction proxy(model, key) {\r\n    Object.defineProperty(model, key, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: () => model._data[key],\r\n        set: newVal => {\r\n            model._data[key] = newVal;\r\n        }\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/index.js\n **/","'use strict';\r\n\r\nimport Dependency from './dependency.js';\r\nimport {arrayMethods} from './array.js';\r\n\r\nclass Observer {\r\n    constructor(value) {\r\n        this.value = value;\r\n        this.dep = new Dependency();\r\n        Object.defineProperty(value, '__ob__', {\r\n            value: this,\r\n            enumerable: false,\r\n            writable: true,\r\n            configurable: true\r\n        });\r\n\r\n        if (Array.isArray(value)) {\r\n            augment(value, arrayMethods);\r\n            this.observeArray(value);\r\n        } else\r\n            this.walk(value);\r\n    }\r\n\r\n    /**\r\n     * travel all the props of the object, and set reactive props.\r\n     * @param obj {object}\r\n     */\r\n    walk(obj) {\r\n        Object.keys(obj).forEach(key => {\r\n            defineReactive(obj, key, obj[key]);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Observe a list of Array items.\r\n     * @param items {Array}\r\n     */\r\n    observeArray(items) {\r\n        items.forEach(value => {\r\n            observe(value);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * observe a property and set a observer if the property doesn't own one;\r\n * @param value {object} the property that needs nextBlankTargetIndex be observed\r\n * @return {Observer|undefined} if it is a string or number, returns undefined\r\n */\r\nexport function observe(value) {\r\n    if (!value || typeof value !== 'object') {\r\n        return;\r\n    }\r\n    let ob;\r\n    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\r\n        ob = value['__ob__'];\r\n    } else if (Object.isExtensible(value)) {\r\n        ob = new Observer(value);\r\n    }\r\n    return ob;\r\n}\r\n\r\n/**\r\n * Make the prop reactified\r\n * @param obj {Object}\r\n * @param key {String}\r\n * @param val {*}\r\n * @return {*}\r\n */\r\nfunction defineReactive(obj, key, val) {\r\n    const dep = new Dependency();\r\n\r\n    let childObserver = observe(val);\r\n\r\n    Object.defineProperty(obj, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: () => {\r\n            if (Dependency.target) {\r\n                dep.depend();\r\n                if (childObserver) {\r\n                    childObserver.dep.depend();\r\n                }\r\n                if (Array.isArray(val)) {\r\n                    val.forEach(item => {\r\n                        item && item['__ob__'] && item['__ob__'].dep.depend();\r\n                    });\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n        set: (newVal) => {\r\n            if (newVal === val)\r\n                return;\r\n            val = newVal;\r\n            dep.notify();\r\n        }\r\n    });\r\n}\r\n\r\nfunction augment(target, src) {\r\n    target.__proto__ = src;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/index.js\n **/","'use strict';\r\n\r\nlet uid = 0;\r\n\r\n/**\r\n * 订阅者模式\r\n */\r\nexport default class Dependency {\r\n    constructor() {\r\n        this.id = uid++;\r\n        this.subs = [];\r\n    }\r\n\r\n    addSub(sub) {\r\n        this.subs.push(sub);\r\n    }\r\n\r\n    /**\r\n     * 通知依赖\r\n     * 这样Watcher就可以知道所维护的值需要依赖于哪些Model里面的其他值\r\n     */\r\n    depend() {\r\n        if (Dependency.target) {\r\n            Dependency.target.addDependency(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 广播更新\r\n     */\r\n    notify() {\r\n        const subs = this.subs.slice();\r\n        subs.forEach(sub => {\r\n            sub.update();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * 该依赖的全局监视者\r\n */\r\nDependency.target = null;\r\n\r\nconst targetStack = [];\r\n\r\n/**\r\n * 全局每次更新只能有一个监视者更新, 使用栈维护\r\n * @param _target {Watcher}\r\n */\r\nexport function pushTarget(_target) {\r\n    if (Dependency.target)\r\n        targetStack.push(Dependency.target);\r\n    Dependency.target = _target;\r\n}\r\n\r\nexport function popTarget() {\r\n    Dependency.target = targetStack.pop()\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/dependency.js\n **/","'use strict';\r\n\r\n/**\r\n * []\r\n * @type {Array}\r\n */\r\nexport const arrayMethods = Object.create(Array.prototype);\r\n\r\n[\r\n    'push',\r\n    'dequeue',\r\n    'shift',\r\n    'unshift',\r\n    'sort',\r\n    'reverse',\r\n    'splice'\r\n].forEach(methodName => {\r\n    const original = Array.prototype[methodName];\r\n    Object.defineProperty(arrayMethods, methodName, {\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true,\r\n        value: function () {\r\n            const args = Array.from(arguments);\r\n            const result = original.apply(this, args);\r\n            const observer = this['__ob__'];\r\n            observeNewItems(methodName, args, observer);\r\n            observer.dep.notify();\r\n            return result;\r\n        }\r\n    })\r\n});\r\n\r\nfunction observeNewItems(methodName, args, observer) {\r\n    let inserted = undefined;\r\n    switch (methodName) {\r\n        case 'push':\r\n            inserted = args;\r\n            break;\r\n        case 'unshift':\r\n            inserted = args;\r\n            break;\r\n        case 'splice':\r\n            inserted = args.slice(2);\r\n            break;\r\n    }\r\n    if (inserted) {\r\n        observer.observeArray(inserted);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/array.js\n **/","'use strict';\r\n\r\nimport Watcher, {getGetter} from './observer/watcher.js';\r\n\r\nexport function compile(element, model) {\r\n    const nodeList = element.childNodes;\r\n    for (let node of nodeList) {\r\n        if (node.nodeType === 3) {\r\n            compileTextNode(node, model);\r\n        } else if (node.nodeType === 1) {\r\n            compile(node, model);\r\n        }\r\n    }\r\n}\r\n\r\nconst tagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\r\n\r\nfunction compileTextNode(textNode, model) {\r\n    let tokens = parseText(textNode.textContent);\r\n    if (!tokens)\r\n        return;\r\n    let frag = document.createDocumentFragment();\r\n    tokens.forEach(obj => {\r\n        let ele;\r\n        if (obj.expression) {\r\n            ele = document.createTextNode(getGetter(obj.expression)(model));\r\n            model._watchers.push(\r\n                new Watcher(model, obj.expression, (newValue, oldValue) => {\r\n                    ele.textContent = newValue;\r\n                })\r\n            );\r\n        } else {\r\n            ele = document.createTextNode(obj.value);\r\n        }\r\n        frag.appendChild(ele);\r\n    });\r\n\r\n    const parentNode = textNode.parentNode;\r\n    parentNode.replaceChild(frag, textNode);\r\n}\r\n\r\nfunction parseText(text) {\r\n    if (!tagRE.test(text))\r\n        return;\r\n\r\n    const tokens = [];\r\n    let lastIndex = tagRE.lastIndex = 0;\r\n    let match, index;\r\n    while ((match = tagRE.exec(text))) {\r\n        index = match.index;\r\n        // push text token\r\n        if (index > lastIndex) {\r\n            tokens.push({\r\n                value: text.slice(lastIndex, index)\r\n            });\r\n        }\r\n        // tag token\r\n        const exp = match[1];\r\n        tokens.push({\r\n            expression: exp,\r\n            value: exp\r\n        });\r\n        lastIndex = index + match[0].length;\r\n    }\r\n    if (lastIndex < text.length) {\r\n        tokens.push({\r\n            value: text.slice(lastIndex)\r\n        });\r\n    }\r\n    return tokens;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/compiler.js\n **/","'use strict';\r\n\r\nimport {popTarget, pushTarget} from './dependency.js';\r\n\r\n/**\r\n * Watcher will call the callback when the value of the expression changes!\r\n */\r\nexport default class Watcher {\r\n    /**\r\n     * @constructor\r\n     * @param model {model}\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    constructor(model, expOrFn, callback) {\r\n        this.callback = callback;\r\n        this.model = model;\r\n\r\n        this.newDepIds = new Set();\r\n        this.newDeps = [];\r\n        this._getter = getGetter(expOrFn);\r\n        this.value = this.get();\r\n    }\r\n\r\n    /**\r\n     * get the value of the expression and collects the dep!\r\n     * @return {*}\r\n     */\r\n    get() {\r\n        pushTarget(this);\r\n        const value = this._getter.call(this.model, this.model); // collects the deps!\r\n        popTarget();\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * add dependency for the watcher\r\n     * @param dep {Dependency}\r\n     */\r\n    addDependency(dep) {\r\n        const id = dep.id;\r\n        if (!this.newDepIds.has(id)) {\r\n            this.newDepIds.add(id);\r\n            this.newDeps.push(dep);\r\n            dep.addSub(this)\r\n        }\r\n    }\r\n\r\n    update() {\r\n        this.run();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * run the callback to update the value\r\n     */\r\n    run() {\r\n        const value = this.get();\r\n        if (value !== this.value || typeof value === 'object') {\r\n            const oldValue = this.value;\r\n            this.value = value;\r\n            this.callback.call(this.model, value, oldValue);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * get the getter function of the expression after parsing.\r\n * @param expOrFn {string|Function}\r\n * @return {function}\r\n */\r\nexport function getGetter(expOrFn) {\r\n    let getter = function () {\r\n        // do nothing..\r\n    };\r\n    if (typeof expOrFn === 'function') {\r\n        getter = expOrFn;\r\n    } else if (typeof expOrFn === 'string') {\r\n        getter = new Function('model', `return model.${expOrFn};`);\r\n    } else {\r\n        console.warn(`${expOrFn} fail to parse!!`);\r\n    }\r\n    return getter;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/watcher.js\n **/","/**\r\n * myQuery is just like jQuery.\r\n * but it has only the event related, class related functions.\r\n *\r\n * @Updated 2016/10/14 Zhiyu He\r\n */\r\n'use strict';\r\n\r\nimport {on, addClass, removeClass, hasClass, text} from './helper.js';\r\n\r\nconst cache = {};\r\n\r\n/**\r\n * a tiny small Query just like jQuery 2333\r\n * @param DOMSelector {string|document|Element}\r\n * @return {*}\r\n */\r\nexport default DOMSelector => {\r\n    if (typeof DOMSelector === 'string') {\r\n        if (cache[DOMSelector]) {\r\n            return cache[DOMSelector];\r\n        } else {\r\n            return cache[DOMSelector] = new HzyElement(DOMSelector);\r\n        }\r\n    } else if (DOMSelector instanceof Element) {\r\n        return new HzyElement(DOMSelector);\r\n    } else if (DOMSelector === document) {\r\n        document.on = on.bind(document);\r\n        return document;\r\n    }\r\n}\r\n\r\n\r\nclass HzyElement {\r\n    constructor(DOMSelector) {\r\n        if (typeof DOMSelector === 'string')\r\n            this.el = document.querySelector(DOMSelector);\r\n        else if (DOMSelector instanceof Element) {\r\n            this.el = DOMSelector;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Event binding\r\n     * @param EventName {string}\r\n     * @param callback {function}\r\n     * @param isCapture {boolean}\r\n     * @return {HzyElement}\r\n     */\r\n    on(EventName, callback, isCapture) {\r\n        on.call(this.el, EventName, callback, isCapture);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * add a class nextBlankTargetIndex the DOM\r\n     * @param className {string}\r\n     * @return {HzyElement}\r\n     */\r\n    addClass(className) {\r\n        addClass.apply(this.el, arguments);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * remove a class\r\n     * @param className {string}\r\n     * @return {HzyElement}\r\n     */\r\n    removeClass(className) {\r\n        removeClass.apply(this.el, arguments);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * check has class\r\n     * @param className {string}\r\n     * @return {boolean}\r\n     */\r\n    hasClass(className) {\r\n        return hasClass.apply(this.el, arguments);\r\n    }\r\n\r\n    /**\r\n     * get/set text\r\n     * @param newText\r\n     * @return {*}\r\n     */\r\n    text(newText) {\r\n        let result = text.apply(this.el, arguments);\r\n        if (typeof result === 'undefined') {\r\n            result = this;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/myQuery/index.js\n **/","'use strict';\r\n\r\n/**\r\n * add events\r\n * @param EventName {string}\r\n * @param callback {function}\r\n * @param isCapture {boolean}\r\n * @return {object} the context of the function: this.\r\n */\r\nexport function on(EventName, callback, isCapture) {\r\n    if (addEventListener) {\r\n        this.addEventListener(EventName.toLowerCase(), callback, isCapture);\r\n    } else {\r\n        this[`on${EventName.toLowerCase()}`] = callback;\r\n    }\r\n    return this;\r\n}\r\n\r\n/**\r\n * add a class nextBlankTargetIndex the DOM\r\n * @param className {string}\r\n * @return this\r\n */\r\nexport function addClass(className) {\r\n    if (this.classList)\r\n        this.classList.add(className);\r\n    else\r\n        this.className += ' ' + className;\r\n    return this;\r\n}\r\n\r\n/**\r\n * remove a class\r\n * @param className {string}\r\n * @return this\r\n */\r\nexport function removeClass(className) {\r\n    if (this.classList)\r\n        this.classList.remove(className);\r\n    else\r\n        this.className = this.className.replace(new RegExp('(^|\\\\b)' +\r\n            className.split(' ').join('|') + '(\\\\b|Query)', 'gi'), ' ');\r\n    return this;\r\n}\r\n\r\n/**\r\n * check has class\r\n * @param className {string}\r\n * @return this\r\n */\r\nexport function hasClass(className) {\r\n    if (this.classList)\r\n        return this.classList.contains(className);\r\n    else\r\n        return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);\r\n}\r\n\r\n/**\r\n * get/set text\r\n * @param newText\r\n * @return {*}\r\n */\r\nexport function text(newText) {\r\n    if (typeof newText === 'undefined') {\r\n        return this.textContent;\r\n    }\r\n    this.textContent = newText;\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * AddClass in a time\r\n * @param ele {HTMLElement}\r\n * @param className {string}\r\n * @param time {number} ms\r\n */\r\nexport function addClassTemp(ele, className, time) {\r\n    className = className instanceof Array ? className : [className];\r\n    return new Promise((resolve, reject) => {\r\n        className.forEach(klass => {\r\n            addClass.call(ele, klass);\r\n        });\r\n        setTimeout(() => {\r\n            resolve(ele);\r\n        }, time);\r\n    }).then(ele => {\r\n        className.forEach(klass => {\r\n            removeClass.call(ele, klass);\r\n        });\r\n        return ele;\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myQuery/helper.js\n **/","'use strict';\r\n\r\nimport {getRandomInt} from './util.js';\r\nimport {Node} from './data-structure.js';\r\n\r\n/***********************************************************\r\n Public Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n *\r\n * @param targetIndex {number}\r\n * @param blankTargetIndex {number}\r\n * @param map {{element:Element,correctIndex:number}[] | number[]}\r\n * @return {Node}\r\n */\r\nexport function move(targetIndex, blankTargetIndex, map) {\r\n    if (getNeighboursIndex(targetIndex)\r\n            .some(neighboursIndex => neighboursIndex === blankTargetIndex)) {\r\n        const nextMap = map.slice();\r\n        [\r\n            nextMap[targetIndex],\r\n            nextMap[blankTargetIndex]\r\n        ] = [\r\n            map[blankTargetIndex],\r\n            map[targetIndex]\r\n        ];\r\n        return {\r\n            state: nextMap,\r\n            blankTargetIndex: targetIndex,\r\n            parentState: map\r\n        }\r\n    }\r\n}\r\n\r\nexport function search(targetIndex, currentNode) {\r\n    const subNode = move(targetIndex, currentNode.blankTargetIndex, currentNode.state);\r\n    return new Node(subNode.state, subNode.blankTargetIndex, currentNode);\r\n}\r\n\r\n/**\r\n * baffle the blocks.\r\n * @param times {number} the times.\r\n * @param speed {number} the speed of the block when moving. (ms)\r\n * @param resolve {function} promise resolve\r\n * @return {function}\r\n */\r\nexport function randomlySelectAndMoveAsync(times, speed, resolve) {\r\n    times--;\r\n    /**\r\n     * randomly move the blank block\r\n     * @param preTargetIndex {number} the index of element that will be ignore in the next randomly move.\r\n     * @param blankTargetIndex {number} the blank object in the map.\r\n     * @param map {Array} the state.\r\n     * @param updater {function} update the view if called.\r\n     */\r\n    function randomlyMove(preTargetIndex, blankTargetIndex, map, updater) {\r\n        const targetIndex = getSample(getNeighboursIndex(blankTargetIndex).filter(index => index !== preTargetIndex));\r\n        const nextDescriptor = move(targetIndex, blankTargetIndex, map);\r\n        updater(nextDescriptor.state);\r\n\r\n        if (times) {\r\n            setTimeout(() => {\r\n                times--;\r\n                randomlyMove(blankTargetIndex, nextDescriptor.blankTargetIndex, nextDescriptor.state, updater);\r\n            }, speed);\r\n        } else {\r\n            resolve(nextDescriptor);\r\n        }\r\n    }\r\n\r\n    return randomlyMove;\r\n}\r\n\r\n/**\r\n * Update the view according nextBlankTargetIndex the descriptor.\r\n * @param nextState\r\n */\r\nexport function update(nextState) {\r\n    const patches = diff(nextState, this.blockMap);\r\n    render(patches, nextState);\r\n    this.blockMap = nextState;\r\n}\r\n\r\n/**\r\n *\r\n * @param targetIndex {number}\r\n * @param map\r\n * @return {Array}\r\n */\r\nexport function getNeighbours(targetIndex, map) {\r\n    return [\r\n        {X: 0, Y: -1}, // up\r\n        {X: 1, Y: 0}, // right\r\n        {X: 0, Y: 1}, // down\r\n        {X: -1, Y: 0} // left\r\n    ].map(offset => ({\r\n        X: targetIndex % 4 + offset.X,\r\n        Y: Math.floor(targetIndex / 4) + offset.Y\r\n    })).filter(position => (\r\n        position.X >= 0 && position.X < 4 &&\r\n        position.Y >= 0 && position.Y < 4\r\n    )).map(position => map[position.X + position.Y * 4]);\r\n}\r\n\r\nexport function getNeighboursIndex(targetIndex) {\r\n    return [\r\n        {X: 0, Y: -1}, // up\r\n        {X: 1, Y: 0}, // right\r\n        {X: 0, Y: 1}, // down\r\n        {X: -1, Y: 0} // left\r\n    ].map(offset => ({\r\n        X: targetIndex % 4 + offset.X,\r\n        Y: Math.floor(targetIndex / 4) + offset.Y\r\n    })).filter(position => (\r\n        position.X >= 0 && position.X < 4 &&\r\n        position.Y >= 0 && position.Y < 4\r\n    )).map(position => position.Y * 4 + position.X);\r\n}\r\n\r\nexport function getterFactory(map, selector) {\r\n    return target => map.map(selector).findIndex(object => object === target);\r\n}\r\n\r\nexport function getSample(array) {\r\n    return array[getRandomInt(0, array.length - 1)];\r\n}\r\n\r\n/***********************************************************\r\n Private Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n * Show the difference between the new map and the old map.\r\n * @param newMap {Array}\r\n * @param oldMap {Array}\r\n * @return {Array} tokens.\r\n */\r\nfunction diff(newMap, oldMap) {\r\n    const tokens = [];\r\n    newMap.forEach((newObject, index) => {\r\n        const oldObject = oldMap[index];\r\n        if (newObject.correctIndex !== oldObject.correctIndex) {\r\n            tokens.push({\r\n                before: oldObject.correctIndex,\r\n                after: newObject.correctIndex,\r\n                index\r\n            });\r\n        }\r\n    });\r\n    return tokens;\r\n}\r\n\r\nfunction render(patches, map) {\r\n    patches.forEach(patch => {\r\n        const target = map[patch.index].element;\r\n        target.className = target.className.replace(/order-\\d*/, `order-${patch.index}`);\r\n    });\r\n}\r\n\r\nexport function showSolutionAsync(path, updater, resolve) {\r\n    if (path.length) {\r\n        updater(path.pop().state);\r\n        setTimeout(() => {\r\n            showSolutionAsync(path, updater, resolve);\r\n        }, 120);\r\n    } else {\r\n        resolve(path);\r\n    }\r\n}\r\n\r\nexport function drawCanvas(canvasContextArray, image) {\r\n    canvasContextArray.forEach((ctx, index) => {\r\n        ctx.drawImage(image,\r\n            (index % 4) * (image.width / 4), Math.floor(index / 4) * (image.height / 4),\r\n            (image.width / 4), (image.height / 4),\r\n            0, 0, 100, 100\r\n        );\r\n    });\r\n    const last = canvasContextArray[canvasContextArray.length - 1];\r\n    last.fillStyle = 'rgba(120, 120, 120, 0.7)';\r\n    last.fillRect(0, 0, 100, 100);\r\n}\r\n\r\nexport function mix(model, blankElement, updater, selector) {\r\n    const getElementIndex = getterFactory(model.blockMap, selector);\r\n    const targetIndex = [\r\n        blankElement,\r\n        getElementIndex,\r\n        getNeighboursIndex,\r\n        getSample\r\n    ].reduce((value, wrapper) => wrapper(value));\r\n    return new Promise((resolve, reject) => {\r\n        model.isRunning = true;\r\n        randomlySelectAndMoveAsync(model.stepNumber, 120, resolve)(\r\n            targetIndex, getElementIndex(blankElement), model.blockMap, updater\r\n        );\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper.js\n **/","'use strict';\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","'use strict';\r\n\r\nimport {selectNumber} from './selector.js';\r\n\r\nexport class Node {\r\n    /**\r\n     *\r\n     * @param state {Array}\r\n     * @param blankTargetIndex {Number}\r\n     * @param parentNode {Node}\r\n     */\r\n    constructor(state, blankTargetIndex, parentNode) {\r\n        this.state = state;\r\n        this.blankTargetIndex = blankTargetIndex;\r\n        this.parentNode = parentNode;\r\n        this.depth = parentNode !== null ? parentNode.depth + 1 : 0;\r\n        this.h = this.state\r\n            .map(selectNumber)\r\n            .map((number, index) => Math.abs(number % 4 - index % 4) + Math.abs(number >> 2 - index >> 2))\r\n            .reduce((left, right) => left + right, 0);\r\n    }\r\n}\r\n\r\nexport class PriorityQueue extends Array {\r\n    constructor(compare) {\r\n        super();\r\n        this.push(null);\r\n        this.compare = compare;\r\n\r\n        /**\r\n         * push\r\n         * @param item {*}\r\n         */\r\n        this.enqueue = function (item) {\r\n            this.push(item);\r\n\r\n            let currentIndex = this.length - 1;\r\n            while (currentIndex > 1) {\r\n                const parentIndex = currentIndex >> 1;\r\n                if (this.compare(this[currentIndex], this[parentIndex]) < 0) {\r\n                    swap(this, parentIndex, currentIndex);\r\n                } else {\r\n                    break;\r\n                }\r\n                currentIndex = parentIndex;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Pop\r\n         * @return {*}\r\n         */\r\n        this.dequeue = function () {\r\n            const TopItem = this[1];\r\n            this[1] = this.pop();\r\n            if (this.length === 2) {\r\n                this.pop();\r\n            }\r\n\r\n            const Q = [1];\r\n            while (Q.length) {\r\n                const parentIndex = Q.shift();\r\n                let minChildIndex = parentIndex;\r\n\r\n\r\n                const childIndexArray = [parentIndex << 1, (parentIndex << 1) | 1];\r\n                childIndexArray.filter(childIndex => {\r\n                    return childIndex < this.length;\r\n                }).forEach(childIndex => {\r\n                    if (this.compare(this[childIndex], this[minChildIndex]) < 0) {\r\n                        minChildIndex = childIndex;\r\n                    }\r\n                });\r\n\r\n                if (parentIndex !== minChildIndex) {\r\n                    swap(this, parentIndex, minChildIndex);\r\n                    Q.push(minChildIndex);\r\n                }\r\n            }\r\n            return TopItem;\r\n        };\r\n\r\n        /**\r\n         * is empty?\r\n         * @return {boolean}\r\n         */\r\n        this.empty = function () {\r\n            return this.length <= 1;\r\n        }\r\n    }\r\n}\r\n\r\nfunction swap(array, leftIndex, rightIndex) {\r\n    const temp = array[leftIndex];\r\n    array[leftIndex] = array[rightIndex];\r\n    array[rightIndex] = temp;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/data-structure.js\n **/","'use strict';\r\n\r\nexport const selectElement = o => o.element;\r\nexport const selectNumber = o => o.correctIndex;\r\nexport const selectOriginal = o => o;\n\n\n/** WEBPACK FOOTER **\n ** ./src/selector.js\n **/","'use strict';\r\n\r\n/**\r\n * The State constant of the game.\r\n * @type {{Unstarted: string, Pending: string, Win: string, Lose: string, Over: string}}\r\n */\r\nexport const Type = {\r\n    Unstarted: 'UNSTARTED',\r\n    Pending: 'PENDING',\r\n    Win: 'WIN',\r\n    Lose: 'LOSE',\r\n    Over: 'OVER',\r\n};\r\n\r\nexport const Img = [\r\n    {\r\n        name: 'panda',\r\n        url: {\r\n            img: './img/panda.jpg',\r\n            bg: './img/bg_gfpanda.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'overwatch',\r\n        url: {\r\n            img: './img/img_overwatch.jpg',\r\n            bg: './img/bg_overwatch.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'zootopia',\r\n        url: {\r\n            img: './img/img_zootopia.jpeg',\r\n            bg: './img/bg_zootopia.jpeg'\r\n        }\r\n    },\r\n    {\r\n        name: 'baymax',\r\n        url: {\r\n            img: './img/img_baymax.jpg',\r\n            bg: './img/bg_baymax.jpg'\r\n        }\r\n    }\r\n];\n\n\n/** WEBPACK FOOTER **\n ** ./src/type.js\n **/","'use strict';\r\n\r\nimport {PriorityQueue} from './data-structure.js';\r\nimport {selectNumber} from './selector.js';\r\nimport {search, getNeighboursIndex} from './helper.js';\r\n\r\n/**\r\n * A* Algorithm\r\n * based on BFS with a function f to give an standard to choice\r\n * which node is the best when getting next state.\r\n * @param rootNode {Node} the root node. (Current State)\r\n * @return {undefined|Node} the last node\r\n */\r\nexport function AStar(rootNode) {\r\n    const PQ = new PriorityQueue((left, right) => {\r\n        return 5 * (left.h - right.h) + left.depth - right.depth;\r\n    });\r\n    PQ.enqueue(rootNode);\r\n    const S = new Set();\r\n    console.time('AStar算法用时');\r\n    while (!PQ.empty()) {\r\n        const currentNode = PQ.dequeue();\r\n        if (currentNode.state.map(selectNumber).every((object, index) => object === index)) {\r\n            console.timeEnd('AStar算法用时');\r\n            return currentNode;\r\n        }\r\n\r\n        const neighbours = getNeighboursIndex(currentNode.blankTargetIndex);\r\n        neighbours.forEach(targetIndex => {\r\n            const nextNode = search(targetIndex, currentNode);\r\n            const signature = nextNode.state.map(selectNumber).toString();\r\n            if (!S.has(signature)) {\r\n                PQ.enqueue(nextNode);\r\n                S.add(signature);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Iterative Deepening A*\r\n * @param rootNode {Node}\r\n * @return {*}\r\n * @constructor\r\n */\r\nexport function IDAStar(rootNode) {\r\n    const Stack = [rootNode];\r\n    let bound = rootNode.h;\r\n    console.time('IDAStar');\r\n    while (bound) {\r\n        while (Stack.length) {\r\n            const currentNode = Stack.pop();\r\n            if (currentNode.state.map(selectNumber).every((object, index) => object === index)) {\r\n                console.timeEnd('IDAStar');\r\n                return currentNode;\r\n            }\r\n\r\n            const neighbours = getNeighboursIndex(currentNode.blankTargetIndex);\r\n            neighbours.forEach(targetIndex => {\r\n                const nextNode = search(targetIndex, currentNode);\r\n                const cost = nextNode.h + nextNode.depth;\r\n                if (cost <= bound) {\r\n                    Stack.push(nextNode);\r\n                    console.log(Stack);\r\n                }\r\n            });\r\n        }\r\n        Stack.push(rootNode);\r\n        bound++;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/algorithm.js\n **/"],"sourceRoot":""}
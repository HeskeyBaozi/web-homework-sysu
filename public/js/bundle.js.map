{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 9b42ac973c9fb07a9f3c","webpack:///./src/index.js","webpack:///./src/data-structure.js","webpack:///./src/selector.js","webpack:///./src/helper.js","webpack:///./src/myModel/observer/dependency.js","webpack:///./src/myModel/observer/watcher.js","webpack:///./src/algorithm.js","webpack:///./src/myModel/compiler.js","webpack:///./src/myModel/index.js","webpack:///./src/myModel/observer/array.js","webpack:///./src/myModel/observer/index.js","webpack:///./src/myQuery/helper.js","webpack:///./src/myQuery/index.js","webpack:///./src/type.js","webpack:///./src/util.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_index","_index2","_index3","_index4","_helper","_dataStructure","_type","_selector","_algorithm","model","target","data","imgUrl","blockMap","Array","from","document","querySelectorAll","map","element","index","correctIndex","startButton","gameState","Type","Unstarted","isRunning","isWinner","time","count","message","stepNumber","cache","blankElement","querySelector","loadingElement","btnElement","selectorsElement","updater","update","bind","$watch","newValue","oldValue","img","Image","ctxArray","this","object","getContext","src","onload","drawCanvas","_this","Pending","classList","add","timeUid","setInterval","clearInterval","remove","on","e","preventDefault","getIndex","getterFactory","selectElement","nextDescriptor","move","state","every","mix","then","Promise","resolve","reject","setTimeout","AStar","Node","result","path","parentNode","push","showSolutionAsync","currentImg","Img","find","imageInfo","name","url","console","log","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","swap","array","leftIndex","rightIndex","temp","defineProperty","PriorityQueue","undefined","blankTargetIndex","depth","h","selectNumber","number","Math","abs","floor","reduce","left","right","_Array","compare","getPrototypeOf","enqueue","item","currentIndex","length","parentIndex","dequeue","_this2","TopItem","pop","Q","_loop","shift","minChildIndex","childIndexArray","filter","childIndex","forEach","empty","o","selectOriginal","targetIndex","getNeighboursIndex","some","neighboursIndex","nextMap","slice","_ref","parentState","search","currentNode","subNode","randomlySelectAndMoveAsync","times","speed","randomlyMove","preTargetIndex","getSample","nextState","patches","diff","render","getNeighbours","X","Y","offset","position","selector","findIndex","_util","getRandomInt","newMap","oldMap","tokens","newObject","oldObject","before","after","patch","className","replace","canvasContextArray","image","ctx","drawImage","width","height","last","fillStyle","fillRect","getElementIndex","wrapper","pushTarget","_target","Dependency","targetStack","popTarget","_createClass","defineProperties","props","i","descriptor","key","protoProps","staticProps","uid","subs","sub","addDependency","getGetter","expOrFn","getter","Function","warn","_typeof","Symbol","iterator","_dependency","Watcher","callback","newDepIds","Set","newDeps","_getter","get","dep","has","addSub","run","rootNode","PQ","S","timeEnd","v","neighbours","nextNode","signature","toString","_ret","IDAStar","Stack","bound","_loop2","cost","_ret2","compile","nodeList","childNodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","node","nodeType","compileTextNode","err","textNode","parseText","textContent","frag","createDocumentFragment","ele","expression","createTextNode","_watcher","_watchers","_watcher2","appendChild","replaceChild","text","tagRE","test","lastIndex","match","exec","exp","proxy","_data","set","newVal","_compiler","Model","options","arguments","keys","observe","watcher","observeNewItems","methodName","args","observer","inserted","observeArray","arrayMethods","original","apply","notify","ob","hasOwnProperty","Observer","isExtensible","defineReactive","val","_dependency2","childObserver","depend","isArray","augment","_array","walk","items","EventName","isCapture","addEventListener","toLowerCase","addClass","removeClass","RegExp","split","join","hasClass","contains","newText","addClassTemp","klass","DOMSelector","HzyElement","Element","el","Win","Lose","Over","bg","min","max","random"],"mappings":"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","file":"bundle.js","sourcesContent":["/*!\n * web-homework-sysu 0.0.0 - Modern Web Programming HomeWork - SYSU\n * Copyright (c) 2016 He Zhiyu - https://github.com/HeskeyBaozi/web-homework-sysu#readme\n * License: MIT\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _index = __webpack_require__(8);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _index3 = __webpack_require__(12);\n\t\n\tvar _index4 = _interopRequireDefault(_index3);\n\t\n\tvar _helper = __webpack_require__(3);\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _type = __webpack_require__(13);\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tvar _algorithm = __webpack_require__(6);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t *           That's Me!\r\n\t *              ↓ ↓\r\n\t * View <==> View-Model <==> Model\r\n\t */\n\tvar model = new _index2.default({\n\t    target: '.container',\n\t    data: {\n\t        imgUrl: '',\n\t        blockMap: Array.from(document.querySelectorAll('.block')).map(function (element, index) {\n\t            return { element: element, correctIndex: index };\n\t        }),\n\t        startButton: 'Start!',\n\t        gameState: _type.Type.Unstarted,\n\t        isRunning: false,\n\t        isWinner: false,\n\t        time: 0,\n\t        count: 0,\n\t        message: 'Welcome to play the Puzzle!!',\n\t        stepNumber: 20\n\t    }\n\t});\n\t\n\tvar cache = {\n\t    blankElement: document.querySelector('#blk-15'),\n\t    loadingElement: document.querySelector('#loading'),\n\t    btnElement: document.querySelector('#start'),\n\t    selectorsElement: document.querySelector('.img-groups'),\n\t    updater: _helper.update.bind(model)\n\t};\n\t\n\t/****************************************************************\r\n\t View-Callbacks\r\n\t 1. watch the variable of the model.\r\n\t 2. call the callback when the variable change.\r\n\t 3. then update the view by operating on the DOM node.\r\n\t ****************************************************************/\n\t\n\t/**\r\n\t * change the image.\r\n\t */\n\tmodel.$watch('imgUrl', function (newValue, oldValue) {\n\t    var img = new Image();\n\t    var ctxArray = this.blockMap.map(function (object) {\n\t        return object.element.getContext('2d');\n\t    });\n\t    img.src = newValue;\n\t    img.onload = function () {\n\t        (0, _helper.drawCanvas)(ctxArray, img);\n\t    };\n\t});\n\t\n\t/**\r\n\t * use the default image: KongFu Panda.\r\n\t * @type {string}\r\n\t */\n\tmodel.imgUrl = './img/panda.jpg';\n\t\n\t/**\r\n\t * be reactive to the state of the game.\r\n\t */\n\tmodel.$watch('gameState', function (newValue, oldValue) {\n\t    var _this = this;\n\t\n\t    (function () {\n\t        switch (newValue) {\n\t            /**\r\n\t             * When the game starts...\r\n\t             */\n\t            case _type.Type.Pending:\n\t                _this.time = 0;\n\t                _this.count = 0;\n\t                _this.isWinner = false;\n\t                _this.message = 'Game Starting...';\n\t                cache.selectorsElement.classList.add('no-see');\n\t                var timeUid = setInterval(function () {\n\t                    if (_this.gameState === _type.Type.Pending) {\n\t                        _this.time++;\n\t                    } else clearInterval(timeUid);\n\t                }, 1000);\n\t                break;\n\t        }\n\t    })();\n\t\n\t    switch (oldValue) {\n\t        /**\r\n\t         * When the game over or give up.\r\n\t         */\n\t        case _type.Type.Pending:\n\t            this.message = (this.isWinner ? 'Congratulations!' : 'Try your best.') + ' Time:' + this.time + ', Count:' + this.count;\n\t            if (this.isWinner) {\n\t                this.startButton = 'Start!';\n\t                cache.selectorsElement.classList.remove('no-see');\n\t            }\n\t            this.time = 0;\n\t            this.count = 0;\n\t            break;\n\t    }\n\t});\n\t\n\t/**\r\n\t * watch the block moving. update the style.\r\n\t */\n\tmodel.$watch('isRunning', function (isRunning) {\n\t    if (isRunning) {\n\t        cache.btnElement.classList.add('disable-click');\n\t        cache.selectorsElement.classList.add('no-see');\n\t    } else {\n\t        cache.btnElement.classList.remove('disable-click');\n\t    }\n\t});\n\t\n\t/****************************************************************\r\n\t Event Handler\r\n\t ****************************************************************/\n\t\n\t/**\r\n\t * Move the block when it was clicked\r\n\t * if it is near the blank Block.\r\n\t */\n\t(0, _index4.default)('.playground').on('click', function (e) {\n\t    e.preventDefault();\n\t    var getIndex = (0, _helper.getterFactory)(model.blockMap, _selector.selectElement);\n\t    var nextDescriptor = (0, _helper.move)(getIndex(e.target), getIndex(cache.blankElement), model.blockMap);\n\t    if (!nextDescriptor) return;\n\t    _helper.update.call(model, nextDescriptor.state);\n\t    if (model.blockMap.every(function (object, index) {\n\t        return object.correctIndex === index;\n\t    })) {\n\t        model.isWinner = true;\n\t        model.gameState = _type.Type.Unstarted;\n\t    }\n\t    if (model.gameState === _type.Type.Pending) {\n\t        model.count++;\n\t    }\n\t});\n\t\n\t(0, _index4.default)('#start').on('click', function (e) {\n\t    e.preventDefault();\n\t    /**\r\n\t     * refuse when the animate running.\r\n\t     */\n\t    if (model.isRunning) {\n\t        return;\n\t    }\n\t    switch (model.gameState) {\n\t        case _type.Type.Unstarted:\n\t            /**\r\n\t             * Mix the puzzle.\r\n\t             * @type {string}\r\n\t             */\n\t            model.startButton = 'Mixing...';\n\t            (0, _helper.mix)(model, cache.blankElement, cache.updater, _selector.selectElement).then(function () {\n\t                model.isRunning = false;\n\t                model.startButton = 'Give Up : (';\n\t                model.gameState = _type.Type.Pending;\n\t            });\n\t            break;\n\t\n\t        case _type.Type.Pending:\n\t            new Promise(function (resolve, reject) {\n\t                model.gameState = _type.Type.Unstarted;\n\t                model.startButton = 'Getting Solution...';\n\t                cache.loadingElement.classList.remove('disable-see');\n\t                var getIndex = (0, _helper.getterFactory)(model.blockMap, _selector.selectElement);\n\t                setTimeout(function () {\n\t                    /**\r\n\t                     * Use Algorithm to solve the problem.\r\n\t                     */\n\t                    resolve((0, _algorithm.AStar)(new _dataStructure.Node(model.blockMap, getIndex(cache.blankElement), null)));\n\t                }, 20);\n\t            }).then(function (result) {\n\t                /**\r\n\t                 * Display the Solution.\r\n\t                 */\n\t                var path = [];\n\t                var target = result;\n\t                while (target.parentNode) {\n\t                    path.push(target);\n\t                    target = target.parentNode;\n\t                }\n\t\n\t                return new Promise(function (resolve, reject) {\n\t                    model.isRunning = true;\n\t                    cache.loadingElement.classList.add('disable-see');\n\t                    model.startButton = 'Recovering...';\n\t                    (0, _helper.showSolutionAsync)(path, cache.updater, resolve);\n\t                });\n\t            }).then(function () {\n\t                cache.selectorsElement.classList.remove('no-see');\n\t                model.startButton = 'Try Again! : )';\n\t                model.isRunning = false;\n\t            });\n\t            break;\n\t    }\n\t});\n\t\n\t/**\r\n\t * the image switcher.\r\n\t */\n\t(0, _index4.default)('.img-groups').on('click', function (e) {\n\t    e.preventDefault();\n\t    if (model.gameState === _type.Type.Unstarted) {\n\t        var currentImg = _type.Img.find(function (imageInfo) {\n\t            return imageInfo.name === e.target.id;\n\t        });\n\t        model.imgUrl = currentImg.url.img;\n\t    }\n\t});\n\t\n\tconsole.log(model);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.PriorityQueue = exports.Node = undefined;\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Node =\n\t/**\r\n\t *\r\n\t * @param state {Array}\r\n\t * @param blankTargetIndex {Number}\r\n\t * @param parentNode {Node}\r\n\t */\n\texports.Node = function Node(state, blankTargetIndex, parentNode) {\n\t    _classCallCheck(this, Node);\n\t\n\t    this.state = state;\n\t    this.blankTargetIndex = blankTargetIndex;\n\t    this.parentNode = parentNode;\n\t    this.depth = parentNode !== null ? parentNode.depth + 1 : 0;\n\t    this.h = this.state.map(_selector.selectNumber).map(function (number, index) {\n\t        return Math.abs(number % 4 - index % 4) + Math.abs(Math.floor(number / 4) - Math.floor(index / 4));\n\t    }).reduce(function (left, right) {\n\t        return left + right;\n\t    }, 0);\n\t};\n\t\n\tvar PriorityQueue = exports.PriorityQueue = function (_Array) {\n\t    _inherits(PriorityQueue, _Array);\n\t\n\t    function PriorityQueue(compare) {\n\t        _classCallCheck(this, PriorityQueue);\n\t\n\t        var _this = _possibleConstructorReturn(this, (PriorityQueue.__proto__ || Object.getPrototypeOf(PriorityQueue)).call(this));\n\t\n\t        _this.push(null);\n\t        _this.compare = compare;\n\t\n\t        /**\r\n\t         * push\r\n\t         * @param item {*}\r\n\t         */\n\t        _this.enqueue = function (item) {\n\t            this.push(item);\n\t\n\t            var currentIndex = this.length - 1;\n\t            while (currentIndex > 1) {\n\t                var parentIndex = currentIndex >> 1;\n\t                if (this.compare(this[currentIndex], this[parentIndex]) < 0) {\n\t                    swap(this, parentIndex, currentIndex);\n\t                } else {\n\t                    break;\n\t                }\n\t                currentIndex = parentIndex;\n\t            }\n\t        };\n\t\n\t        /**\r\n\t         * Pop\r\n\t         * @return {*}\r\n\t         */\n\t        _this.dequeue = function () {\n\t            var _this2 = this;\n\t\n\t            var TopItem = this[1];\n\t            this[1] = this.pop();\n\t            if (this.length === 2) {\n\t                this.pop();\n\t            }\n\t\n\t            var Q = [1];\n\t\n\t            var _loop = function _loop() {\n\t                var parentIndex = Q.shift();\n\t                var minChildIndex = parentIndex;\n\t\n\t                var childIndexArray = [parentIndex << 1, parentIndex << 1 | 1];\n\t                childIndexArray.filter(function (childIndex) {\n\t                    return childIndex < _this2.length;\n\t                }).forEach(function (childIndex) {\n\t                    if (_this2.compare(_this2[childIndex], _this2[minChildIndex]) < 0) {\n\t                        minChildIndex = childIndex;\n\t                    }\n\t                });\n\t\n\t                if (parentIndex !== minChildIndex) {\n\t                    swap(_this2, parentIndex, minChildIndex);\n\t                    Q.push(minChildIndex);\n\t                }\n\t            };\n\t\n\t            while (Q.length) {\n\t                _loop();\n\t            }\n\t            return TopItem;\n\t        };\n\t\n\t        /**\r\n\t         * is empty?\r\n\t         * @return {boolean}\r\n\t         */\n\t        _this.empty = function () {\n\t            return this.length <= 1;\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    return PriorityQueue;\n\t}(Array);\n\t\n\tfunction swap(array, leftIndex, rightIndex) {\n\t    var temp = array[leftIndex];\n\t    array[leftIndex] = array[rightIndex];\n\t    array[rightIndex] = temp;\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar selectElement = exports.selectElement = function selectElement(o) {\n\t  return o.element;\n\t};\n\tvar selectNumber = exports.selectNumber = function selectNumber(o) {\n\t  return o.correctIndex;\n\t};\n\tvar selectOriginal = exports.selectOriginal = function selectOriginal(o) {\n\t  return o;\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.move = move;\n\texports.search = search;\n\texports.randomlySelectAndMoveAsync = randomlySelectAndMoveAsync;\n\texports.update = update;\n\texports.getNeighbours = getNeighbours;\n\texports.getNeighboursIndex = getNeighboursIndex;\n\texports.getterFactory = getterFactory;\n\texports.getSample = getSample;\n\texports.showSolutionAsync = showSolutionAsync;\n\texports.drawCanvas = drawCanvas;\n\texports.mix = mix;\n\t\n\tvar _util = __webpack_require__(14);\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\t/***********************************************************\r\n\t Public Helper Function\r\n\t ***********************************************************/\n\t\n\t/**\r\n\t *\r\n\t * @param targetIndex {number}\r\n\t * @param blankTargetIndex {number}\r\n\t * @param map {{element:Element,correctIndex:number}[] | number[]}\r\n\t * @return {Node}\r\n\t */\n\tfunction move(targetIndex, blankTargetIndex, map) {\n\t    if (getNeighboursIndex(targetIndex).some(function (neighboursIndex) {\n\t        return neighboursIndex === blankTargetIndex;\n\t    })) {\n\t        var nextMap = map.slice();\n\t        var _ref = [map[blankTargetIndex], map[targetIndex]];\n\t        nextMap[targetIndex] = _ref[0];\n\t        nextMap[blankTargetIndex] = _ref[1];\n\t\n\t        return {\n\t            state: nextMap,\n\t            blankTargetIndex: targetIndex,\n\t            parentState: map\n\t        };\n\t    }\n\t}\n\t\n\tfunction search(targetIndex, currentNode) {\n\t    var subNode = move(targetIndex, currentNode.blankTargetIndex, currentNode.state);\n\t    return new _dataStructure.Node(subNode.state, subNode.blankTargetIndex, currentNode);\n\t}\n\t\n\t/**\r\n\t * baffle the blocks.\r\n\t * @param times {number} the times.\r\n\t * @param speed {number} the speed of the block when moving. (ms)\r\n\t * @param resolve {function} promise resolve\r\n\t * @return {function}\r\n\t */\n\tfunction randomlySelectAndMoveAsync(times, speed, resolve) {\n\t    times--;\n\t    /**\r\n\t     * randomly move the blank block\r\n\t     * @param preTargetIndex {number} the index of element that will be ignore in the next randomly move.\r\n\t     * @param blankTargetIndex {number} the blank object in the map.\r\n\t     * @param map {Array} the state.\r\n\t     * @param updater {function} update the view if called.\r\n\t     */\n\t    function randomlyMove(preTargetIndex, blankTargetIndex, map, updater) {\n\t        var targetIndex = getSample(getNeighboursIndex(blankTargetIndex).filter(function (index) {\n\t            return index !== preTargetIndex;\n\t        }));\n\t        var nextDescriptor = move(targetIndex, blankTargetIndex, map);\n\t        updater(nextDescriptor.state);\n\t\n\t        if (times) {\n\t            setTimeout(function () {\n\t                times--;\n\t                randomlyMove(blankTargetIndex, nextDescriptor.blankTargetIndex, nextDescriptor.state, updater);\n\t            }, speed);\n\t        } else {\n\t            resolve(nextDescriptor);\n\t        }\n\t    }\n\t\n\t    return randomlyMove;\n\t}\n\t\n\t/**\r\n\t * Update the view according nextBlankTargetIndex the descriptor.\r\n\t * @param nextState\r\n\t */\n\tfunction update(nextState) {\n\t    var patches = diff(nextState, this.blockMap);\n\t    render(patches, nextState);\n\t    this.blockMap = nextState;\n\t}\n\t\n\t/**\r\n\t *\r\n\t * @param targetIndex {number}\r\n\t * @param map\r\n\t * @return {Array}\r\n\t */\n\tfunction getNeighbours(targetIndex, map) {\n\t    return [{ X: 0, Y: -1 }, // up\n\t    { X: 1, Y: 0 }, // right\n\t    { X: 0, Y: 1 }, // down\n\t    { X: -1, Y: 0 } // left\n\t    ].map(function (offset) {\n\t        return {\n\t            X: targetIndex % 4 + offset.X,\n\t            Y: Math.floor(targetIndex / 4) + offset.Y\n\t        };\n\t    }).filter(function (position) {\n\t        return position.X >= 0 && position.X < 4 && position.Y >= 0 && position.Y < 4;\n\t    }).map(function (position) {\n\t        return map[position.X + position.Y * 4];\n\t    });\n\t}\n\t\n\tfunction getNeighboursIndex(targetIndex) {\n\t    return [{ X: 0, Y: -1 }, // up\n\t    { X: 1, Y: 0 }, // right\n\t    { X: 0, Y: 1 }, // down\n\t    { X: -1, Y: 0 } // left\n\t    ].map(function (offset) {\n\t        return {\n\t            X: targetIndex % 4 + offset.X,\n\t            Y: Math.floor(targetIndex / 4) + offset.Y\n\t        };\n\t    }).filter(function (position) {\n\t        return position.X >= 0 && position.X < 4 && position.Y >= 0 && position.Y < 4;\n\t    }).map(function (position) {\n\t        return position.Y * 4 + position.X;\n\t    });\n\t}\n\t\n\tfunction getterFactory(map, selector) {\n\t    return function (target) {\n\t        return map.map(selector).findIndex(function (object) {\n\t            return object === target;\n\t        });\n\t    };\n\t}\n\t\n\tfunction getSample(array) {\n\t    return array[(0, _util.getRandomInt)(0, array.length - 1)];\n\t}\n\t\n\t/***********************************************************\r\n\t Private Helper Function\r\n\t ***********************************************************/\n\t\n\t/**\r\n\t * Show the difference between the new map and the old map.\r\n\t * @param newMap {Array}\r\n\t * @param oldMap {Array}\r\n\t * @return {Array} tokens.\r\n\t */\n\tfunction diff(newMap, oldMap) {\n\t    var tokens = [];\n\t    newMap.forEach(function (newObject, index) {\n\t        var oldObject = oldMap[index];\n\t        if (newObject.correctIndex !== oldObject.correctIndex) {\n\t            tokens.push({\n\t                before: oldObject.correctIndex,\n\t                after: newObject.correctIndex,\n\t                index: index\n\t            });\n\t        }\n\t    });\n\t    return tokens;\n\t}\n\t\n\tfunction render(patches, map) {\n\t    patches.forEach(function (patch) {\n\t        var target = map[patch.index].element;\n\t        target.className = target.className.replace(/order-\\d*/, 'order-' + patch.index);\n\t    });\n\t}\n\t\n\tfunction showSolutionAsync(path, updater, resolve) {\n\t    if (path.length) {\n\t        updater(path.pop().state);\n\t        setTimeout(function () {\n\t            showSolutionAsync(path, updater, resolve);\n\t        }, 120);\n\t    } else {\n\t        resolve(path);\n\t    }\n\t}\n\t\n\tfunction drawCanvas(canvasContextArray, image) {\n\t    canvasContextArray.forEach(function (ctx, index) {\n\t        ctx.drawImage(image, index % 4 * (image.width / 4), Math.floor(index / 4) * (image.height / 4), image.width / 4, image.height / 4, 0, 0, 100, 100);\n\t    });\n\t    var last = canvasContextArray[canvasContextArray.length - 1];\n\t    last.fillStyle = 'rgba(120, 120, 120, 0.7)';\n\t    last.fillRect(0, 0, 100, 100);\n\t}\n\t\n\tfunction mix(model, blankElement, updater, selector) {\n\t    var getElementIndex = getterFactory(model.blockMap, selector);\n\t    var targetIndex = [blankElement, getElementIndex, getNeighboursIndex, getSample].reduce(function (value, wrapper) {\n\t        return wrapper(value);\n\t    });\n\t    return new Promise(function (resolve, reject) {\n\t        model.isRunning = true;\n\t        randomlySelectAndMoveAsync(model.stepNumber, 120, resolve)(targetIndex, getElementIndex(blankElement), model.blockMap, updater);\n\t    });\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.pushTarget = pushTarget;\n\texports.popTarget = popTarget;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar uid = 0;\n\t\n\t/**\r\n\t * 订阅者模式\r\n\t */\n\t\n\tvar Dependency = function () {\n\t    function Dependency() {\n\t        _classCallCheck(this, Dependency);\n\t\n\t        this.id = uid++;\n\t        this.subs = [];\n\t    }\n\t\n\t    _createClass(Dependency, [{\n\t        key: 'addSub',\n\t        value: function addSub(sub) {\n\t            this.subs.push(sub);\n\t        }\n\t\n\t        /**\r\n\t         * 通知依赖\r\n\t         * 这样Watcher就可以知道所维护的值需要依赖于哪些Model里面的其他值\r\n\t         */\n\t\n\t    }, {\n\t        key: 'depend',\n\t        value: function depend() {\n\t            if (Dependency.target) {\n\t                Dependency.target.addDependency(this);\n\t            }\n\t        }\n\t\n\t        /**\r\n\t         * 广播更新\r\n\t         */\n\t\n\t    }, {\n\t        key: 'notify',\n\t        value: function notify() {\n\t            var subs = this.subs.slice();\n\t            subs.forEach(function (sub) {\n\t                sub.update();\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Dependency;\n\t}();\n\t\n\t/**\r\n\t * 该依赖的全局监视者\r\n\t */\n\t\n\t\n\texports.default = Dependency;\n\tDependency.target = null;\n\t\n\tvar targetStack = [];\n\t\n\t/**\r\n\t * 全局每次更新只能有一个监视者更新, 使用栈维护\r\n\t * @param _target {Watcher}\r\n\t */\n\tfunction pushTarget(_target) {\n\t    if (Dependency.target) targetStack.push(Dependency.target);\n\t    Dependency.target = _target;\n\t}\n\t\n\tfunction popTarget() {\n\t    Dependency.target = targetStack.pop();\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.getGetter = getGetter;\n\t\n\tvar _dependency = __webpack_require__(4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Watcher will call the callback when the value of the expression changes!\r\n\t */\n\tvar Watcher = function () {\n\t    /**\r\n\t     * @constructor\r\n\t     * @param model {model}\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t    function Watcher(model, expOrFn, callback) {\n\t        _classCallCheck(this, Watcher);\n\t\n\t        this.callback = callback;\n\t        this.model = model;\n\t\n\t        this.newDepIds = new Set();\n\t        this.newDeps = [];\n\t        this._getter = getGetter(expOrFn);\n\t        this.value = this.get();\n\t    }\n\t\n\t    /**\r\n\t     * get the value of the expression and collects the dep!\r\n\t     * @return {*}\r\n\t     */\n\t\n\t\n\t    _createClass(Watcher, [{\n\t        key: 'get',\n\t        value: function get() {\n\t            (0, _dependency.pushTarget)(this);\n\t            var value = this._getter.call(this.model, this.model); // collects the deps!\n\t            (0, _dependency.popTarget)();\n\t            return value;\n\t        }\n\t\n\t        /**\r\n\t         * add dependency for the watcher\r\n\t         * @param dep {Dependency}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'addDependency',\n\t        value: function addDependency(dep) {\n\t            var id = dep.id;\n\t            if (!this.newDepIds.has(id)) {\n\t                this.newDepIds.add(id);\n\t                this.newDeps.push(dep);\n\t                dep.addSub(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'update',\n\t        value: function update() {\n\t            this.run();\n\t            return this;\n\t        }\n\t\n\t        /**\r\n\t         * run the callback to update the value\r\n\t         */\n\t\n\t    }, {\n\t        key: 'run',\n\t        value: function run() {\n\t            var value = this.get();\n\t            if (value !== this.value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t                var oldValue = this.value;\n\t                this.value = value;\n\t                this.callback.call(this.model, value, oldValue);\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Watcher;\n\t}();\n\t\n\t/**\r\n\t * get the getter function of the expression after parsing.\r\n\t * @param expOrFn {string|Function}\r\n\t * @return {function}\r\n\t */\n\t\n\t\n\texports.default = Watcher;\n\tfunction getGetter(expOrFn) {\n\t    var getter = function getter() {\n\t        // do nothing..\n\t    };\n\t    if (typeof expOrFn === 'function') {\n\t        getter = expOrFn;\n\t    } else if (typeof expOrFn === 'string') {\n\t        getter = new Function('model', 'return model.' + expOrFn + ';');\n\t    } else {\n\t        console.warn(expOrFn + ' fail to parse!!');\n\t    }\n\t    return getter;\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\texports.AStar = AStar;\n\texports.IDAStar = IDAStar;\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tvar _helper = __webpack_require__(3);\n\t\n\t/**\r\n\t * A* Algorithm\r\n\t * based on BFS with a function f to give an standard to choice\r\n\t * which node is the best when getting next state.\r\n\t * @param rootNode {Node} the root node. (Current State)\r\n\t * @return {undefined|Node} the last node\r\n\t */\n\tfunction AStar(rootNode) {\n\t    var PQ = new _dataStructure.PriorityQueue(function (left, right) {\n\t        return 4 * left.h + left.depth - (4 * right.h + right.depth);\n\t    });\n\t    PQ.enqueue(rootNode);\n\t    var S = new Set();\n\t    console.time('AStar算法用时');\n\t\n\t    var _loop = function _loop() {\n\t        var currentNode = PQ.dequeue();\n\t        if (currentNode.state.map(_selector.selectNumber).every(function (object, index) {\n\t            return object === index;\n\t        })) {\n\t            console.timeEnd('AStar算法用时');\n\t            return {\n\t                v: currentNode\n\t            };\n\t        }\n\t\n\t        var neighbours = (0, _helper.getNeighboursIndex)(currentNode.blankTargetIndex);\n\t        neighbours.forEach(function (targetIndex) {\n\t            var nextNode = (0, _helper.search)(targetIndex, currentNode);\n\t            var signature = nextNode.state.map(_selector.selectNumber).toString();\n\t            if (!S.has(signature)) {\n\t                PQ.enqueue(nextNode);\n\t                S.add(signature);\n\t            }\n\t        });\n\t    };\n\t\n\t    while (!PQ.empty()) {\n\t        var _ret = _loop();\n\t\n\t        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t    }\n\t}\n\t\n\t/**\r\n\t * Iterative Deepening A*\r\n\t * @param rootNode {Node}\r\n\t * @return {*}\r\n\t * @constructor\r\n\t */\n\tfunction IDAStar(rootNode) {\n\t    var Stack = [rootNode];\n\t    var bound = rootNode.h;\n\t    console.time('IDAStar');\n\t    while (bound) {\n\t        var _loop2 = function _loop2() {\n\t            var currentNode = Stack.pop();\n\t            if (currentNode.state.map(_selector.selectNumber).every(function (object, index) {\n\t                return object === index;\n\t            })) {\n\t                console.timeEnd('IDAStar');\n\t                return {\n\t                    v: currentNode\n\t                };\n\t            }\n\t\n\t            var neighbours = (0, _helper.getNeighboursIndex)(currentNode.blankTargetIndex);\n\t            neighbours.forEach(function (targetIndex) {\n\t                var nextNode = (0, _helper.search)(targetIndex, currentNode);\n\t                var cost = nextNode.h + nextNode.depth;\n\t                if (cost <= bound) {\n\t                    Stack.push(nextNode);\n\t                    console.log(Stack);\n\t                }\n\t            });\n\t        };\n\t\n\t        while (Stack.length) {\n\t            var _ret2 = _loop2();\n\t\n\t            if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n\t        }\n\t        Stack.push(rootNode);\n\t        bound++;\n\t    }\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.compile = compile;\n\t\n\tvar _watcher = __webpack_require__(5);\n\t\n\tvar _watcher2 = _interopRequireDefault(_watcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction compile(element, model) {\n\t    var nodeList = element.childNodes;\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _iterator = nodeList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var node = _step.value;\n\t\n\t            if (node.nodeType === 3) {\n\t                compileTextNode(node, model);\n\t            } else if (node.nodeType === 1) {\n\t                compile(node, model);\n\t            }\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                _iterator.return();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\tvar tagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\n\t\n\tfunction compileTextNode(textNode, model) {\n\t    var tokens = parseText(textNode.textContent);\n\t    if (!tokens) return;\n\t    var frag = document.createDocumentFragment();\n\t    tokens.forEach(function (obj) {\n\t        var ele = void 0;\n\t        if (obj.expression) {\n\t            ele = document.createTextNode((0, _watcher.getGetter)(obj.expression)(model));\n\t            model._watchers.push(new _watcher2.default(model, obj.expression, function (newValue, oldValue) {\n\t                ele.textContent = newValue;\n\t            }));\n\t        } else {\n\t            ele = document.createTextNode(obj.value);\n\t        }\n\t        frag.appendChild(ele);\n\t    });\n\t\n\t    var parentNode = textNode.parentNode;\n\t    parentNode.replaceChild(frag, textNode);\n\t}\n\t\n\tfunction parseText(text) {\n\t    if (!tagRE.test(text)) return;\n\t\n\t    var tokens = [];\n\t    var lastIndex = tagRE.lastIndex = 0;\n\t    var match = void 0,\n\t        index = void 0;\n\t    while (match = tagRE.exec(text)) {\n\t        index = match.index;\n\t        // push text token\n\t        if (index > lastIndex) {\n\t            tokens.push({\n\t                value: text.slice(lastIndex, index)\n\t            });\n\t        }\n\t        // tag token\n\t        var exp = match[1];\n\t        tokens.push({\n\t            expression: exp,\n\t            value: exp\n\t        });\n\t        lastIndex = index + match[0].length;\n\t    }\n\t    if (lastIndex < text.length) {\n\t        tokens.push({\n\t            value: text.slice(lastIndex)\n\t        });\n\t    }\n\t    return tokens;\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * myModel is a very very very tiny MVVM lib.\r\n\t *\r\n\t * @Updated 2016/10/14 Zhiyu He\r\n\t */\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(10);\n\t\n\tvar _compiler = __webpack_require__(7);\n\t\n\tvar _watcher = __webpack_require__(5);\n\t\n\tvar _watcher2 = _interopRequireDefault(_watcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Model = function () {\n\t    function Model() {\n\t        var _this = this;\n\t\n\t        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        _classCallCheck(this, Model);\n\t\n\t        this._data = options.data;\n\t        this._watchers = [];\n\t        this._target = options.target ? document.querySelector(options.target) : undefined;\n\t        Object.keys(this._data).forEach(function (key) {\n\t            proxy(_this, key);\n\t        });\n\t        (0, _index.observe)(this._data);\n\t        if (this._target) (0, _compiler.compile)(this._target, this);\n\t    }\n\t\n\t    /**\r\n\t     * when the vale of the expression changes,\r\n\t     * the callback would be called\r\n\t     * callback example:\r\n\t     *        (newValue, oldValue) => *, this <===> model\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t\n\t\n\t    _createClass(Model, [{\n\t        key: '$watch',\n\t        value: function $watch(expOrFn, callback) {\n\t            var watcher = new _watcher2.default(this, expOrFn, callback);\n\t            this._watchers.push(watcher);\n\t        }\n\t    }]);\n\t\n\t    return Model;\n\t}();\n\t\n\t/**\r\n\t * proxy the properties\r\n\t * example:\r\n\t *      model.key <===> model._data.key\r\n\t * @param model {Model}\r\n\t * @param key {String}\r\n\t */\n\t\n\t\n\texports.default = Model;\n\tfunction proxy(model, key) {\n\t    Object.defineProperty(model, key, {\n\t        configurable: true,\n\t        enumerable: true,\n\t        get: function get() {\n\t            return model._data[key];\n\t        },\n\t        set: function set(newVal) {\n\t            model._data[key] = newVal;\n\t        }\n\t    });\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * []\r\n\t * @type {Array}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar arrayMethods = exports.arrayMethods = Object.create(Array.prototype);\n\t\n\t['push', 'dequeue', 'shift', 'unshift', 'sort', 'reverse', 'splice'].forEach(function (methodName) {\n\t    var original = Array.prototype[methodName];\n\t    Object.defineProperty(arrayMethods, methodName, {\n\t        enumerable: false,\n\t        writable: true,\n\t        configurable: true,\n\t        value: function value() {\n\t            var args = Array.from(arguments);\n\t            var result = original.apply(this, args);\n\t            var observer = this['__ob__'];\n\t            observeNewItems(methodName, args, observer);\n\t            observer.dep.notify();\n\t            return result;\n\t        }\n\t    });\n\t});\n\t\n\tfunction observeNewItems(methodName, args, observer) {\n\t    var inserted = undefined;\n\t    switch (methodName) {\n\t        case 'push':\n\t            inserted = args;\n\t            break;\n\t        case 'unshift':\n\t            inserted = args;\n\t            break;\n\t        case 'splice':\n\t            inserted = args.slice(2);\n\t            break;\n\t    }\n\t    if (inserted) {\n\t        observer.observeArray(inserted);\n\t    }\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.observe = observe;\n\t\n\tvar _dependency = __webpack_require__(4);\n\t\n\tvar _dependency2 = _interopRequireDefault(_dependency);\n\t\n\tvar _array = __webpack_require__(9);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Observer = function () {\n\t    function Observer(value) {\n\t        _classCallCheck(this, Observer);\n\t\n\t        this.value = value;\n\t        this.dep = new _dependency2.default();\n\t        Object.defineProperty(value, '__ob__', {\n\t            value: this,\n\t            enumerable: false,\n\t            writable: true,\n\t            configurable: true\n\t        });\n\t\n\t        if (Array.isArray(value)) {\n\t            augment(value, _array.arrayMethods);\n\t            this.observeArray(value);\n\t        } else this.walk(value);\n\t    }\n\t\n\t    /**\r\n\t     * travel all the props of the object, and set reactive props.\r\n\t     * @param obj {object}\r\n\t     */\n\t\n\t\n\t    _createClass(Observer, [{\n\t        key: 'walk',\n\t        value: function walk(obj) {\n\t            Object.keys(obj).forEach(function (key) {\n\t                defineReactive(obj, key, obj[key]);\n\t            });\n\t        }\n\t\n\t        /**\r\n\t         * Observe a list of Array items.\r\n\t         * @param items {Array}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'observeArray',\n\t        value: function observeArray(items) {\n\t            items.forEach(function (value) {\n\t                observe(value);\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Observer;\n\t}();\n\t\n\t/**\r\n\t * observe a property and set a observer if the property doesn't own one;\r\n\t * @param value {object} the property that needs nextBlankTargetIndex be observed\r\n\t * @return {Observer|undefined} if it is a string or number, returns undefined\r\n\t */\n\t\n\t\n\tfunction observe(value) {\n\t    if (!value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n\t        return;\n\t    }\n\t    var ob = void 0;\n\t    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\n\t        ob = value['__ob__'];\n\t    } else if (Object.isExtensible(value)) {\n\t        ob = new Observer(value);\n\t    }\n\t    return ob;\n\t}\n\t\n\t/**\r\n\t * Make the prop reactified\r\n\t * @param obj {Object}\r\n\t * @param key {String}\r\n\t * @param val {*}\r\n\t * @return {*}\r\n\t */\n\tfunction defineReactive(obj, key, val) {\n\t    var dep = new _dependency2.default();\n\t\n\t    var childObserver = observe(val);\n\t\n\t    Object.defineProperty(obj, key, {\n\t        enumerable: true,\n\t        configurable: true,\n\t        get: function get() {\n\t            if (_dependency2.default.target) {\n\t                dep.depend();\n\t                if (childObserver) {\n\t                    childObserver.dep.depend();\n\t                }\n\t                if (Array.isArray(val)) {\n\t                    val.forEach(function (item) {\n\t                        item && item['__ob__'] && item['__ob__'].dep.depend();\n\t                    });\n\t                }\n\t            }\n\t            return val;\n\t        },\n\t        set: function set(newVal) {\n\t            if (newVal === val) return;\n\t            val = newVal;\n\t            dep.notify();\n\t        }\n\t    });\n\t}\n\t\n\tfunction augment(target, src) {\n\t    target.__proto__ = src;\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * add events\r\n\t * @param EventName {string}\r\n\t * @param callback {function}\r\n\t * @param isCapture {boolean}\r\n\t * @return {object} the context of the function: this.\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.on = on;\n\texports.addClass = addClass;\n\texports.removeClass = removeClass;\n\texports.hasClass = hasClass;\n\texports.text = text;\n\texports.addClassTemp = addClassTemp;\n\tfunction on(EventName, callback, isCapture) {\n\t    if (addEventListener) {\n\t        this.addEventListener(EventName.toLowerCase(), callback, isCapture);\n\t    } else {\n\t        this['on' + EventName.toLowerCase()] = callback;\n\t    }\n\t    return this;\n\t}\n\t\n\t/**\r\n\t * add a class nextBlankTargetIndex the DOM\r\n\t * @param className {string}\r\n\t * @return this\r\n\t */\n\tfunction addClass(className) {\n\t    if (this.classList) this.classList.add(className);else this.className += ' ' + className;\n\t    return this;\n\t}\n\t\n\t/**\r\n\t * remove a class\r\n\t * @param className {string}\r\n\t * @return this\r\n\t */\n\tfunction removeClass(className) {\n\t    if (this.classList) this.classList.remove(className);else this.className = this.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|Query)', 'gi'), ' ');\n\t    return this;\n\t}\n\t\n\t/**\r\n\t * check has class\r\n\t * @param className {string}\r\n\t * @return this\r\n\t */\n\tfunction hasClass(className) {\n\t    if (this.classList) return this.classList.contains(className);else return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);\n\t}\n\t\n\t/**\r\n\t * get/set text\r\n\t * @param newText\r\n\t * @return {*}\r\n\t */\n\tfunction text(newText) {\n\t    if (typeof newText === 'undefined') {\n\t        return this.textContent;\n\t    }\n\t    this.textContent = newText;\n\t    return undefined;\n\t}\n\t\n\t/**\r\n\t * AddClass in a time\r\n\t * @param ele {HTMLElement}\r\n\t * @param className {string}\r\n\t * @param time {number} ms\r\n\t */\n\tfunction addClassTemp(ele, className, time) {\n\t    className = className instanceof Array ? className : [className];\n\t    return new Promise(function (resolve, reject) {\n\t        className.forEach(function (klass) {\n\t            addClass.call(ele, klass);\n\t        });\n\t        setTimeout(function () {\n\t            resolve(ele);\n\t        }, time);\n\t    }).then(function (ele) {\n\t        className.forEach(function (klass) {\n\t            removeClass.call(ele, klass);\n\t        });\n\t        return ele;\n\t    });\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * myQuery is just like jQuery.\r\n\t * but it has only the event related, class related functions.\r\n\t *\r\n\t * @Updated 2016/10/14 Zhiyu He\r\n\t */\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _helper = __webpack_require__(11);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar cache = {};\n\t\n\t/**\r\n\t * a tiny small Query just like jQuery 2333\r\n\t * @param DOMSelector {string|document|Element}\r\n\t * @return {*}\r\n\t */\n\t\n\texports.default = function (DOMSelector) {\n\t    if (typeof DOMSelector === 'string') {\n\t        if (cache[DOMSelector]) {\n\t            return cache[DOMSelector];\n\t        } else {\n\t            return cache[DOMSelector] = new HzyElement(DOMSelector);\n\t        }\n\t    } else if (DOMSelector instanceof Element) {\n\t        return new HzyElement(DOMSelector);\n\t    } else if (DOMSelector === document) {\n\t        document.on = _helper.on.bind(document);\n\t        return document;\n\t    }\n\t};\n\t\n\tvar HzyElement = function () {\n\t    function HzyElement(DOMSelector) {\n\t        _classCallCheck(this, HzyElement);\n\t\n\t        if (typeof DOMSelector === 'string') this.el = document.querySelector(DOMSelector);else if (DOMSelector instanceof Element) {\n\t            this.el = DOMSelector;\n\t        }\n\t    }\n\t\n\t    /**\r\n\t     * Event binding\r\n\t     * @param EventName {string}\r\n\t     * @param callback {function}\r\n\t     * @param isCapture {boolean}\r\n\t     * @return {HzyElement}\r\n\t     */\n\t\n\t\n\t    _createClass(HzyElement, [{\n\t        key: 'on',\n\t        value: function on(EventName, callback, isCapture) {\n\t            _helper.on.call(this.el, EventName, callback, isCapture);\n\t            return this;\n\t        }\n\t\n\t        /**\r\n\t         * add a class nextBlankTargetIndex the DOM\r\n\t         * @param className {string}\r\n\t         * @return {HzyElement}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'addClass',\n\t        value: function addClass(className) {\n\t            _helper.addClass.apply(this.el, arguments);\n\t            return this;\n\t        }\n\t\n\t        /**\r\n\t         * remove a class\r\n\t         * @param className {string}\r\n\t         * @return {HzyElement}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'removeClass',\n\t        value: function removeClass(className) {\n\t            _helper.removeClass.apply(this.el, arguments);\n\t            return this;\n\t        }\n\t\n\t        /**\r\n\t         * check has class\r\n\t         * @param className {string}\r\n\t         * @return {boolean}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'hasClass',\n\t        value: function hasClass(className) {\n\t            return _helper.hasClass.apply(this.el, arguments);\n\t        }\n\t\n\t        /**\r\n\t         * get/set text\r\n\t         * @param newText\r\n\t         * @return {*}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'text',\n\t        value: function text(newText) {\n\t            var result = _helper.text.apply(this.el, arguments);\n\t            if (typeof result === 'undefined') {\n\t                result = this;\n\t            }\n\t            return result;\n\t        }\n\t    }]);\n\n\t    return HzyElement;\n\t}();\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * The State constant of the game.\r\n\t * @type {{Unstarted: string, Pending: string, Win: string, Lose: string, Over: string}}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar Type = exports.Type = {\n\t    Unstarted: 'UNSTARTED',\n\t    Pending: 'PENDING',\n\t    Win: 'WIN',\n\t    Lose: 'LOSE',\n\t    Over: 'OVER'\n\t};\n\t\n\tvar Img = exports.Img = [{\n\t    name: 'panda',\n\t    url: {\n\t        img: './img/panda.jpg',\n\t        bg: './img/bg_gfpanda.jpg'\n\t    }\n\t}, {\n\t    name: 'overwatch',\n\t    url: {\n\t        img: './img/img_overwatch.jpg',\n\t        bg: './img/bg_overwatch.jpg'\n\t    }\n\t}, {\n\t    name: 'zootopia',\n\t    url: {\n\t        img: './img/img_zootopia.jpeg',\n\t        bg: './img/bg_zootopia.jpeg'\n\t    }\n\t}, {\n\t    name: 'baymax',\n\t    url: {\n\t        img: './img/img_baymax.jpg',\n\t        bg: './img/bg_baymax.jpg'\n\t    }\n\t}];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getRandomInt = getRandomInt;\n\tfunction getRandomInt(min, max) {\n\t    return Math.floor(Math.random() * (max - min + 1) + min);\n\t}\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9b42ac973c9fb07a9f3c\n **/","'use strict';\r\n\r\nimport Model from './myModel/index.js';\r\nimport Query from './myQuery/index.js';\r\nimport {\r\n    move,\r\n    getterFactory,\r\n    update,\r\n    showSolutionAsync,\r\n    drawCanvas,\r\n    mix\r\n} from  './helper.js'\r\nimport {Node} from './data-structure.js';\r\nimport {Type, Img} from './type.js';\r\nimport {selectElement} from './selector.js';\r\nimport {AStar} from './algorithm.js';\r\n\r\n/**\r\n *           That's Me!\r\n *              ↓ ↓\r\n * View <==> View-Model <==> Model\r\n */\r\nconst model = new Model({\r\n    target: '.container',\r\n    data: {\r\n        imgUrl: '',\r\n        blockMap: Array\r\n            .from(document.querySelectorAll('.block'))\r\n            .map((element, index) => ({element, correctIndex: index})),\r\n        startButton: 'Start!',\r\n        gameState: Type.Unstarted,\r\n        isRunning: false,\r\n        isWinner: false,\r\n        time: 0,\r\n        count: 0,\r\n        message: 'Welcome to play the Puzzle!!',\r\n        stepNumber: 20\r\n    }\r\n});\r\n\r\n\r\nconst cache = {\r\n    blankElement: document.querySelector('#blk-15'),\r\n    loadingElement: document.querySelector('#loading'),\r\n    btnElement: document.querySelector('#start'),\r\n    selectorsElement: document.querySelector('.img-groups'),\r\n    updater: update.bind(model)\r\n};\r\n\r\n/****************************************************************\r\n View-Callbacks\r\n 1. watch the variable of the model.\r\n 2. call the callback when the variable change.\r\n 3. then update the view by operating on the DOM node.\r\n ****************************************************************/\r\n\r\n/**\r\n * change the image.\r\n */\r\nmodel.$watch('imgUrl', function (newValue, oldValue) {\r\n    const img = new Image();\r\n    const ctxArray = this.blockMap.map(object => object.element.getContext('2d'));\r\n    img.src = newValue;\r\n    img.onload = () => {\r\n        drawCanvas(ctxArray, img);\r\n    };\r\n});\r\n\r\n/**\r\n * use the default image: KongFu Panda.\r\n * @type {string}\r\n */\r\nmodel.imgUrl = './img/panda.jpg';\r\n\r\n/**\r\n * be reactive to the state of the game.\r\n */\r\nmodel.$watch('gameState', function (newValue, oldValue) {\r\n    switch (newValue) {\r\n        /**\r\n         * When the game starts...\r\n         */\r\n        case Type.Pending:\r\n            this.time = 0;\r\n            this.count = 0;\r\n            this.isWinner = false;\r\n            this.message = 'Game Starting...';\r\n            cache.selectorsElement.classList.add('no-see');\r\n            const timeUid = setInterval(() => {\r\n                if (this.gameState === Type.Pending) {\r\n                    this.time++;\r\n                } else\r\n                    clearInterval(timeUid);\r\n\r\n            }, 1000);\r\n            break;\r\n    }\r\n\r\n    switch (oldValue) {\r\n        /**\r\n         * When the game over or give up.\r\n         */\r\n        case Type.Pending:\r\n            this.message = `${this.isWinner ? 'Congratulations!' : 'Try your best.'} Time:${this.time}, Count:${this.count}`;\r\n            if (this.isWinner) {\r\n                this.startButton = 'Start!';\r\n                cache.selectorsElement.classList.remove('no-see');\r\n            }\r\n            this.time = 0;\r\n            this.count = 0;\r\n            break;\r\n    }\r\n});\r\n\r\n/**\r\n * watch the block moving. update the style.\r\n */\r\nmodel.$watch('isRunning', function (isRunning) {\r\n    if (isRunning) {\r\n        cache.btnElement.classList.add('disable-click');\r\n        cache.selectorsElement.classList.add('no-see');\r\n    } else {\r\n        cache.btnElement.classList.remove('disable-click');\r\n    }\r\n});\r\n\r\n/****************************************************************\r\n Event Handler\r\n ****************************************************************/\r\n\r\n/**\r\n * Move the block when it was clicked\r\n * if it is near the blank Block.\r\n */\r\nQuery('.playground')\r\n    .on('click', e => {\r\n        e.preventDefault();\r\n        const getIndex = getterFactory(model.blockMap, selectElement);\r\n        const nextDescriptor = move(getIndex(e.target), getIndex(cache.blankElement), model.blockMap);\r\n        if (!nextDescriptor) return;\r\n        update.call(model, nextDescriptor.state);\r\n        if (model.blockMap.every((object, index) => object.correctIndex === index)) {\r\n            model.isWinner = true;\r\n            model.gameState = Type.Unstarted;\r\n        }\r\n        if (model.gameState === Type.Pending) {\r\n            model.count++;\r\n        }\r\n    });\r\n\r\n\r\nQuery('#start')\r\n    .on('click', e => {\r\n        e.preventDefault();\r\n        /**\r\n         * refuse when the animate running.\r\n         */\r\n        if (model.isRunning) {\r\n            return;\r\n        }\r\n        switch (model.gameState) {\r\n            case Type.Unstarted:\r\n                /**\r\n                 * Mix the puzzle.\r\n                 * @type {string}\r\n                 */\r\n                model.startButton = 'Mixing...';\r\n                mix(model, cache.blankElement, cache.updater, selectElement)\r\n                    .then(() => {\r\n                        model.isRunning = false;\r\n                        model.startButton = 'Give Up : (';\r\n                        model.gameState = Type.Pending;\r\n                    });\r\n                break;\r\n\r\n            case Type.Pending:\r\n                new Promise((resolve, reject) => {\r\n                    model.gameState = Type.Unstarted;\r\n                    model.startButton = 'Getting Solution...';\r\n                    cache.loadingElement.classList.remove('disable-see');\r\n                    const getIndex = getterFactory(model.blockMap, selectElement);\r\n                    setTimeout(() => {\r\n                        /**\r\n                         * Use Algorithm to solve the problem.\r\n                         */\r\n                        resolve(AStar(new Node(model.blockMap, getIndex(cache.blankElement), null)));\r\n                    }, 20);\r\n                }).then(result => {\r\n                    /**\r\n                     * Display the Solution.\r\n                     */\r\n                    const path = [];\r\n                    let target = result;\r\n                    while (target.parentNode) {\r\n                        path.push(target);\r\n                        target = target.parentNode;\r\n                    }\r\n\r\n                    return new Promise((resolve, reject) => {\r\n                        model.isRunning = true;\r\n                        cache.loadingElement.classList.add('disable-see');\r\n                        model.startButton = 'Recovering...';\r\n                        showSolutionAsync(path, cache.updater, resolve);\r\n                    });\r\n                }).then(() => {\r\n                    cache.selectorsElement.classList.remove('no-see');\r\n                    model.startButton = 'Try Again! : )';\r\n                    model.isRunning = false;\r\n                });\r\n                break;\r\n        }\r\n    });\r\n\r\n/**\r\n * the image switcher.\r\n */\r\nQuery('.img-groups')\r\n    .on('click', e => {\r\n        e.preventDefault();\r\n        if (model.gameState === Type.Unstarted) {\r\n            const currentImg = Img.find(imageInfo => imageInfo.name === e.target.id);\r\n            model.imgUrl = currentImg.url.img;\r\n        }\r\n    });\r\n\r\nconsole.log(model);\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","'use strict';\r\n\r\nimport {selectNumber} from './selector.js';\r\n\r\nexport class Node {\r\n    /**\r\n     *\r\n     * @param state {Array}\r\n     * @param blankTargetIndex {Number}\r\n     * @param parentNode {Node}\r\n     */\r\n    constructor(state, blankTargetIndex, parentNode) {\r\n        this.state = state;\r\n        this.blankTargetIndex = blankTargetIndex;\r\n        this.parentNode = parentNode;\r\n        this.depth = parentNode !== null ? parentNode.depth + 1 : 0;\r\n        this.h = this.state\r\n            .map(selectNumber)\r\n            .map((number, index) => Math.abs(number % 4 - index % 4) + Math.abs(Math.floor(number / 4) - Math.floor(index / 4)))\r\n            .reduce((left, right) => left + right, 0);\r\n    }\r\n}\r\n\r\nexport class PriorityQueue extends Array {\r\n    constructor(compare) {\r\n        super();\r\n        this.push(null);\r\n        this.compare = compare;\r\n\r\n        /**\r\n         * push\r\n         * @param item {*}\r\n         */\r\n        this.enqueue = function (item) {\r\n            this.push(item);\r\n\r\n            let currentIndex = this.length - 1;\r\n            while (currentIndex > 1) {\r\n                const parentIndex = currentIndex >> 1;\r\n                if (this.compare(this[currentIndex], this[parentIndex]) < 0) {\r\n                    swap(this, parentIndex, currentIndex);\r\n                } else {\r\n                    break;\r\n                }\r\n                currentIndex = parentIndex;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Pop\r\n         * @return {*}\r\n         */\r\n        this.dequeue = function () {\r\n            const TopItem = this[1];\r\n            this[1] = this.pop();\r\n            if (this.length === 2) {\r\n                this.pop();\r\n            }\r\n\r\n            const Q = [1];\r\n            while (Q.length) {\r\n                const parentIndex = Q.shift();\r\n                let minChildIndex = parentIndex;\r\n\r\n\r\n                const childIndexArray = [parentIndex << 1, (parentIndex << 1) | 1];\r\n                childIndexArray.filter(childIndex => {\r\n                    return childIndex < this.length;\r\n                }).forEach(childIndex => {\r\n                    if (this.compare(this[childIndex], this[minChildIndex]) < 0) {\r\n                        minChildIndex = childIndex;\r\n                    }\r\n                });\r\n\r\n                if (parentIndex !== minChildIndex) {\r\n                    swap(this, parentIndex, minChildIndex);\r\n                    Q.push(minChildIndex);\r\n                }\r\n            }\r\n            return TopItem;\r\n        };\r\n\r\n        /**\r\n         * is empty?\r\n         * @return {boolean}\r\n         */\r\n        this.empty = function () {\r\n            return this.length <= 1;\r\n        }\r\n    }\r\n}\r\n\r\nfunction swap(array, leftIndex, rightIndex) {\r\n    const temp = array[leftIndex];\r\n    array[leftIndex] = array[rightIndex];\r\n    array[rightIndex] = temp;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/data-structure.js\n **/","'use strict';\r\n\r\nexport const selectElement = o => o.element;\r\nexport const selectNumber = o => o.correctIndex;\r\nexport const selectOriginal = o => o;\n\n\n/** WEBPACK FOOTER **\n ** ./src/selector.js\n **/","'use strict';\r\n\r\nimport {getRandomInt} from './util.js';\r\nimport {Node} from './data-structure.js';\r\n\r\n/***********************************************************\r\n Public Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n *\r\n * @param targetIndex {number}\r\n * @param blankTargetIndex {number}\r\n * @param map {{element:Element,correctIndex:number}[] | number[]}\r\n * @return {Node}\r\n */\r\nexport function move(targetIndex, blankTargetIndex, map) {\r\n    if (getNeighboursIndex(targetIndex)\r\n            .some(neighboursIndex => neighboursIndex === blankTargetIndex)) {\r\n        const nextMap = map.slice();\r\n        [\r\n            nextMap[targetIndex],\r\n            nextMap[blankTargetIndex]\r\n        ] = [\r\n            map[blankTargetIndex],\r\n            map[targetIndex]\r\n        ];\r\n        return {\r\n            state: nextMap,\r\n            blankTargetIndex: targetIndex,\r\n            parentState: map\r\n        }\r\n    }\r\n}\r\n\r\nexport function search(targetIndex, currentNode) {\r\n    const subNode = move(targetIndex, currentNode.blankTargetIndex, currentNode.state);\r\n    return new Node(subNode.state, subNode.blankTargetIndex, currentNode);\r\n}\r\n\r\n/**\r\n * baffle the blocks.\r\n * @param times {number} the times.\r\n * @param speed {number} the speed of the block when moving. (ms)\r\n * @param resolve {function} promise resolve\r\n * @return {function}\r\n */\r\nexport function randomlySelectAndMoveAsync(times, speed, resolve) {\r\n    times--;\r\n    /**\r\n     * randomly move the blank block\r\n     * @param preTargetIndex {number} the index of element that will be ignore in the next randomly move.\r\n     * @param blankTargetIndex {number} the blank object in the map.\r\n     * @param map {Array} the state.\r\n     * @param updater {function} update the view if called.\r\n     */\r\n    function randomlyMove(preTargetIndex, blankTargetIndex, map, updater) {\r\n        const targetIndex = getSample(getNeighboursIndex(blankTargetIndex).filter(index => index !== preTargetIndex));\r\n        const nextDescriptor = move(targetIndex, blankTargetIndex, map);\r\n        updater(nextDescriptor.state);\r\n\r\n        if (times) {\r\n            setTimeout(() => {\r\n                times--;\r\n                randomlyMove(blankTargetIndex, nextDescriptor.blankTargetIndex, nextDescriptor.state, updater);\r\n            }, speed);\r\n        } else {\r\n            resolve(nextDescriptor);\r\n        }\r\n    }\r\n\r\n    return randomlyMove;\r\n}\r\n\r\n/**\r\n * Update the view according nextBlankTargetIndex the descriptor.\r\n * @param nextState\r\n */\r\nexport function update(nextState) {\r\n    const patches = diff(nextState, this.blockMap);\r\n    render(patches, nextState);\r\n    this.blockMap = nextState;\r\n}\r\n\r\n/**\r\n *\r\n * @param targetIndex {number}\r\n * @param map\r\n * @return {Array}\r\n */\r\nexport function getNeighbours(targetIndex, map) {\r\n    return [\r\n        {X: 0, Y: -1}, // up\r\n        {X: 1, Y: 0}, // right\r\n        {X: 0, Y: 1}, // down\r\n        {X: -1, Y: 0} // left\r\n    ].map(offset => ({\r\n        X: targetIndex % 4 + offset.X,\r\n        Y: Math.floor(targetIndex / 4) + offset.Y\r\n    })).filter(position => (\r\n        position.X >= 0 && position.X < 4 &&\r\n        position.Y >= 0 && position.Y < 4\r\n    )).map(position => map[position.X + position.Y * 4]);\r\n}\r\n\r\nexport function getNeighboursIndex(targetIndex) {\r\n    return [\r\n        {X: 0, Y: -1}, // up\r\n        {X: 1, Y: 0}, // right\r\n        {X: 0, Y: 1}, // down\r\n        {X: -1, Y: 0} // left\r\n    ].map(offset => ({\r\n        X: targetIndex % 4 + offset.X,\r\n        Y: Math.floor(targetIndex / 4) + offset.Y\r\n    })).filter(position => (\r\n        position.X >= 0 && position.X < 4 &&\r\n        position.Y >= 0 && position.Y < 4\r\n    )).map(position => position.Y * 4 + position.X);\r\n}\r\n\r\nexport function getterFactory(map, selector) {\r\n    return target => map.map(selector).findIndex(object => object === target);\r\n}\r\n\r\nexport function getSample(array) {\r\n    return array[getRandomInt(0, array.length - 1)];\r\n}\r\n\r\n/***********************************************************\r\n Private Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n * Show the difference between the new map and the old map.\r\n * @param newMap {Array}\r\n * @param oldMap {Array}\r\n * @return {Array} tokens.\r\n */\r\nfunction diff(newMap, oldMap) {\r\n    const tokens = [];\r\n    newMap.forEach((newObject, index) => {\r\n        const oldObject = oldMap[index];\r\n        if (newObject.correctIndex !== oldObject.correctIndex) {\r\n            tokens.push({\r\n                before: oldObject.correctIndex,\r\n                after: newObject.correctIndex,\r\n                index\r\n            });\r\n        }\r\n    });\r\n    return tokens;\r\n}\r\n\r\nfunction render(patches, map) {\r\n    patches.forEach(patch => {\r\n        const target = map[patch.index].element;\r\n        target.className = target.className.replace(/order-\\d*/, `order-${patch.index}`);\r\n    });\r\n}\r\n\r\nexport function showSolutionAsync(path, updater, resolve) {\r\n    if (path.length) {\r\n        updater(path.pop().state);\r\n        setTimeout(() => {\r\n            showSolutionAsync(path, updater, resolve);\r\n        }, 120);\r\n    } else {\r\n        resolve(path);\r\n    }\r\n}\r\n\r\nexport function drawCanvas(canvasContextArray, image) {\r\n    canvasContextArray.forEach((ctx, index) => {\r\n        ctx.drawImage(image,\r\n            (index % 4) * (image.width / 4), Math.floor(index / 4) * (image.height / 4),\r\n            (image.width / 4), (image.height / 4),\r\n            0, 0, 100, 100\r\n        );\r\n    });\r\n    const last = canvasContextArray[canvasContextArray.length - 1];\r\n    last.fillStyle = 'rgba(120, 120, 120, 0.7)';\r\n    last.fillRect(0, 0, 100, 100);\r\n}\r\n\r\nexport function mix(model, blankElement, updater, selector) {\r\n    const getElementIndex = getterFactory(model.blockMap, selector);\r\n    const targetIndex = [\r\n        blankElement,\r\n        getElementIndex,\r\n        getNeighboursIndex,\r\n        getSample\r\n    ].reduce((value, wrapper) => wrapper(value));\r\n    return new Promise((resolve, reject) => {\r\n        model.isRunning = true;\r\n        randomlySelectAndMoveAsync(model.stepNumber, 120, resolve)(\r\n            targetIndex, getElementIndex(blankElement), model.blockMap, updater\r\n        );\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper.js\n **/","'use strict';\r\n\r\nlet uid = 0;\r\n\r\n/**\r\n * 订阅者模式\r\n */\r\nexport default class Dependency {\r\n    constructor() {\r\n        this.id = uid++;\r\n        this.subs = [];\r\n    }\r\n\r\n    addSub(sub) {\r\n        this.subs.push(sub);\r\n    }\r\n\r\n    /**\r\n     * 通知依赖\r\n     * 这样Watcher就可以知道所维护的值需要依赖于哪些Model里面的其他值\r\n     */\r\n    depend() {\r\n        if (Dependency.target) {\r\n            Dependency.target.addDependency(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 广播更新\r\n     */\r\n    notify() {\r\n        const subs = this.subs.slice();\r\n        subs.forEach(sub => {\r\n            sub.update();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * 该依赖的全局监视者\r\n */\r\nDependency.target = null;\r\n\r\nconst targetStack = [];\r\n\r\n/**\r\n * 全局每次更新只能有一个监视者更新, 使用栈维护\r\n * @param _target {Watcher}\r\n */\r\nexport function pushTarget(_target) {\r\n    if (Dependency.target)\r\n        targetStack.push(Dependency.target);\r\n    Dependency.target = _target;\r\n}\r\n\r\nexport function popTarget() {\r\n    Dependency.target = targetStack.pop()\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/dependency.js\n **/","'use strict';\r\n\r\nimport {popTarget, pushTarget} from './dependency.js';\r\n\r\n/**\r\n * Watcher will call the callback when the value of the expression changes!\r\n */\r\nexport default class Watcher {\r\n    /**\r\n     * @constructor\r\n     * @param model {model}\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    constructor(model, expOrFn, callback) {\r\n        this.callback = callback;\r\n        this.model = model;\r\n\r\n        this.newDepIds = new Set();\r\n        this.newDeps = [];\r\n        this._getter = getGetter(expOrFn);\r\n        this.value = this.get();\r\n    }\r\n\r\n    /**\r\n     * get the value of the expression and collects the dep!\r\n     * @return {*}\r\n     */\r\n    get() {\r\n        pushTarget(this);\r\n        const value = this._getter.call(this.model, this.model); // collects the deps!\r\n        popTarget();\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * add dependency for the watcher\r\n     * @param dep {Dependency}\r\n     */\r\n    addDependency(dep) {\r\n        const id = dep.id;\r\n        if (!this.newDepIds.has(id)) {\r\n            this.newDepIds.add(id);\r\n            this.newDeps.push(dep);\r\n            dep.addSub(this)\r\n        }\r\n    }\r\n\r\n    update() {\r\n        this.run();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * run the callback to update the value\r\n     */\r\n    run() {\r\n        const value = this.get();\r\n        if (value !== this.value || typeof value === 'object') {\r\n            const oldValue = this.value;\r\n            this.value = value;\r\n            this.callback.call(this.model, value, oldValue);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * get the getter function of the expression after parsing.\r\n * @param expOrFn {string|Function}\r\n * @return {function}\r\n */\r\nexport function getGetter(expOrFn) {\r\n    let getter = function () {\r\n        // do nothing..\r\n    };\r\n    if (typeof expOrFn === 'function') {\r\n        getter = expOrFn;\r\n    } else if (typeof expOrFn === 'string') {\r\n        getter = new Function('model', `return model.${expOrFn};`);\r\n    } else {\r\n        console.warn(`${expOrFn} fail to parse!!`);\r\n    }\r\n    return getter;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/watcher.js\n **/","'use strict';\r\n\r\nimport {PriorityQueue} from './data-structure.js';\r\nimport {selectNumber} from './selector.js';\r\nimport {search, getNeighboursIndex} from './helper.js';\r\n\r\n/**\r\n * A* Algorithm\r\n * based on BFS with a function f to give an standard to choice\r\n * which node is the best when getting next state.\r\n * @param rootNode {Node} the root node. (Current State)\r\n * @return {undefined|Node} the last node\r\n */\r\nexport function AStar(rootNode) {\r\n    const PQ = new PriorityQueue((left, right) => {\r\n        return (4 * left.h + left.depth) - (4 * right.h + right.depth);\r\n    });\r\n    PQ.enqueue(rootNode);\r\n    const S = new Set();\r\n    console.time('AStar算法用时');\r\n    while (!PQ.empty()) {\r\n        const currentNode = PQ.dequeue();\r\n        if (currentNode.state.map(selectNumber).every((object, index) => object === index)) {\r\n            console.timeEnd('AStar算法用时');\r\n            return currentNode;\r\n        }\r\n\r\n        const neighbours = getNeighboursIndex(currentNode.blankTargetIndex);\r\n        neighbours.forEach(targetIndex => {\r\n            const nextNode = search(targetIndex, currentNode);\r\n            const signature = nextNode.state.map(selectNumber).toString();\r\n            if (!S.has(signature)) {\r\n                PQ.enqueue(nextNode);\r\n                S.add(signature);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Iterative Deepening A*\r\n * @param rootNode {Node}\r\n * @return {*}\r\n * @constructor\r\n */\r\nexport function IDAStar(rootNode) {\r\n    const Stack = [rootNode];\r\n    let bound = rootNode.h;\r\n    console.time('IDAStar');\r\n    while (bound) {\r\n        while (Stack.length) {\r\n            const currentNode = Stack.pop();\r\n            if (currentNode.state.map(selectNumber).every((object, index) => object === index)) {\r\n                console.timeEnd('IDAStar');\r\n                return currentNode;\r\n            }\r\n\r\n            const neighbours = getNeighboursIndex(currentNode.blankTargetIndex);\r\n            neighbours.forEach(targetIndex => {\r\n                const nextNode = search(targetIndex, currentNode);\r\n                const cost = nextNode.h + nextNode.depth;\r\n                if (cost <= bound) {\r\n                    Stack.push(nextNode);\r\n                    console.log(Stack);\r\n                }\r\n            });\r\n        }\r\n        Stack.push(rootNode);\r\n        bound++;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/algorithm.js\n **/","'use strict';\r\n\r\nimport Watcher, {getGetter} from './observer/watcher.js';\r\n\r\nexport function compile(element, model) {\r\n    const nodeList = element.childNodes;\r\n    for (let node of nodeList) {\r\n        if (node.nodeType === 3) {\r\n            compileTextNode(node, model);\r\n        } else if (node.nodeType === 1) {\r\n            compile(node, model);\r\n        }\r\n    }\r\n}\r\n\r\nconst tagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\r\n\r\nfunction compileTextNode(textNode, model) {\r\n    let tokens = parseText(textNode.textContent);\r\n    if (!tokens)\r\n        return;\r\n    let frag = document.createDocumentFragment();\r\n    tokens.forEach(obj => {\r\n        let ele;\r\n        if (obj.expression) {\r\n            ele = document.createTextNode(getGetter(obj.expression)(model));\r\n            model._watchers.push(\r\n                new Watcher(model, obj.expression, (newValue, oldValue) => {\r\n                    ele.textContent = newValue;\r\n                })\r\n            );\r\n        } else {\r\n            ele = document.createTextNode(obj.value);\r\n        }\r\n        frag.appendChild(ele);\r\n    });\r\n\r\n    const parentNode = textNode.parentNode;\r\n    parentNode.replaceChild(frag, textNode);\r\n}\r\n\r\nfunction parseText(text) {\r\n    if (!tagRE.test(text))\r\n        return;\r\n\r\n    const tokens = [];\r\n    let lastIndex = tagRE.lastIndex = 0;\r\n    let match, index;\r\n    while ((match = tagRE.exec(text))) {\r\n        index = match.index;\r\n        // push text token\r\n        if (index > lastIndex) {\r\n            tokens.push({\r\n                value: text.slice(lastIndex, index)\r\n            });\r\n        }\r\n        // tag token\r\n        const exp = match[1];\r\n        tokens.push({\r\n            expression: exp,\r\n            value: exp\r\n        });\r\n        lastIndex = index + match[0].length;\r\n    }\r\n    if (lastIndex < text.length) {\r\n        tokens.push({\r\n            value: text.slice(lastIndex)\r\n        });\r\n    }\r\n    return tokens;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/compiler.js\n **/","/**\r\n * myModel is a very very very tiny MVVM lib.\r\n *\r\n * @Updated 2016/10/14 Zhiyu He\r\n */\r\n\r\n'use strict';\r\n\r\nimport {observe} from './observer/index.js';\r\nimport {compile} from './compiler.js';\r\nimport Watcher from './observer/watcher.js';\r\n\r\nexport default class Model {\r\n    constructor(options = {}) {\r\n        this._data = options.data;\r\n        this._watchers = [];\r\n        this._target = options.target ? document.querySelector(options.target) : undefined;\r\n        Object.keys(this._data).forEach(key => {\r\n            proxy(this, key);\r\n        });\r\n        observe(this._data);\r\n        if (this._target)\r\n            compile(this._target, this);\r\n    }\r\n\r\n    /**\r\n     * when the vale of the expression changes,\r\n     * the callback would be called\r\n     * callback example:\r\n     *        (newValue, oldValue) => *, this <===> model\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    $watch(expOrFn, callback) {\r\n        const watcher = new Watcher(this, expOrFn, callback);\r\n        this._watchers.push(watcher);\r\n    }\r\n}\r\n\r\n/**\r\n * proxy the properties\r\n * example:\r\n *      model.key <===> model._data.key\r\n * @param model {Model}\r\n * @param key {String}\r\n */\r\nfunction proxy(model, key) {\r\n    Object.defineProperty(model, key, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: () => model._data[key],\r\n        set: newVal => {\r\n            model._data[key] = newVal;\r\n        }\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/index.js\n **/","'use strict';\r\n\r\n/**\r\n * []\r\n * @type {Array}\r\n */\r\nexport const arrayMethods = Object.create(Array.prototype);\r\n\r\n[\r\n    'push',\r\n    'dequeue',\r\n    'shift',\r\n    'unshift',\r\n    'sort',\r\n    'reverse',\r\n    'splice'\r\n].forEach(methodName => {\r\n    const original = Array.prototype[methodName];\r\n    Object.defineProperty(arrayMethods, methodName, {\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true,\r\n        value: function () {\r\n            const args = Array.from(arguments);\r\n            const result = original.apply(this, args);\r\n            const observer = this['__ob__'];\r\n            observeNewItems(methodName, args, observer);\r\n            observer.dep.notify();\r\n            return result;\r\n        }\r\n    })\r\n});\r\n\r\nfunction observeNewItems(methodName, args, observer) {\r\n    let inserted = undefined;\r\n    switch (methodName) {\r\n        case 'push':\r\n            inserted = args;\r\n            break;\r\n        case 'unshift':\r\n            inserted = args;\r\n            break;\r\n        case 'splice':\r\n            inserted = args.slice(2);\r\n            break;\r\n    }\r\n    if (inserted) {\r\n        observer.observeArray(inserted);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/array.js\n **/","'use strict';\r\n\r\nimport Dependency from './dependency.js';\r\nimport {arrayMethods} from './array.js';\r\n\r\nclass Observer {\r\n    constructor(value) {\r\n        this.value = value;\r\n        this.dep = new Dependency();\r\n        Object.defineProperty(value, '__ob__', {\r\n            value: this,\r\n            enumerable: false,\r\n            writable: true,\r\n            configurable: true\r\n        });\r\n\r\n        if (Array.isArray(value)) {\r\n            augment(value, arrayMethods);\r\n            this.observeArray(value);\r\n        } else\r\n            this.walk(value);\r\n    }\r\n\r\n    /**\r\n     * travel all the props of the object, and set reactive props.\r\n     * @param obj {object}\r\n     */\r\n    walk(obj) {\r\n        Object.keys(obj).forEach(key => {\r\n            defineReactive(obj, key, obj[key]);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Observe a list of Array items.\r\n     * @param items {Array}\r\n     */\r\n    observeArray(items) {\r\n        items.forEach(value => {\r\n            observe(value);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * observe a property and set a observer if the property doesn't own one;\r\n * @param value {object} the property that needs nextBlankTargetIndex be observed\r\n * @return {Observer|undefined} if it is a string or number, returns undefined\r\n */\r\nexport function observe(value) {\r\n    if (!value || typeof value !== 'object') {\r\n        return;\r\n    }\r\n    let ob;\r\n    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\r\n        ob = value['__ob__'];\r\n    } else if (Object.isExtensible(value)) {\r\n        ob = new Observer(value);\r\n    }\r\n    return ob;\r\n}\r\n\r\n/**\r\n * Make the prop reactified\r\n * @param obj {Object}\r\n * @param key {String}\r\n * @param val {*}\r\n * @return {*}\r\n */\r\nfunction defineReactive(obj, key, val) {\r\n    const dep = new Dependency();\r\n\r\n    let childObserver = observe(val);\r\n\r\n    Object.defineProperty(obj, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: () => {\r\n            if (Dependency.target) {\r\n                dep.depend();\r\n                if (childObserver) {\r\n                    childObserver.dep.depend();\r\n                }\r\n                if (Array.isArray(val)) {\r\n                    val.forEach(item => {\r\n                        item && item['__ob__'] && item['__ob__'].dep.depend();\r\n                    });\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n        set: (newVal) => {\r\n            if (newVal === val)\r\n                return;\r\n            val = newVal;\r\n            dep.notify();\r\n        }\r\n    });\r\n}\r\n\r\nfunction augment(target, src) {\r\n    target.__proto__ = src;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/index.js\n **/","'use strict';\r\n\r\n/**\r\n * add events\r\n * @param EventName {string}\r\n * @param callback {function}\r\n * @param isCapture {boolean}\r\n * @return {object} the context of the function: this.\r\n */\r\nexport function on(EventName, callback, isCapture) {\r\n    if (addEventListener) {\r\n        this.addEventListener(EventName.toLowerCase(), callback, isCapture);\r\n    } else {\r\n        this[`on${EventName.toLowerCase()}`] = callback;\r\n    }\r\n    return this;\r\n}\r\n\r\n/**\r\n * add a class nextBlankTargetIndex the DOM\r\n * @param className {string}\r\n * @return this\r\n */\r\nexport function addClass(className) {\r\n    if (this.classList)\r\n        this.classList.add(className);\r\n    else\r\n        this.className += ' ' + className;\r\n    return this;\r\n}\r\n\r\n/**\r\n * remove a class\r\n * @param className {string}\r\n * @return this\r\n */\r\nexport function removeClass(className) {\r\n    if (this.classList)\r\n        this.classList.remove(className);\r\n    else\r\n        this.className = this.className.replace(new RegExp('(^|\\\\b)' +\r\n            className.split(' ').join('|') + '(\\\\b|Query)', 'gi'), ' ');\r\n    return this;\r\n}\r\n\r\n/**\r\n * check has class\r\n * @param className {string}\r\n * @return this\r\n */\r\nexport function hasClass(className) {\r\n    if (this.classList)\r\n        return this.classList.contains(className);\r\n    else\r\n        return new RegExp('(^| )' + className + '( |$)', 'gi').test(this.className);\r\n}\r\n\r\n/**\r\n * get/set text\r\n * @param newText\r\n * @return {*}\r\n */\r\nexport function text(newText) {\r\n    if (typeof newText === 'undefined') {\r\n        return this.textContent;\r\n    }\r\n    this.textContent = newText;\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * AddClass in a time\r\n * @param ele {HTMLElement}\r\n * @param className {string}\r\n * @param time {number} ms\r\n */\r\nexport function addClassTemp(ele, className, time) {\r\n    className = className instanceof Array ? className : [className];\r\n    return new Promise((resolve, reject) => {\r\n        className.forEach(klass => {\r\n            addClass.call(ele, klass);\r\n        });\r\n        setTimeout(() => {\r\n            resolve(ele);\r\n        }, time);\r\n    }).then(ele => {\r\n        className.forEach(klass => {\r\n            removeClass.call(ele, klass);\r\n        });\r\n        return ele;\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myQuery/helper.js\n **/","/**\r\n * myQuery is just like jQuery.\r\n * but it has only the event related, class related functions.\r\n *\r\n * @Updated 2016/10/14 Zhiyu He\r\n */\r\n'use strict';\r\n\r\nimport {on, addClass, removeClass, hasClass, text} from './helper.js';\r\n\r\nconst cache = {};\r\n\r\n/**\r\n * a tiny small Query just like jQuery 2333\r\n * @param DOMSelector {string|document|Element}\r\n * @return {*}\r\n */\r\nexport default DOMSelector => {\r\n    if (typeof DOMSelector === 'string') {\r\n        if (cache[DOMSelector]) {\r\n            return cache[DOMSelector];\r\n        } else {\r\n            return cache[DOMSelector] = new HzyElement(DOMSelector);\r\n        }\r\n    } else if (DOMSelector instanceof Element) {\r\n        return new HzyElement(DOMSelector);\r\n    } else if (DOMSelector === document) {\r\n        document.on = on.bind(document);\r\n        return document;\r\n    }\r\n}\r\n\r\n\r\nclass HzyElement {\r\n    constructor(DOMSelector) {\r\n        if (typeof DOMSelector === 'string')\r\n            this.el = document.querySelector(DOMSelector);\r\n        else if (DOMSelector instanceof Element) {\r\n            this.el = DOMSelector;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Event binding\r\n     * @param EventName {string}\r\n     * @param callback {function}\r\n     * @param isCapture {boolean}\r\n     * @return {HzyElement}\r\n     */\r\n    on(EventName, callback, isCapture) {\r\n        on.call(this.el, EventName, callback, isCapture);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * add a class nextBlankTargetIndex the DOM\r\n     * @param className {string}\r\n     * @return {HzyElement}\r\n     */\r\n    addClass(className) {\r\n        addClass.apply(this.el, arguments);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * remove a class\r\n     * @param className {string}\r\n     * @return {HzyElement}\r\n     */\r\n    removeClass(className) {\r\n        removeClass.apply(this.el, arguments);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * check has class\r\n     * @param className {string}\r\n     * @return {boolean}\r\n     */\r\n    hasClass(className) {\r\n        return hasClass.apply(this.el, arguments);\r\n    }\r\n\r\n    /**\r\n     * get/set text\r\n     * @param newText\r\n     * @return {*}\r\n     */\r\n    text(newText) {\r\n        let result = text.apply(this.el, arguments);\r\n        if (typeof result === 'undefined') {\r\n            result = this;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/myQuery/index.js\n **/","'use strict';\r\n\r\n/**\r\n * The State constant of the game.\r\n * @type {{Unstarted: string, Pending: string, Win: string, Lose: string, Over: string}}\r\n */\r\nexport const Type = {\r\n    Unstarted: 'UNSTARTED',\r\n    Pending: 'PENDING',\r\n    Win: 'WIN',\r\n    Lose: 'LOSE',\r\n    Over: 'OVER',\r\n};\r\n\r\nexport const Img = [\r\n    {\r\n        name: 'panda',\r\n        url: {\r\n            img: './img/panda.jpg',\r\n            bg: './img/bg_gfpanda.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'overwatch',\r\n        url: {\r\n            img: './img/img_overwatch.jpg',\r\n            bg: './img/bg_overwatch.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'zootopia',\r\n        url: {\r\n            img: './img/img_zootopia.jpeg',\r\n            bg: './img/bg_zootopia.jpeg'\r\n        }\r\n    },\r\n    {\r\n        name: 'baymax',\r\n        url: {\r\n            img: './img/img_baymax.jpg',\r\n            bg: './img/bg_baymax.jpg'\r\n        }\r\n    }\r\n];\n\n\n/** WEBPACK FOOTER **\n ** ./src/type.js\n **/","'use strict';\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/"],"sourceRoot":""}
{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 504589862ed3453f9370","webpack:///./src/index.js","webpack:///./src/data-structure.js","webpack:///./src/selector.js","webpack:///./src/helper.js","webpack:///./src/myModel/observer/dependency.js","webpack:///./src/myModel/observer/watcher.js","webpack:///external \"_\"","webpack:///./src/algorithm.js","webpack:///./src/myModel/compiler.js","webpack:///./src/myModel/index.js","webpack:///./src/myModel/observer/array.js","webpack:///./src/myModel/observer/index.js","webpack:///./src/type.js","webpack:///external \"jQuery\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","handleBeginningGame","model","normalizeInitialGameData","cache","$selectors","addClass","beginCount","_lodash2","assign","isRunning","startButton","time","count","isWinner","message","timeUid","setInterval","gameState","_type","Type","Pending","clearInterval","handleEndingGame","removeClass","handleMovedMap","_helper","isSolved","blockMap","Unstarted","startGame","mix","$blank","updater","_selector","selectElement","then","stopGame","handleStoppingGame","asyncRunningAlgorithm","generateInitialNode","resultNode","displaySolution","handleEndingDisplaying","selector","getIndex","getterFactory","_dataStructure","Node","$loading","algorithm","args","Promise","resolve","reject","delay","path","collectSolutionPath","handleResolvingDisplaying","showSolutionAsync","target","parentNode","push","_index","_index2","_jquery","_jquery2","_lodash","_algorithm","data","imgUrl","Array","from","document","querySelectorAll","map","element","index","correctIndex","stepNumber","$startBtn","update","bind","$watch","newValue","oldValue","img","Image","ctxArray","this","object","getContext","src","onload","drawCanvas","click","e","preventDefault","nextDescriptor","move","state","currentImg","Img","find","imageInfo","name","url","console","log","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","computeH","distanceObject","manhatten","geometric","mapIndexToDistanceObject","number","getManhattenDistance","getGeometricDistance","to","Math","abs","sqrt","pow","objectReducer","leftObject","rightObject","swap","array","leftIndex","rightIndex","temp","defineProperty","PriorityQueue","undefined","blankTargetIndex","depth","h","selectNumber","reduce","_Array","compare","_this","getPrototypeOf","enqueue","item","currentIndex","length","parentIndex","dequeue","_this2","TopItem","pop","Q","_loop","shift","minChildIndex","childIndexArray","filter","childIndex","forEach","empty","o","selectOriginal","targetIndex","getNeighboursIndex","some","neighboursIndex","getNextMap","parentState","nextMap","clone","search","currentNode","subNode","randomlySelectAndMoveAsync","times","speed","randomlyMove","preTargetIndex","sample","nextState","patches","diff","render","X","Y","offset","floor","position","findIndex","canvasContextArray","image","ctx","drawImage","width","height","last","fillStyle","fillRect","blankElement","getElementIndex","flow","every","newMap","oldMap","tokens","newObject","oldObject","before","after","patch","className","replace","pushTarget","_target","Dependency","targetStack","popTarget","_createClass","defineProperties","props","i","descriptor","key","protoProps","staticProps","uid","subs","sub","addDependency","slice","getGetter","expOrFn","getter","Function","warn","_typeof","Symbol","iterator","_dependency","Watcher","callback","newDepIds","Set","newDeps","_getter","get","dep","has","add","addSub","run","_","AStar","rootNode","_initializeAlgorithm","initializeAlgorithm","_initializeAlgorithm2","_slicedToArray","PQ","S","v","tryInsertToSet","_ret","left","right","nextNode","set","priorityQueue","signature","toString","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","isArray","compile","nodeList","childNodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","node","nodeType","compileTextNode","textNode","parseText","textContent","frag","createDocumentFragment","ele","expression","createTextNode","_watcher","_watchers","_watcher2","appendChild","replaceChild","text","tagRE","test","lastIndex","match","exec","exp","proxy","_data","newVal","_compiler","Model","options","arguments","querySelector","keys","observe","watcher","observeNewItems","methodName","observer","inserted","observeArray","arrayMethods","original","result","apply","notify","ob","hasOwnProperty","Observer","isExtensible","defineReactive","val","_dependency2","childObserver","depend","augment","_array","walk","items","Win","Lose","Over","bg","jQuery"],"mappings":"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","file":"bundle.js","sourcesContent":["/*!\n * web-homework-sysu 0.0.0 - Modern Web Programming HomeWork - SYSU\n * Copyright (c) 2016 He Zhiyu - https://github.com/HeskeyBaozi/web-homework-sysu#readme\n * License: MIT\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _index = __webpack_require__(9);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _jquery = __webpack_require__(13);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _lodash = __webpack_require__(6);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _helper = __webpack_require__(3);\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _type = __webpack_require__(12);\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tvar _algorithm = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t *           That's Me!\r\n\t *              ↓ ↓\r\n\t * View <==> View-Model <==> Model\r\n\t */\n\tvar model = new _index2.default({\n\t    target: '.container',\n\t    data: {\n\t        imgUrl: '',\n\t        blockMap: Array.from(document.querySelectorAll('.block')).map(function (element, index) {\n\t            return { element: element, correctIndex: index };\n\t        }),\n\t        startButton: 'Start!',\n\t        gameState: _type.Type.Unstarted,\n\t        isRunning: false,\n\t        isWinner: false,\n\t        time: 0,\n\t        count: 0,\n\t        message: 'Welcome to play the Puzzle!!',\n\t        stepNumber: 15\n\t    }\n\t});\n\t\n\t/**\r\n\t * the jquery object cache.\r\n\t * @type {{$blank: (any), $loading: (any), $startBtn: (any), $selectors: (any), updater: (())}}\r\n\t */\n\tvar cache = {\n\t    $blank: (0, _jquery2.default)('#blk-15'),\n\t    $loading: (0, _jquery2.default)('#loading'),\n\t    $startBtn: (0, _jquery2.default)('#start'),\n\t    $selectors: (0, _jquery2.default)('.img-groups'),\n\t    updater: _helper.update.bind(model)\n\t};\n\t\n\t/****************************************************************\r\n\t View-Callbacks\r\n\t 1. watch the variable of the model.\r\n\t 2. call the callback when the variable change.\r\n\t 3. then update the view by operating on the DOM node.\r\n\t ****************************************************************/\n\t\n\t/**\r\n\t * change the image.\r\n\t */\n\tmodel.$watch('imgUrl', function (newValue, oldValue) {\n\t    var img = new Image();\n\t    var ctxArray = this.blockMap.map(function (object) {\n\t        return object.element.getContext('2d');\n\t    });\n\t    img.src = newValue;\n\t    img.onload = function () {\n\t        (0, _helper.drawCanvas)(ctxArray, img);\n\t    };\n\t});\n\t\n\t/**\r\n\t * use the default image: KongFu Panda.\r\n\t * @type {string}\r\n\t */\n\tmodel.imgUrl = './img/panda.jpg';\n\t\n\t/**\r\n\t * be reactive to the state of the game.\r\n\t */\n\tmodel.$watch('gameState', function (newValue, oldValue) {\n\t    /**\r\n\t     * When the game starts...\r\n\t     */\n\t    if (_type.Type.Pending === newValue) {\n\t        handleBeginningGame(this);\n\t    }\n\t    /**\r\n\t     * When the game over or give up.\r\n\t     */\n\t    if (_type.Type.Pending === oldValue) {\n\t        handleEndingGame(this);\n\t    }\n\t});\n\t\n\t/**\r\n\t * normalize data & style.\r\n\t * @param model\r\n\t */\n\tfunction handleBeginningGame(model) {\n\t    normalizeInitialGameData(model);\n\t    cache.$selectors.addClass('no-see');\n\t    beginCount(model);\n\t}\n\t\n\t/**\r\n\t * set initial data of the game.\r\n\t * @param model\r\n\t */\n\tfunction normalizeInitialGameData(model) {\n\t    _lodash2.default.assign(model, {\n\t        isRunning: false,\n\t        startButton: 'Give Up : (',\n\t        time: 0,\n\t        count: 0,\n\t        isWinner: false,\n\t        message: 'Game Starting...'\n\t    });\n\t}\n\t\n\t/**\r\n\t * counting the time every 1s.\r\n\t * @param model\r\n\t */\n\tfunction beginCount(model) {\n\t    var timeUid = setInterval(function () {\n\t        if (model.gameState === _type.Type.Pending) {\n\t            model.time++;\n\t        } else clearInterval(timeUid);\n\t    }, 1000);\n\t}\n\t\n\t/**\r\n\t * set data & style when game ending.\r\n\t * @param model\r\n\t */\n\tfunction handleEndingGame(model) {\n\t    if (model.isWinner) cache.$selectors.removeClass('no-see');\n\t    _lodash2.default.assign(model, {\n\t        message: (model.isWinner ? 'Congratulations!' : 'Try your best.') + ' Time:' + model.time + ', Count:' + model.count,\n\t        startButton: model.isWinner ? 'Start!' : 'Getting Solution...',\n\t        time: 0,\n\t        count: 0\n\t    });\n\t}\n\t\n\t/**\r\n\t * watch the block moving. update the style.\r\n\t */\n\tmodel.$watch('isRunning', function (isRunning) {\n\t    if (isRunning) {\n\t        cache.$startBtn.addClass('disable-click');\n\t        cache.$selectors.addClass('no-see');\n\t    } else {\n\t        cache.$startBtn.removeClass('disable-click');\n\t    }\n\t});\n\t\n\t/****************************************************************\r\n\t Event Handler\r\n\t ****************************************************************/\n\t\n\t/**\r\n\t * Move the block when it was clicked\r\n\t * if it is near the blank Block.\r\n\t */\n\t(0, _jquery2.default)('.playground').click(function (e) {\n\t    e.preventDefault();\n\t    var getIndex = (0, _helper.getterFactory)(model.blockMap, _selector.selectElement);\n\t    var nextDescriptor = (0, _helper.move)(getIndex(e.target), getIndex(cache.$blank[0]), model.blockMap);\n\t    if (!nextDescriptor) return;\n\t    _helper.update.call(model, nextDescriptor.state);\n\t    handleMovedMap(model);\n\t});\n\t\n\t/**\r\n\t * set data & style after moving a block.\r\n\t * @param model\r\n\t */\n\tfunction handleMovedMap(model) {\n\t    if ((0, _helper.isSolved)(model.blockMap)) {\n\t        model.isWinner = true;\n\t        model.gameState = _type.Type.Unstarted;\n\t    }\n\t    if (model.gameState === _type.Type.Pending) {\n\t        model.count++;\n\t    }\n\t}\n\t\n\tcache.$startBtn.click(function (e) {\n\t    e.preventDefault();\n\t    /**\r\n\t     * refuse when the animate running.\r\n\t     */\n\t    if (model.isRunning) return;\n\t    if (model.gameState === _type.Type.Unstarted) {\n\t        startGame(model);\n\t    } else if (model.gameState === _type.Type.Pending) {\n\t        stopGame(model);\n\t    }\n\t});\n\t\n\t/**\r\n\t * turn to starting.\r\n\t * @param model {model}\r\n\t */\n\tfunction startGame(model) {\n\t    /**\r\n\t     * Mix the puzzle.\r\n\t     * @type {string}\r\n\t     */\n\t    model.startButton = 'Mixing...';\n\t    (0, _helper.mix)(model, cache.$blank[0], cache.updater, _selector.selectElement).then(function () {\n\t        model.gameState = _type.Type.Pending;\n\t    });\n\t}\n\t\n\t/**\r\n\t * turn to stopping game.\r\n\t * @param model {model}\r\n\t */\n\tfunction stopGame(model) {\n\t    model.gameState = _type.Type.Unstarted;\n\t    handleStoppingGame(model);\n\t    /**\r\n\t     * Use Algorithm to solve the problem.\r\n\t     */\n\t    asyncRunningAlgorithm(_algorithm.AStar, generateInitialNode(model, _selector.selectElement)).then(function (resultNode) {\n\t        return displaySolution(model, resultNode);\n\t    }).then(function () {\n\t        handleEndingDisplaying(model);\n\t    });\n\t}\n\t\n\t/**\r\n\t * generate a initial parent Node for the algorithm.\r\n\t * @param model\r\n\t * @param selector\r\n\t * @return {Node}\r\n\t */\n\tfunction generateInitialNode(model, selector) {\n\t    var getIndex = (0, _helper.getterFactory)(model.blockMap, selector);\n\t    return new _dataStructure.Node(model.blockMap, getIndex(cache.$blank[0]), null);\n\t}\n\t\n\t/**\r\n\t * set data & style when stopping the game.\r\n\t * @param model\r\n\t */\n\tfunction handleStoppingGame(model) {\n\t    cache.$loading.removeClass('disable-see');\n\t}\n\t\n\t/**\r\n\t * running the algorithm after the UI handler.\r\n\t * @param algorithm\r\n\t * @param args\r\n\t * @return {Promise}\r\n\t */\n\tfunction asyncRunningAlgorithm(algorithm, args) {\n\t    return new Promise(function (resolve, reject) {\n\t        _lodash2.default.delay(function () {\n\t            resolve(algorithm(args));\n\t        }, 20);\n\t    });\n\t}\n\t\n\t/**\r\n\t * collect the solution path and display it.\r\n\t * @param model\r\n\t * @param resultNode\r\n\t * @return {Promise}\r\n\t */\n\tfunction displaySolution(model, resultNode) {\n\t    var path = collectSolutionPath(resultNode);\n\t    handleResolvingDisplaying(model);\n\t    return new Promise(function (resolve, reject) {\n\t        (0, _helper.showSolutionAsync)(path, cache.updater, resolve);\n\t    });\n\t}\n\t\n\t/**\r\n\t * convert the result node into a solution path.\r\n\t * @param resultNode {Node}\r\n\t * @return {Array<Node>}\r\n\t */\n\tfunction collectSolutionPath(resultNode) {\n\t    var path = [];\n\t    var target = resultNode;\n\t    while (target.parentNode) {\n\t        path.push(target);\n\t        target = target.parentNode;\n\t    }\n\t    return path;\n\t}\n\t\n\t/**\r\n\t * set Data & style while displaying the solution.\r\n\t * @param model\r\n\t */\n\tfunction handleResolvingDisplaying(model) {\n\t    cache.$loading.addClass('disable-see');\n\t    _lodash2.default.assign(model, {\n\t        startButton: 'Recovering...',\n\t        isRunning: true\n\t    });\n\t}\n\t\n\t/**\r\n\t * set Data & style after displaying the solution.\r\n\t * @param model\r\n\t */\n\tfunction handleEndingDisplaying(model) {\n\t    cache.$selectors.removeClass('no-see');\n\t    _lodash2.default.assign(model, {\n\t        startButton: 'Try Again! : )',\n\t        isRunning: false\n\t    });\n\t}\n\t\n\t/**\r\n\t * the image switcher.\r\n\t */\n\tcache.$selectors.click(function (e) {\n\t    e.preventDefault();\n\t    if (model.gameState === _type.Type.Unstarted) {\n\t        var currentImg = _type.Img.find(function (imageInfo) {\n\t            return imageInfo.name === e.target.id;\n\t        });\n\t        if (currentImg) model.imgUrl = currentImg.url.img;\n\t    }\n\t});\n\t\n\tconsole.log(model);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.PriorityQueue = exports.Node = undefined;\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Node =\n\t/**\r\n\t *\r\n\t * @param state {Array}\r\n\t * @param blankTargetIndex {Number}\r\n\t * @param parentNode {Node}\r\n\t */\n\texports.Node = function Node(state, blankTargetIndex, parentNode) {\n\t    _classCallCheck(this, Node);\n\t\n\t    Object.assign(this, {\n\t        state: state,\n\t        blankTargetIndex: blankTargetIndex,\n\t        parentNode: parentNode,\n\t        depth: parentNode !== null ? parentNode.depth + 1 : 0\n\t    });\n\t\n\t    this.h = computeH(this.state.map(_selector.selectNumber).map(mapIndexToDistanceObject).reduce(objectReducer));\n\t};\n\t\n\t/**\r\n\t * compute the h value of the current state.\r\n\t * @param distanceObject\r\n\t * @return {number}\r\n\t */\n\t\n\t\n\tfunction computeH(distanceObject) {\n\t    return distanceObject.manhatten * 6 + distanceObject.geometric * 3;\n\t}\n\t\n\t/**\r\n\t * map the number & index to the distance object.\r\n\t * @param number\r\n\t * @param index\r\n\t * @return {{manhatten: number, geometric: number}}\r\n\t */\n\tfunction mapIndexToDistanceObject(number, index) {\n\t    return {\n\t        manhatten: getManhattenDistance(number, index),\n\t        geometric: getGeometricDistance(number, index)\n\t    };\n\t}\n\t\n\t/**\r\n\t * get manhatten distance\r\n\t * @param from\r\n\t * @param to\r\n\t * @return {number}\r\n\t */\n\tfunction getManhattenDistance(from, to) {\n\t    return Math.abs(from % 4 - to % 4) + Math.abs(from >> 2 - to >> 2);\n\t}\n\t\n\t/**\r\n\t * get geometric distance\r\n\t * @param from\r\n\t * @param to\r\n\t * @return {number}\r\n\t */\n\tfunction getGeometricDistance(from, to) {\n\t    return Math.sqrt(Math.pow(from % 4 - to % 4, 2) + Math.pow(from >> 2 - to >> 2, 2));\n\t}\n\t\n\t/**\r\n\t * reduce the object\r\n\t * @param leftObject\r\n\t * @param rightObject\r\n\t * @return {Object}\r\n\t */\n\tfunction objectReducer(leftObject, rightObject) {\n\t    leftObject.manhatten += rightObject.manhatten;\n\t    leftObject.geometric += rightObject.geometric;\n\t    return leftObject;\n\t}\n\t\n\tvar PriorityQueue = exports.PriorityQueue = function (_Array) {\n\t    _inherits(PriorityQueue, _Array);\n\t\n\t    function PriorityQueue(compare) {\n\t        _classCallCheck(this, PriorityQueue);\n\t\n\t        var _this = _possibleConstructorReturn(this, (PriorityQueue.__proto__ || Object.getPrototypeOf(PriorityQueue)).call(this));\n\t\n\t        _this.push(null);\n\t        _this.compare = compare;\n\t\n\t        /**\r\n\t         * push\r\n\t         * @param item {*}\r\n\t         */\n\t        _this.enqueue = function (item) {\n\t            this.push(item);\n\t\n\t            var currentIndex = this.length - 1;\n\t            while (currentIndex > 1) {\n\t                var parentIndex = currentIndex >> 1;\n\t                if (this.compare(this[currentIndex], this[parentIndex]) < 0) {\n\t                    swap(this, parentIndex, currentIndex);\n\t                } else {\n\t                    break;\n\t                }\n\t                currentIndex = parentIndex;\n\t            }\n\t        };\n\t\n\t        /**\r\n\t         * Pop\r\n\t         * @return {*}\r\n\t         */\n\t        _this.dequeue = function () {\n\t            var _this2 = this;\n\t\n\t            var TopItem = this[1];\n\t            this[1] = this.pop();\n\t            if (this.length === 2) {\n\t                this.pop();\n\t            }\n\t\n\t            var Q = [1];\n\t\n\t            var _loop = function _loop() {\n\t                var parentIndex = Q.shift();\n\t                var minChildIndex = parentIndex;\n\t\n\t                var childIndexArray = [parentIndex << 1, parentIndex << 1 | 1];\n\t                childIndexArray.filter(function (childIndex) {\n\t                    return childIndex < _this2.length;\n\t                }).forEach(function (childIndex) {\n\t                    if (_this2.compare(_this2[childIndex], _this2[minChildIndex]) < 0) {\n\t                        minChildIndex = childIndex;\n\t                    }\n\t                });\n\t\n\t                if (parentIndex !== minChildIndex) {\n\t                    swap(_this2, parentIndex, minChildIndex);\n\t                    Q.push(minChildIndex);\n\t                }\n\t            };\n\t\n\t            while (Q.length) {\n\t                _loop();\n\t            }\n\t            return TopItem;\n\t        };\n\t\n\t        /**\r\n\t         * is empty?\r\n\t         * @return {boolean}\r\n\t         */\n\t        _this.empty = function () {\n\t            return this.length <= 1;\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    return PriorityQueue;\n\t}(Array);\n\t\n\tfunction swap(array, leftIndex, rightIndex) {\n\t    var temp = array[leftIndex];\n\t    array[leftIndex] = array[rightIndex];\n\t    array[rightIndex] = temp;\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar selectElement = exports.selectElement = function selectElement(o) {\n\t  return o.element;\n\t};\n\tvar selectNumber = exports.selectNumber = function selectNumber(o) {\n\t  return o.correctIndex;\n\t};\n\tvar selectOriginal = exports.selectOriginal = function selectOriginal(o) {\n\t  return o;\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.move = move;\n\texports.search = search;\n\texports.randomlySelectAndMoveAsync = randomlySelectAndMoveAsync;\n\texports.update = update;\n\texports.getNeighboursIndex = getNeighboursIndex;\n\texports.getterFactory = getterFactory;\n\texports.showSolutionAsync = showSolutionAsync;\n\texports.drawCanvas = drawCanvas;\n\texports.mix = mix;\n\texports.isSolved = isSolved;\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _lodash = __webpack_require__(6);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/***********************************************************\r\n\t Public Helper Function\r\n\t ***********************************************************/\n\t\n\t/**\r\n\t *\r\n\t * @param targetIndex {number}\r\n\t * @param blankTargetIndex {number}\r\n\t * @param map {{element:Element,correctIndex:number}[] | number[]}\r\n\t * @return {Node}\r\n\t */\n\tfunction move(targetIndex, blankTargetIndex, map) {\n\t    if (getNeighboursIndex(targetIndex).some(function (neighboursIndex) {\n\t        return neighboursIndex === blankTargetIndex;\n\t    })) {\n\t        return {\n\t            state: getNextMap(map, targetIndex, blankTargetIndex),\n\t            blankTargetIndex: targetIndex,\n\t            parentState: map\n\t        };\n\t    }\n\t}\n\t\n\tfunction getNextMap(map, targetIndex, blankTargetIndex) {\n\t    var nextMap = _lodash2.default.clone(map);\n\t    nextMap[targetIndex] = map[blankTargetIndex];\n\t    nextMap[blankTargetIndex] = map[targetIndex];\n\t    return nextMap;\n\t}\n\t\n\tfunction search(targetIndex, currentNode) {\n\t    var subNode = move(targetIndex, currentNode.blankTargetIndex, currentNode.state);\n\t    return new _dataStructure.Node(subNode.state, subNode.blankTargetIndex, currentNode);\n\t}\n\t\n\t/**\r\n\t * baffle the blocks.\r\n\t * @param times {number} the times.\r\n\t * @param speed {number} the speed of the block when moving. (ms)\r\n\t * @param resolve {function} promise resolve\r\n\t * @return {function}\r\n\t */\n\tfunction randomlySelectAndMoveAsync(times, speed, resolve) {\n\t    return function randomlyMove(preTargetIndex, blankTargetIndex, map, updater) {\n\t        var targetIndex = _lodash2.default.sample(getNeighboursIndex(blankTargetIndex).filter(function (index) {\n\t            return index !== preTargetIndex;\n\t        }));\n\t        var nextDescriptor = move(targetIndex, blankTargetIndex, map);\n\t        updater(nextDescriptor.state);\n\t        if (times--) _lodash2.default.delay(function () {\n\t            return randomlyMove(blankTargetIndex, nextDescriptor.blankTargetIndex, nextDescriptor.state, updater);\n\t        }, speed);else resolve(nextDescriptor);\n\t    };\n\t}\n\t\n\t/**\r\n\t * Update the view according nextBlankTargetIndex the descriptor.\r\n\t * @param nextState\r\n\t */\n\tfunction update(nextState) {\n\t    var patches = diff(nextState, this.blockMap);\n\t    render(patches, nextState);\n\t    this.blockMap = nextState;\n\t}\n\t\n\t/**\r\n\t * get the neighbours index.\r\n\t * @param targetIndex\r\n\t * @return {Array}\r\n\t */\n\tfunction getNeighboursIndex(targetIndex) {\n\t    return [{ X: 0, Y: -1 }, { X: 1, Y: 0 }, { X: 0, Y: 1 }, { X: -1, Y: 0 }].map(function (offset) {\n\t        return { X: targetIndex % 4 + offset.X, Y: Math.floor(targetIndex / 4) + offset.Y };\n\t    }).filter(function (position) {\n\t        return position.X >= 0 && position.X < 4 && position.Y >= 0 && position.Y < 4;\n\t    }).map(function (position) {\n\t        return position.Y * 4 + position.X;\n\t    });\n\t}\n\t\n\t/**\r\n\t * make a index getter\r\n\t * @param map\r\n\t * @param selector\r\n\t * @return {function(*): number}\r\n\t */\n\tfunction getterFactory(map, selector) {\n\t    return function (target) {\n\t        return map.map(selector).findIndex(function (object) {\n\t            return object === target;\n\t        });\n\t    };\n\t}\n\t\n\t/**\r\n\t * showing the solution for the solution path.\r\n\t * @param path {Array}\r\n\t * @param updater {Function}\r\n\t * @param resolve\r\n\t */\n\tfunction showSolutionAsync(path, updater, resolve) {\n\t    if (path.length) {\n\t        updater(path.pop().state);\n\t        _lodash2.default.delay(function () {\n\t            showSolutionAsync(path, updater, resolve);\n\t        }, 120);\n\t    } else resolve(path);\n\t}\n\t\n\t/**\r\n\t * draw the picture\r\n\t * @param canvasContextArray {Array}\r\n\t * @param image {Image}\r\n\t */\n\tfunction drawCanvas(canvasContextArray, image) {\n\t    canvasContextArray.forEach(function (ctx, index) {\n\t        return ctx.drawImage(image, index % 4 * (image.width / 4), Math.floor(index / 4) * (image.height / 4), image.width / 4, image.height / 4, 0, 0, 100, 100);\n\t    });\n\t    var last = canvasContextArray[canvasContextArray.length - 1];\n\t    last.fillStyle = 'rgba(120, 120, 120, 0.7)';\n\t    last.fillRect(0, 0, 100, 100);\n\t}\n\t\n\tfunction mix(model, blankElement, updater, selector) {\n\t    var getElementIndex = getterFactory(model.blockMap, selector);\n\t    var targetIndex = _lodash2.default.flow(getElementIndex, getNeighboursIndex, _lodash2.default.sample)(blankElement);\n\t    return new Promise(function (resolve, reject) {\n\t        model.isRunning = true;\n\t        randomlySelectAndMoveAsync(model.stepNumber, 120, resolve)(targetIndex, getElementIndex(blankElement), model.blockMap, updater);\n\t    });\n\t}\n\t\n\t/**\r\n\t * judge if it is Solved.\r\n\t * @param blockMap\r\n\t * @return {boolean|*}\r\n\t */\n\tfunction isSolved(blockMap) {\n\t    return blockMap.every(function (object, index) {\n\t        return object.correctIndex === index;\n\t    });\n\t}\n\t\n\t/***********************************************************\r\n\t Private Helper Function\r\n\t ***********************************************************/\n\t\n\t/**\r\n\t * Show the difference between the new map and the old map.\r\n\t * @param newMap {Array}\r\n\t * @param oldMap {Array}\r\n\t * @return {Array} tokens.\r\n\t */\n\tfunction diff(newMap, oldMap) {\n\t    var tokens = [];\n\t    newMap.forEach(function (newObject, index) {\n\t        var oldObject = oldMap[index];\n\t        if (newObject.correctIndex !== oldObject.correctIndex) tokens.push({ before: oldObject.correctIndex, after: newObject.correctIndex, index: index });\n\t    });\n\t    return tokens;\n\t}\n\t\n\t/**\r\n\t * render the data to the view\r\n\t * @param patches {Array}\r\n\t * @param map\r\n\t */\n\tfunction render(patches, map) {\n\t    patches.forEach(function (patch) {\n\t        var target = map[patch.index].element;\n\t        target.className = target.className.replace(/order-\\d*/, 'order-' + patch.index);\n\t    });\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.pushTarget = pushTarget;\n\texports.popTarget = popTarget;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar uid = 0;\n\t\n\t/**\r\n\t * 订阅者模式\r\n\t */\n\t\n\tvar Dependency = function () {\n\t    function Dependency() {\n\t        _classCallCheck(this, Dependency);\n\t\n\t        this.id = uid++;\n\t        this.subs = [];\n\t    }\n\t\n\t    _createClass(Dependency, [{\n\t        key: 'addSub',\n\t        value: function addSub(sub) {\n\t            this.subs.push(sub);\n\t        }\n\t\n\t        /**\r\n\t         * 通知依赖\r\n\t         * 这样Watcher就可以知道所维护的值需要依赖于哪些Model里面的其他值\r\n\t         */\n\t\n\t    }, {\n\t        key: 'depend',\n\t        value: function depend() {\n\t            if (Dependency.target) {\n\t                Dependency.target.addDependency(this);\n\t            }\n\t        }\n\t\n\t        /**\r\n\t         * 广播更新\r\n\t         */\n\t\n\t    }, {\n\t        key: 'notify',\n\t        value: function notify() {\n\t            var subs = this.subs.slice();\n\t            subs.forEach(function (sub) {\n\t                sub.update();\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Dependency;\n\t}();\n\t\n\t/**\r\n\t * 该依赖的全局监视者\r\n\t */\n\t\n\t\n\texports.default = Dependency;\n\tDependency.target = null;\n\t\n\tvar targetStack = [];\n\t\n\t/**\r\n\t * 全局每次更新只能有一个监视者更新, 使用栈维护\r\n\t * @param _target {Watcher}\r\n\t */\n\tfunction pushTarget(_target) {\n\t    if (Dependency.target) targetStack.push(Dependency.target);\n\t    Dependency.target = _target;\n\t}\n\t\n\tfunction popTarget() {\n\t    Dependency.target = targetStack.pop();\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.getGetter = getGetter;\n\t\n\tvar _dependency = __webpack_require__(4);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Watcher will call the callback when the value of the expression changes!\r\n\t */\n\tvar Watcher = function () {\n\t    /**\r\n\t     * @constructor\r\n\t     * @param model {model}\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t    function Watcher(model, expOrFn, callback) {\n\t        _classCallCheck(this, Watcher);\n\t\n\t        this.callback = callback;\n\t        this.model = model;\n\t\n\t        this.newDepIds = new Set();\n\t        this.newDeps = [];\n\t        this._getter = getGetter(expOrFn);\n\t        this.value = this.get();\n\t    }\n\t\n\t    /**\r\n\t     * get the value of the expression and collects the dep!\r\n\t     * @return {*}\r\n\t     */\n\t\n\t\n\t    _createClass(Watcher, [{\n\t        key: 'get',\n\t        value: function get() {\n\t            (0, _dependency.pushTarget)(this);\n\t            var value = this._getter.call(this.model, this.model); // collects the deps!\n\t            (0, _dependency.popTarget)();\n\t            return value;\n\t        }\n\t\n\t        /**\r\n\t         * add dependency for the watcher\r\n\t         * @param dep {Dependency}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'addDependency',\n\t        value: function addDependency(dep) {\n\t            var id = dep.id;\n\t            if (!this.newDepIds.has(id)) {\n\t                this.newDepIds.add(id);\n\t                this.newDeps.push(dep);\n\t                dep.addSub(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'update',\n\t        value: function update() {\n\t            this.run();\n\t            return this;\n\t        }\n\t\n\t        /**\r\n\t         * run the callback to update the value\r\n\t         */\n\t\n\t    }, {\n\t        key: 'run',\n\t        value: function run() {\n\t            var value = this.get();\n\t            if (value !== this.value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t                var oldValue = this.value;\n\t                this.value = value;\n\t                this.callback.call(this.model, value, oldValue);\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Watcher;\n\t}();\n\t\n\t/**\r\n\t * get the getter function of the expression after parsing.\r\n\t * @param expOrFn {string|Function}\r\n\t * @return {function}\r\n\t */\n\t\n\t\n\texports.default = Watcher;\n\tfunction getGetter(expOrFn) {\n\t    var getter = function getter() {\n\t        // do nothing..\n\t    };\n\t    if (typeof expOrFn === 'function') {\n\t        getter = expOrFn;\n\t    } else if (typeof expOrFn === 'string') {\n\t        getter = new Function('model', 'return model.' + expOrFn + ';');\n\t    } else {\n\t        console.warn(expOrFn + ' fail to parse!!');\n\t    }\n\t    return getter;\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = _;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.AStar = AStar;\n\t\n\tvar _dataStructure = __webpack_require__(1);\n\t\n\tvar _selector = __webpack_require__(2);\n\t\n\tvar _helper = __webpack_require__(3);\n\t\n\t/**\r\n\t * A* Algorithm\r\n\t * based on BFS with a function f to give an standard to choice\r\n\t * which node is the best when getting next state.\r\n\t * @param rootNode {Node} the root node. (Current State)\r\n\t * @return {Node|undefined} the last node\r\n\t */\n\tfunction AStar(rootNode) {\n\t    var _initializeAlgorithm = initializeAlgorithm(rootNode);\n\t\n\t    var _initializeAlgorithm2 = _slicedToArray(_initializeAlgorithm, 2);\n\t\n\t    var PQ = _initializeAlgorithm2[0];\n\t    var S = _initializeAlgorithm2[1];\n\t\n\t    var _loop = function _loop() {\n\t        var currentNode = PQ.dequeue();\n\t        if ((0, _helper.isSolved)(currentNode.state)) return {\n\t                v: currentNode\n\t            };\n\t        (0, _helper.getNeighboursIndex)(currentNode.blankTargetIndex).forEach(function (targetIndex) {\n\t            return tryInsertToSet((0, _helper.search)(targetIndex, currentNode), S, PQ);\n\t        });\n\t    };\n\t\n\t    while (!PQ.empty()) {\n\t        var _ret = _loop();\n\t\n\t        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t    }\n\t}\n\t\n\t/**\r\n\t * initialize the algorithm.\r\n\t * @param rootNode\r\n\t * @return {*[]}\r\n\t */\n\tfunction initializeAlgorithm(rootNode) {\n\t    var PQ = new _dataStructure.PriorityQueue(compare);\n\t    var S = new Set();\n\t    PQ.enqueue(rootNode);\n\t    return [PQ, S];\n\t}\n\t\n\t/**\r\n\t * general compare function.\r\n\t * @param left\r\n\t * @param right\r\n\t * @return {number}\r\n\t */\n\tfunction compare(left, right) {\n\t    return left.h - right.h + left.depth - right.depth;\n\t}\n\t\n\t/**\r\n\t * check the signature and insert to the set.\r\n\t * @param nextNode\r\n\t * @param set\r\n\t * @param priorityQueue\r\n\t */\n\tfunction tryInsertToSet(nextNode, set, priorityQueue) {\n\t    var signature = nextNode.state.map(_selector.selectNumber).toString();\n\t    if (!set.has(signature)) {\n\t        priorityQueue.enqueue(nextNode);\n\t        set.add(signature);\n\t    }\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.compile = compile;\n\t\n\tvar _watcher = __webpack_require__(5);\n\t\n\tvar _watcher2 = _interopRequireDefault(_watcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction compile(element, model) {\n\t    var nodeList = element.childNodes;\n\t    var _iteratorNormalCompletion = true;\n\t    var _didIteratorError = false;\n\t    var _iteratorError = undefined;\n\t\n\t    try {\n\t        for (var _iterator = nodeList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t            var node = _step.value;\n\t\n\t            if (node.nodeType === 3) {\n\t                compileTextNode(node, model);\n\t            } else if (node.nodeType === 1) {\n\t                compile(node, model);\n\t            }\n\t        }\n\t    } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t    } finally {\n\t        try {\n\t            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                _iterator.return();\n\t            }\n\t        } finally {\n\t            if (_didIteratorError) {\n\t                throw _iteratorError;\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\tvar tagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\n\t\n\tfunction compileTextNode(textNode, model) {\n\t    var tokens = parseText(textNode.textContent);\n\t    if (!tokens) return;\n\t    var frag = document.createDocumentFragment();\n\t    tokens.forEach(function (obj) {\n\t        var ele = void 0;\n\t        if (obj.expression) {\n\t            ele = document.createTextNode((0, _watcher.getGetter)(obj.expression)(model));\n\t            model._watchers.push(new _watcher2.default(model, obj.expression, function (newValue, oldValue) {\n\t                ele.textContent = newValue;\n\t            }));\n\t        } else {\n\t            ele = document.createTextNode(obj.value);\n\t        }\n\t        frag.appendChild(ele);\n\t    });\n\t\n\t    var parentNode = textNode.parentNode;\n\t    parentNode.replaceChild(frag, textNode);\n\t}\n\t\n\tfunction parseText(text) {\n\t    if (!tagRE.test(text)) return;\n\t\n\t    var tokens = [];\n\t    var lastIndex = tagRE.lastIndex = 0;\n\t    var match = void 0,\n\t        index = void 0;\n\t    while (match = tagRE.exec(text)) {\n\t        index = match.index;\n\t        // push text token\n\t        if (index > lastIndex) {\n\t            tokens.push({\n\t                value: text.slice(lastIndex, index)\n\t            });\n\t        }\n\t        // tag token\n\t        var exp = match[1];\n\t        tokens.push({\n\t            expression: exp,\n\t            value: exp\n\t        });\n\t        lastIndex = index + match[0].length;\n\t    }\n\t    if (lastIndex < text.length) {\n\t        tokens.push({\n\t            value: text.slice(lastIndex)\n\t        });\n\t    }\n\t    return tokens;\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * myModel is a very very very tiny MVVM lib.\r\n\t *\r\n\t * @Updated 2016/10/14 Zhiyu He\r\n\t */\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(11);\n\t\n\tvar _compiler = __webpack_require__(8);\n\t\n\tvar _watcher = __webpack_require__(5);\n\t\n\tvar _watcher2 = _interopRequireDefault(_watcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Model = function () {\n\t    function Model() {\n\t        var _this = this;\n\t\n\t        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        _classCallCheck(this, Model);\n\t\n\t        this._data = options.data;\n\t        this._watchers = [];\n\t        this._target = options.target ? document.querySelector(options.target) : undefined;\n\t        Object.keys(this._data).forEach(function (key) {\n\t            proxy(_this, key);\n\t        });\n\t        (0, _index.observe)(this._data);\n\t        if (this._target) (0, _compiler.compile)(this._target, this);\n\t    }\n\t\n\t    /**\r\n\t     * when the vale of the expression changes,\r\n\t     * the callback would be called\r\n\t     * callback example:\r\n\t     *        (newValue, oldValue) => *, this <===> model\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t\n\t\n\t    _createClass(Model, [{\n\t        key: '$watch',\n\t        value: function $watch(expOrFn, callback) {\n\t            var watcher = new _watcher2.default(this, expOrFn, callback);\n\t            this._watchers.push(watcher);\n\t        }\n\t    }]);\n\t\n\t    return Model;\n\t}();\n\t\n\t/**\r\n\t * proxy the properties\r\n\t * example:\r\n\t *      model.key <===> model._data.key\r\n\t * @param model {Model}\r\n\t * @param key {String}\r\n\t */\n\t\n\t\n\texports.default = Model;\n\tfunction proxy(model, key) {\n\t    Object.defineProperty(model, key, {\n\t        configurable: true,\n\t        enumerable: true,\n\t        get: function get() {\n\t            return model._data[key];\n\t        },\n\t        set: function set(newVal) {\n\t            model._data[key] = newVal;\n\t        }\n\t    });\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * []\r\n\t * @type {Array}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar arrayMethods = exports.arrayMethods = Object.create(Array.prototype);\n\t\n\t['push', 'dequeue', 'shift', 'unshift', 'sort', 'reverse', 'splice'].forEach(function (methodName) {\n\t    var original = Array.prototype[methodName];\n\t    Object.defineProperty(arrayMethods, methodName, {\n\t        enumerable: false,\n\t        writable: true,\n\t        configurable: true,\n\t        value: function value() {\n\t            var args = Array.from(arguments);\n\t            var result = original.apply(this, args);\n\t            var observer = this['__ob__'];\n\t            observeNewItems(methodName, args, observer);\n\t            observer.dep.notify();\n\t            return result;\n\t        }\n\t    });\n\t});\n\t\n\tfunction observeNewItems(methodName, args, observer) {\n\t    var inserted = undefined;\n\t    switch (methodName) {\n\t        case 'push':\n\t            inserted = args;\n\t            break;\n\t        case 'unshift':\n\t            inserted = args;\n\t            break;\n\t        case 'splice':\n\t            inserted = args.slice(2);\n\t            break;\n\t    }\n\t    if (inserted) {\n\t        observer.observeArray(inserted);\n\t    }\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.observe = observe;\n\t\n\tvar _dependency = __webpack_require__(4);\n\t\n\tvar _dependency2 = _interopRequireDefault(_dependency);\n\t\n\tvar _array = __webpack_require__(10);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Observer = function () {\n\t    function Observer(value) {\n\t        _classCallCheck(this, Observer);\n\t\n\t        this.value = value;\n\t        this.dep = new _dependency2.default();\n\t        Object.defineProperty(value, '__ob__', {\n\t            value: this,\n\t            enumerable: false,\n\t            writable: true,\n\t            configurable: true\n\t        });\n\t\n\t        if (Array.isArray(value)) {\n\t            augment(value, _array.arrayMethods);\n\t            this.observeArray(value);\n\t        } else this.walk(value);\n\t    }\n\t\n\t    /**\r\n\t     * travel all the props of the object, and set reactive props.\r\n\t     * @param obj {object}\r\n\t     */\n\t\n\t\n\t    _createClass(Observer, [{\n\t        key: 'walk',\n\t        value: function walk(obj) {\n\t            Object.keys(obj).forEach(function (key) {\n\t                defineReactive(obj, key, obj[key]);\n\t            });\n\t        }\n\t\n\t        /**\r\n\t         * Observe a list of Array items.\r\n\t         * @param items {Array}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'observeArray',\n\t        value: function observeArray(items) {\n\t            items.forEach(function (value) {\n\t                observe(value);\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Observer;\n\t}();\n\t\n\t/**\r\n\t * observe a property and set a observer if the property doesn't own one;\r\n\t * @param value {object} the property that needs nextBlankTargetIndex be observed\r\n\t * @return {Observer|undefined} if it is a string or number, returns undefined\r\n\t */\n\t\n\t\n\tfunction observe(value) {\n\t    if (!value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n\t        return;\n\t    }\n\t    var ob = void 0;\n\t    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\n\t        ob = value['__ob__'];\n\t    } else if (Object.isExtensible(value)) {\n\t        ob = new Observer(value);\n\t    }\n\t    return ob;\n\t}\n\t\n\t/**\r\n\t * Make the prop reactified\r\n\t * @param obj {Object}\r\n\t * @param key {String}\r\n\t * @param val {*}\r\n\t * @return {*}\r\n\t */\n\tfunction defineReactive(obj, key, val) {\n\t    var dep = new _dependency2.default();\n\t\n\t    var childObserver = observe(val);\n\t\n\t    Object.defineProperty(obj, key, {\n\t        enumerable: true,\n\t        configurable: true,\n\t        get: function get() {\n\t            if (_dependency2.default.target) {\n\t                dep.depend();\n\t                if (childObserver) {\n\t                    childObserver.dep.depend();\n\t                }\n\t                if (Array.isArray(val)) {\n\t                    val.forEach(function (item) {\n\t                        item && item['__ob__'] && item['__ob__'].dep.depend();\n\t                    });\n\t                }\n\t            }\n\t            return val;\n\t        },\n\t        set: function set(newVal) {\n\t            if (newVal === val) return;\n\t            val = newVal;\n\t            dep.notify();\n\t        }\n\t    });\n\t}\n\t\n\tfunction augment(target, src) {\n\t    target.__proto__ = src;\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * The State constant of the game.\r\n\t * @type {{Unstarted: string, Pending: string, Win: string, Lose: string, Over: string}}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar Type = exports.Type = {\n\t    Unstarted: 'UNSTARTED',\n\t    Pending: 'PENDING',\n\t    Win: 'WIN',\n\t    Lose: 'LOSE',\n\t    Over: 'OVER'\n\t};\n\t\n\tvar Img = exports.Img = [{\n\t    name: 'panda',\n\t    url: {\n\t        img: './img/panda.jpg',\n\t        bg: './img/bg_gfpanda.jpg'\n\t    }\n\t}, {\n\t    name: 'overwatch',\n\t    url: {\n\t        img: './img/img_overwatch.jpg',\n\t        bg: './img/bg_overwatch.jpg'\n\t    }\n\t}, {\n\t    name: 'zootopia',\n\t    url: {\n\t        img: './img/img_zootopia.jpeg',\n\t        bg: './img/bg_zootopia.jpeg'\n\t    }\n\t}, {\n\t    name: 'baymax',\n\t    url: {\n\t        img: './img/img_baymax.jpg',\n\t        bg: './img/bg_baymax.jpg'\n\t    }\n\t}];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 504589862ed3453f9370\n **/","'use strict';\r\n\r\nimport Model from './myModel/index.js';\r\nimport $ from 'jquery';\r\nimport _ from 'lodash';\r\nimport {\r\n    move,\r\n    getterFactory,\r\n    update,\r\n    showSolutionAsync,\r\n    drawCanvas,\r\n    mix,\r\n    isSolved\r\n} from  './helper.js'\r\nimport {Node} from './data-structure.js';\r\nimport {Type, Img} from './type.js';\r\nimport {selectElement} from './selector.js';\r\nimport {AStar} from './algorithm.js';\r\n\r\n/**\r\n *           That's Me!\r\n *              ↓ ↓\r\n * View <==> View-Model <==> Model\r\n */\r\nconst model = new Model({\r\n    target: '.container',\r\n    data: {\r\n        imgUrl: '',\r\n        blockMap: Array\r\n            .from(document.querySelectorAll('.block'))\r\n            .map((element, index) => ({element, correctIndex: index})),\r\n        startButton: 'Start!',\r\n        gameState: Type.Unstarted,\r\n        isRunning: false,\r\n        isWinner: false,\r\n        time: 0,\r\n        count: 0,\r\n        message: 'Welcome to play the Puzzle!!',\r\n        stepNumber: 15\r\n    }\r\n});\r\n\r\n/**\r\n * the jquery object cache.\r\n * @type {{$blank: (any), $loading: (any), $startBtn: (any), $selectors: (any), updater: (())}}\r\n */\r\nconst cache = {\r\n    $blank: $('#blk-15'),\r\n    $loading: $('#loading'),\r\n    $startBtn: $('#start'),\r\n    $selectors: $('.img-groups'),\r\n    updater: update.bind(model)\r\n};\r\n\r\n/****************************************************************\r\n View-Callbacks\r\n 1. watch the variable of the model.\r\n 2. call the callback when the variable change.\r\n 3. then update the view by operating on the DOM node.\r\n ****************************************************************/\r\n\r\n/**\r\n * change the image.\r\n */\r\nmodel.$watch('imgUrl', function (newValue, oldValue) {\r\n    const img = new Image();\r\n    const ctxArray = this.blockMap.map(object => object.element.getContext('2d'));\r\n    img.src = newValue;\r\n    img.onload = () => {\r\n        drawCanvas(ctxArray, img);\r\n    };\r\n});\r\n\r\n/**\r\n * use the default image: KongFu Panda.\r\n * @type {string}\r\n */\r\nmodel.imgUrl = './img/panda.jpg';\r\n\r\n/**\r\n * be reactive to the state of the game.\r\n */\r\nmodel.$watch('gameState', function (newValue, oldValue) {\r\n    /**\r\n     * When the game starts...\r\n     */\r\n    if (Type.Pending === newValue) {\r\n        handleBeginningGame(this);\r\n    }\r\n    /**\r\n     * When the game over or give up.\r\n     */\r\n    if (Type.Pending === oldValue) {\r\n        handleEndingGame(this);\r\n    }\r\n});\r\n\r\n/**\r\n * normalize data & style.\r\n * @param model\r\n */\r\nfunction handleBeginningGame(model) {\r\n    normalizeInitialGameData(model);\r\n    cache.$selectors.addClass('no-see');\r\n    beginCount(model);\r\n}\r\n\r\n/**\r\n * set initial data of the game.\r\n * @param model\r\n */\r\nfunction normalizeInitialGameData(model) {\r\n    _.assign(model, {\r\n        isRunning: false,\r\n        startButton: 'Give Up : (',\r\n        time: 0,\r\n        count: 0,\r\n        isWinner: false,\r\n        message: 'Game Starting...'\r\n    });\r\n}\r\n\r\n/**\r\n * counting the time every 1s.\r\n * @param model\r\n */\r\nfunction beginCount(model) {\r\n    const timeUid = setInterval(() => {\r\n        if (model.gameState === Type.Pending) {\r\n            model.time++;\r\n        } else\r\n            clearInterval(timeUid);\r\n    }, 1000);\r\n}\r\n\r\n/**\r\n * set data & style when game ending.\r\n * @param model\r\n */\r\nfunction handleEndingGame(model) {\r\n    if (model.isWinner)\r\n        cache.$selectors.removeClass('no-see');\r\n    _.assign(model, {\r\n        message: `${model.isWinner ? 'Congratulations!' : 'Try your best.'} Time:${model.time}, Count:${model.count}`,\r\n        startButton: model.isWinner ? 'Start!' : 'Getting Solution...',\r\n        time: 0,\r\n        count: 0\r\n    });\r\n}\r\n\r\n/**\r\n * watch the block moving. update the style.\r\n */\r\nmodel.$watch('isRunning', function (isRunning) {\r\n    if (isRunning) {\r\n        cache.$startBtn.addClass('disable-click');\r\n        cache.$selectors.addClass('no-see');\r\n    } else {\r\n        cache.$startBtn.removeClass('disable-click');\r\n    }\r\n});\r\n\r\n/****************************************************************\r\n Event Handler\r\n ****************************************************************/\r\n\r\n/**\r\n * Move the block when it was clicked\r\n * if it is near the blank Block.\r\n */\r\n$('.playground').click(e => {\r\n    e.preventDefault();\r\n    const getIndex = getterFactory(model.blockMap, selectElement);\r\n    const nextDescriptor = move(getIndex(e.target), getIndex(cache.$blank[0]), model.blockMap);\r\n    if (!nextDescriptor) return;\r\n    update.call(model, nextDescriptor.state);\r\n    handleMovedMap(model);\r\n});\r\n\r\n/**\r\n * set data & style after moving a block.\r\n * @param model\r\n */\r\nfunction handleMovedMap(model) {\r\n    if (isSolved(model.blockMap)) {\r\n        model.isWinner = true;\r\n        model.gameState = Type.Unstarted;\r\n    }\r\n    if (model.gameState === Type.Pending) {\r\n        model.count++;\r\n    }\r\n}\r\n\r\n\r\ncache.$startBtn.click(e => {\r\n    e.preventDefault();\r\n    /**\r\n     * refuse when the animate running.\r\n     */\r\n    if (model.isRunning) return;\r\n    if (model.gameState === Type.Unstarted) {\r\n        startGame(model);\r\n    } else if (model.gameState === Type.Pending) {\r\n        stopGame(model);\r\n    }\r\n\r\n});\r\n\r\n/**\r\n * turn to starting.\r\n * @param model {model}\r\n */\r\nfunction startGame(model) {\r\n    /**\r\n     * Mix the puzzle.\r\n     * @type {string}\r\n     */\r\n    model.startButton = 'Mixing...';\r\n    mix(model, cache.$blank[0], cache.updater, selectElement)\r\n        .then(() => {\r\n            model.gameState = Type.Pending;\r\n        });\r\n}\r\n\r\n/**\r\n * turn to stopping game.\r\n * @param model {model}\r\n */\r\nfunction stopGame(model) {\r\n    model.gameState = Type.Unstarted;\r\n    handleStoppingGame(model);\r\n    /**\r\n     * Use Algorithm to solve the problem.\r\n     */\r\n    asyncRunningAlgorithm(AStar, generateInitialNode(model, selectElement))\r\n        .then(resultNode => displaySolution(model, resultNode))\r\n        .then(() => {\r\n            handleEndingDisplaying(model);\r\n        });\r\n}\r\n\r\n/**\r\n * generate a initial parent Node for the algorithm.\r\n * @param model\r\n * @param selector\r\n * @return {Node}\r\n */\r\nfunction generateInitialNode(model, selector) {\r\n    const getIndex = getterFactory(model.blockMap, selector);\r\n    return new Node(model.blockMap, getIndex(cache.$blank[0]), null);\r\n}\r\n\r\n/**\r\n * set data & style when stopping the game.\r\n * @param model\r\n */\r\nfunction handleStoppingGame(model) {\r\n    cache.$loading.removeClass('disable-see');\r\n}\r\n\r\n/**\r\n * running the algorithm after the UI handler.\r\n * @param algorithm\r\n * @param args\r\n * @return {Promise}\r\n */\r\nfunction asyncRunningAlgorithm(algorithm, args) {\r\n    return new Promise((resolve, reject) => {\r\n        _.delay(() => {\r\n            resolve(algorithm(args));\r\n        }, 20);\r\n    });\r\n}\r\n\r\n/**\r\n * collect the solution path and display it.\r\n * @param model\r\n * @param resultNode\r\n * @return {Promise}\r\n */\r\nfunction displaySolution(model, resultNode) {\r\n    const path = collectSolutionPath(resultNode);\r\n    handleResolvingDisplaying(model);\r\n    return new Promise((resolve, reject) => {\r\n        showSolutionAsync(path, cache.updater, resolve);\r\n    });\r\n}\r\n\r\n/**\r\n * convert the result node into a solution path.\r\n * @param resultNode {Node}\r\n * @return {Array<Node>}\r\n */\r\nfunction collectSolutionPath(resultNode) {\r\n    const path = [];\r\n    let target = resultNode;\r\n    while (target.parentNode) {\r\n        path.push(target);\r\n        target = target.parentNode;\r\n    }\r\n    return path;\r\n}\r\n\r\n/**\r\n * set Data & style while displaying the solution.\r\n * @param model\r\n */\r\nfunction handleResolvingDisplaying(model) {\r\n    cache.$loading.addClass('disable-see');\r\n    _.assign(model, {\r\n        startButton: 'Recovering...',\r\n        isRunning: true\r\n    });\r\n}\r\n\r\n/**\r\n * set Data & style after displaying the solution.\r\n * @param model\r\n */\r\nfunction handleEndingDisplaying(model) {\r\n    cache.$selectors.removeClass('no-see');\r\n    _.assign(model, {\r\n        startButton: 'Try Again! : )',\r\n        isRunning: false\r\n    });\r\n}\r\n\r\n/**\r\n * the image switcher.\r\n */\r\ncache.$selectors\r\n    .click(e => {\r\n        e.preventDefault();\r\n        if (model.gameState === Type.Unstarted) {\r\n            const currentImg = Img.find(imageInfo => imageInfo.name === e.target.id);\r\n            if (currentImg)\r\n                model.imgUrl = currentImg.url.img;\r\n        }\r\n    });\r\n\r\nconsole.log(model);\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","'use strict';\r\n\r\nimport {selectNumber} from './selector.js';\r\n\r\nexport class Node {\r\n    /**\r\n     *\r\n     * @param state {Array}\r\n     * @param blankTargetIndex {Number}\r\n     * @param parentNode {Node}\r\n     */\r\n    constructor(state, blankTargetIndex, parentNode) {\r\n        Object.assign(this, {\r\n            state,\r\n            blankTargetIndex,\r\n            parentNode,\r\n            depth: parentNode !== null ? parentNode.depth + 1 : 0,\r\n        });\r\n\r\n        this.h = computeH(this.state.map(selectNumber).map(mapIndexToDistanceObject).reduce(objectReducer));\r\n    }\r\n}\r\n\r\n/**\r\n * compute the h value of the current state.\r\n * @param distanceObject\r\n * @return {number}\r\n */\r\nfunction computeH(distanceObject) {\r\n    return (distanceObject.manhatten * 6 + distanceObject.geometric * 3);\r\n}\r\n\r\n/**\r\n * map the number & index to the distance object.\r\n * @param number\r\n * @param index\r\n * @return {{manhatten: number, geometric: number}}\r\n */\r\nfunction mapIndexToDistanceObject(number, index) {\r\n    return {\r\n        manhatten: getManhattenDistance(number, index),\r\n        geometric: getGeometricDistance(number, index)\r\n    };\r\n}\r\n\r\n/**\r\n * get manhatten distance\r\n * @param from\r\n * @param to\r\n * @return {number}\r\n */\r\nfunction getManhattenDistance(from, to) {\r\n    return Math.abs(from % 4 - to % 4) + Math.abs(from >> 2 - to >> 2);\r\n}\r\n\r\n/**\r\n * get geometric distance\r\n * @param from\r\n * @param to\r\n * @return {number}\r\n */\r\nfunction getGeometricDistance(from, to) {\r\n    return Math.sqrt(Math.pow((from % 4 - to % 4), 2) + Math.pow(from >> 2 - to >> 2, 2));\r\n}\r\n\r\n/**\r\n * reduce the object\r\n * @param leftObject\r\n * @param rightObject\r\n * @return {Object}\r\n */\r\nfunction objectReducer(leftObject, rightObject) {\r\n    leftObject.manhatten += rightObject.manhatten;\r\n    leftObject.geometric += rightObject.geometric;\r\n    return leftObject;\r\n}\r\n\r\nexport class PriorityQueue extends Array {\r\n    constructor(compare) {\r\n        super();\r\n        this.push(null);\r\n        this.compare = compare;\r\n\r\n        /**\r\n         * push\r\n         * @param item {*}\r\n         */\r\n        this.enqueue = function (item) {\r\n            this.push(item);\r\n\r\n            let currentIndex = this.length - 1;\r\n            while (currentIndex > 1) {\r\n                const parentIndex = currentIndex >> 1;\r\n                if (this.compare(this[currentIndex], this[parentIndex]) < 0) {\r\n                    swap(this, parentIndex, currentIndex);\r\n                } else {\r\n                    break;\r\n                }\r\n                currentIndex = parentIndex;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Pop\r\n         * @return {*}\r\n         */\r\n        this.dequeue = function () {\r\n            const TopItem = this[1];\r\n            this[1] = this.pop();\r\n            if (this.length === 2) {\r\n                this.pop();\r\n            }\r\n\r\n            const Q = [1];\r\n            while (Q.length) {\r\n                const parentIndex = Q.shift();\r\n                let minChildIndex = parentIndex;\r\n\r\n\r\n                const childIndexArray = [parentIndex << 1, (parentIndex << 1) | 1];\r\n                childIndexArray.filter(childIndex => {\r\n                    return childIndex < this.length;\r\n                }).forEach(childIndex => {\r\n                    if (this.compare(this[childIndex], this[minChildIndex]) < 0) {\r\n                        minChildIndex = childIndex;\r\n                    }\r\n                });\r\n\r\n                if (parentIndex !== minChildIndex) {\r\n                    swap(this, parentIndex, minChildIndex);\r\n                    Q.push(minChildIndex);\r\n                }\r\n            }\r\n            return TopItem;\r\n        };\r\n\r\n        /**\r\n         * is empty?\r\n         * @return {boolean}\r\n         */\r\n        this.empty = function () {\r\n            return this.length <= 1;\r\n        }\r\n    }\r\n}\r\n\r\nfunction swap(array, leftIndex, rightIndex) {\r\n    const temp = array[leftIndex];\r\n    array[leftIndex] = array[rightIndex];\r\n    array[rightIndex] = temp;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/data-structure.js\n **/","'use strict';\r\n\r\nexport const selectElement = o => o.element;\r\nexport const selectNumber = o => o.correctIndex;\r\nexport const selectOriginal = o => o;\n\n\n/** WEBPACK FOOTER **\n ** ./src/selector.js\n **/","'use strict';\r\n\r\nimport {Node} from './data-structure.js';\r\nimport _ from 'lodash';\r\n\r\n/***********************************************************\r\n Public Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n *\r\n * @param targetIndex {number}\r\n * @param blankTargetIndex {number}\r\n * @param map {{element:Element,correctIndex:number}[] | number[]}\r\n * @return {Node}\r\n */\r\nexport function move(targetIndex, blankTargetIndex, map) {\r\n    if (getNeighboursIndex(targetIndex)\r\n            .some(neighboursIndex => neighboursIndex === blankTargetIndex)) {\r\n        return {\r\n            state: getNextMap(map, targetIndex, blankTargetIndex),\r\n            blankTargetIndex: targetIndex,\r\n            parentState: map\r\n        }\r\n    }\r\n}\r\n\r\nfunction getNextMap(map, targetIndex, blankTargetIndex) {\r\n    const nextMap = _.clone(map);\r\n    nextMap[targetIndex] = map[blankTargetIndex];\r\n    nextMap[blankTargetIndex] = map[targetIndex];\r\n    return nextMap;\r\n}\r\n\r\nexport function search(targetIndex, currentNode) {\r\n    const subNode = move(targetIndex, currentNode.blankTargetIndex, currentNode.state);\r\n    return new Node(subNode.state, subNode.blankTargetIndex, currentNode);\r\n}\r\n\r\n/**\r\n * baffle the blocks.\r\n * @param times {number} the times.\r\n * @param speed {number} the speed of the block when moving. (ms)\r\n * @param resolve {function} promise resolve\r\n * @return {function}\r\n */\r\nexport function randomlySelectAndMoveAsync(times, speed, resolve) {\r\n    return function randomlyMove(preTargetIndex, blankTargetIndex, map, updater) {\r\n        const targetIndex = _.sample(getNeighboursIndex(blankTargetIndex).filter(index => index !== preTargetIndex));\r\n        const nextDescriptor = move(targetIndex, blankTargetIndex, map);\r\n        updater(nextDescriptor.state);\r\n        if (times--)\r\n            _.delay(() => randomlyMove(blankTargetIndex, nextDescriptor.blankTargetIndex, nextDescriptor.state, updater), speed);\r\n        else\r\n            resolve(nextDescriptor);\r\n    };\r\n}\r\n\r\n\r\n/**\r\n * Update the view according nextBlankTargetIndex the descriptor.\r\n * @param nextState\r\n */\r\nexport function update(nextState) {\r\n    const patches = diff(nextState, this.blockMap);\r\n    render(patches, nextState);\r\n    this.blockMap = nextState;\r\n}\r\n\r\n/**\r\n * get the neighbours index.\r\n * @param targetIndex\r\n * @return {Array}\r\n */\r\nexport function getNeighboursIndex(targetIndex) {\r\n    return [{X: 0, Y: -1}, {X: 1, Y: 0}, {X: 0, Y: 1}, {X: -1, Y: 0}]\r\n        .map(offset => ({X: targetIndex % 4 + offset.X, Y: Math.floor(targetIndex / 4) + offset.Y}))\r\n        .filter(position => (position.X >= 0 && position.X < 4 && position.Y >= 0 && position.Y < 4))\r\n        .map(position => position.Y * 4 + position.X);\r\n}\r\n\r\n/**\r\n * make a index getter\r\n * @param map\r\n * @param selector\r\n * @return {function(*): number}\r\n */\r\nexport function getterFactory(map, selector) {\r\n    return target => map.map(selector).findIndex(object => object === target);\r\n}\r\n\r\n/**\r\n * showing the solution for the solution path.\r\n * @param path {Array}\r\n * @param updater {Function}\r\n * @param resolve\r\n */\r\nexport function showSolutionAsync(path, updater, resolve) {\r\n    if (path.length) {\r\n        updater(path.pop().state);\r\n        _.delay(() => {\r\n            showSolutionAsync(path, updater, resolve);\r\n        }, 120);\r\n    } else resolve(path);\r\n}\r\n\r\n/**\r\n * draw the picture\r\n * @param canvasContextArray {Array}\r\n * @param image {Image}\r\n */\r\nexport function drawCanvas(canvasContextArray, image) {\r\n    canvasContextArray.forEach((ctx, index) =>\r\n        ctx.drawImage(image, (index % 4) * (image.width / 4), Math.floor(index / 4) * (image.height / 4),\r\n            (image.width / 4), (image.height / 4), 0, 0, 100, 100));\r\n    const last = canvasContextArray[canvasContextArray.length - 1];\r\n    last.fillStyle = 'rgba(120, 120, 120, 0.7)';\r\n    last.fillRect(0, 0, 100, 100);\r\n}\r\n\r\nexport function mix(model, blankElement, updater, selector) {\r\n    const getElementIndex = getterFactory(model.blockMap, selector);\r\n    const targetIndex = _.flow(getElementIndex, getNeighboursIndex, _.sample)(blankElement);\r\n    return new Promise((resolve, reject) => {\r\n        model.isRunning = true;\r\n        randomlySelectAndMoveAsync(model.stepNumber, 120, resolve)(\r\n            targetIndex, getElementIndex(blankElement), model.blockMap, updater\r\n        );\r\n    });\r\n}\r\n\r\n/**\r\n * judge if it is Solved.\r\n * @param blockMap\r\n * @return {boolean|*}\r\n */\r\nexport function isSolved(blockMap) {\r\n    return blockMap.every((object, index) => object.correctIndex === index);\r\n}\r\n\r\n/***********************************************************\r\n Private Helper Function\r\n ***********************************************************/\r\n\r\n/**\r\n * Show the difference between the new map and the old map.\r\n * @param newMap {Array}\r\n * @param oldMap {Array}\r\n * @return {Array} tokens.\r\n */\r\nfunction diff(newMap, oldMap) {\r\n    const tokens = [];\r\n    newMap.forEach((newObject, index) => {\r\n        const oldObject = oldMap[index];\r\n        if (newObject.correctIndex !== oldObject.correctIndex)\r\n            tokens.push({before: oldObject.correctIndex, after: newObject.correctIndex, index});\r\n    });\r\n    return tokens;\r\n}\r\n\r\n/**\r\n * render the data to the view\r\n * @param patches {Array}\r\n * @param map\r\n */\r\nfunction render(patches, map) {\r\n    patches.forEach(patch => {\r\n        const target = map[patch.index].element;\r\n        target.className = target.className.replace(/order-\\d*/, `order-${patch.index}`);\r\n    });\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper.js\n **/","'use strict';\r\n\r\nlet uid = 0;\r\n\r\n/**\r\n * 订阅者模式\r\n */\r\nexport default class Dependency {\r\n    constructor() {\r\n        this.id = uid++;\r\n        this.subs = [];\r\n    }\r\n\r\n    addSub(sub) {\r\n        this.subs.push(sub);\r\n    }\r\n\r\n    /**\r\n     * 通知依赖\r\n     * 这样Watcher就可以知道所维护的值需要依赖于哪些Model里面的其他值\r\n     */\r\n    depend() {\r\n        if (Dependency.target) {\r\n            Dependency.target.addDependency(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 广播更新\r\n     */\r\n    notify() {\r\n        const subs = this.subs.slice();\r\n        subs.forEach(sub => {\r\n            sub.update();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * 该依赖的全局监视者\r\n */\r\nDependency.target = null;\r\n\r\nconst targetStack = [];\r\n\r\n/**\r\n * 全局每次更新只能有一个监视者更新, 使用栈维护\r\n * @param _target {Watcher}\r\n */\r\nexport function pushTarget(_target) {\r\n    if (Dependency.target)\r\n        targetStack.push(Dependency.target);\r\n    Dependency.target = _target;\r\n}\r\n\r\nexport function popTarget() {\r\n    Dependency.target = targetStack.pop()\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/dependency.js\n **/","'use strict';\r\n\r\nimport {popTarget, pushTarget} from './dependency.js';\r\n\r\n/**\r\n * Watcher will call the callback when the value of the expression changes!\r\n */\r\nexport default class Watcher {\r\n    /**\r\n     * @constructor\r\n     * @param model {model}\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    constructor(model, expOrFn, callback) {\r\n        this.callback = callback;\r\n        this.model = model;\r\n\r\n        this.newDepIds = new Set();\r\n        this.newDeps = [];\r\n        this._getter = getGetter(expOrFn);\r\n        this.value = this.get();\r\n    }\r\n\r\n    /**\r\n     * get the value of the expression and collects the dep!\r\n     * @return {*}\r\n     */\r\n    get() {\r\n        pushTarget(this);\r\n        const value = this._getter.call(this.model, this.model); // collects the deps!\r\n        popTarget();\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * add dependency for the watcher\r\n     * @param dep {Dependency}\r\n     */\r\n    addDependency(dep) {\r\n        const id = dep.id;\r\n        if (!this.newDepIds.has(id)) {\r\n            this.newDepIds.add(id);\r\n            this.newDeps.push(dep);\r\n            dep.addSub(this)\r\n        }\r\n    }\r\n\r\n    update() {\r\n        this.run();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * run the callback to update the value\r\n     */\r\n    run() {\r\n        const value = this.get();\r\n        if (value !== this.value || typeof value === 'object') {\r\n            const oldValue = this.value;\r\n            this.value = value;\r\n            this.callback.call(this.model, value, oldValue);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * get the getter function of the expression after parsing.\r\n * @param expOrFn {string|Function}\r\n * @return {function}\r\n */\r\nexport function getGetter(expOrFn) {\r\n    let getter = function () {\r\n        // do nothing..\r\n    };\r\n    if (typeof expOrFn === 'function') {\r\n        getter = expOrFn;\r\n    } else if (typeof expOrFn === 'string') {\r\n        getter = new Function('model', `return model.${expOrFn};`);\r\n    } else {\r\n        console.warn(`${expOrFn} fail to parse!!`);\r\n    }\r\n    return getter;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/watcher.js\n **/","module.exports = _;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\r\n\r\nimport {PriorityQueue} from './data-structure.js';\r\nimport {selectNumber} from './selector.js';\r\nimport {search, getNeighboursIndex, isSolved} from './helper.js';\r\n\r\n/**\r\n * A* Algorithm\r\n * based on BFS with a function f to give an standard to choice\r\n * which node is the best when getting next state.\r\n * @param rootNode {Node} the root node. (Current State)\r\n * @return {Node|undefined} the last node\r\n */\r\nexport function AStar(rootNode) {\r\n    const [PQ, S] = initializeAlgorithm(rootNode);\r\n    while (!PQ.empty()) {\r\n        const currentNode = PQ.dequeue();\r\n        if (isSolved(currentNode.state)) return currentNode;\r\n        getNeighboursIndex(currentNode.blankTargetIndex)\r\n            .forEach(targetIndex => tryInsertToSet(search(targetIndex, currentNode), S, PQ));\r\n    }\r\n}\r\n\r\n/**\r\n * initialize the algorithm.\r\n * @param rootNode\r\n * @return {*[]}\r\n */\r\nfunction initializeAlgorithm(rootNode) {\r\n    const PQ = new PriorityQueue(compare);\r\n    const S = new Set();\r\n    PQ.enqueue(rootNode);\r\n    return [PQ, S];\r\n}\r\n\r\n/**\r\n * general compare function.\r\n * @param left\r\n * @param right\r\n * @return {number}\r\n */\r\nfunction compare(left, right) {\r\n    return left.h - right.h + left.depth - right.depth;\r\n}\r\n\r\n/**\r\n * check the signature and insert to the set.\r\n * @param nextNode\r\n * @param set\r\n * @param priorityQueue\r\n */\r\nfunction tryInsertToSet(nextNode, set, priorityQueue) {\r\n    const signature = nextNode.state.map(selectNumber).toString();\r\n    if (!set.has(signature)) {\r\n        priorityQueue.enqueue(nextNode);\r\n        set.add(signature);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/algorithm.js\n **/","'use strict';\r\n\r\nimport Watcher, {getGetter} from './observer/watcher.js';\r\n\r\nexport function compile(element, model) {\r\n    const nodeList = element.childNodes;\r\n    for (let node of nodeList) {\r\n        if (node.nodeType === 3) {\r\n            compileTextNode(node, model);\r\n        } else if (node.nodeType === 1) {\r\n            compile(node, model);\r\n        }\r\n    }\r\n}\r\n\r\nconst tagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\r\n\r\nfunction compileTextNode(textNode, model) {\r\n    let tokens = parseText(textNode.textContent);\r\n    if (!tokens)\r\n        return;\r\n    let frag = document.createDocumentFragment();\r\n    tokens.forEach(obj => {\r\n        let ele;\r\n        if (obj.expression) {\r\n            ele = document.createTextNode(getGetter(obj.expression)(model));\r\n            model._watchers.push(\r\n                new Watcher(model, obj.expression, (newValue, oldValue) => {\r\n                    ele.textContent = newValue;\r\n                })\r\n            );\r\n        } else {\r\n            ele = document.createTextNode(obj.value);\r\n        }\r\n        frag.appendChild(ele);\r\n    });\r\n\r\n    const parentNode = textNode.parentNode;\r\n    parentNode.replaceChild(frag, textNode);\r\n}\r\n\r\nfunction parseText(text) {\r\n    if (!tagRE.test(text))\r\n        return;\r\n\r\n    const tokens = [];\r\n    let lastIndex = tagRE.lastIndex = 0;\r\n    let match, index;\r\n    while ((match = tagRE.exec(text))) {\r\n        index = match.index;\r\n        // push text token\r\n        if (index > lastIndex) {\r\n            tokens.push({\r\n                value: text.slice(lastIndex, index)\r\n            });\r\n        }\r\n        // tag token\r\n        const exp = match[1];\r\n        tokens.push({\r\n            expression: exp,\r\n            value: exp\r\n        });\r\n        lastIndex = index + match[0].length;\r\n    }\r\n    if (lastIndex < text.length) {\r\n        tokens.push({\r\n            value: text.slice(lastIndex)\r\n        });\r\n    }\r\n    return tokens;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/compiler.js\n **/","/**\r\n * myModel is a very very very tiny MVVM lib.\r\n *\r\n * @Updated 2016/10/14 Zhiyu He\r\n */\r\n\r\n'use strict';\r\n\r\nimport {observe} from './observer/index.js';\r\nimport {compile} from './compiler.js';\r\nimport Watcher from './observer/watcher.js';\r\n\r\nexport default class Model {\r\n    constructor(options = {}) {\r\n        this._data = options.data;\r\n        this._watchers = [];\r\n        this._target = options.target ? document.querySelector(options.target) : undefined;\r\n        Object.keys(this._data).forEach(key => {\r\n            proxy(this, key);\r\n        });\r\n        observe(this._data);\r\n        if (this._target)\r\n            compile(this._target, this);\r\n    }\r\n\r\n    /**\r\n     * when the vale of the expression changes,\r\n     * the callback would be called\r\n     * callback example:\r\n     *        (newValue, oldValue) => *, this <===> model\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    $watch(expOrFn, callback) {\r\n        const watcher = new Watcher(this, expOrFn, callback);\r\n        this._watchers.push(watcher);\r\n    }\r\n}\r\n\r\n/**\r\n * proxy the properties\r\n * example:\r\n *      model.key <===> model._data.key\r\n * @param model {Model}\r\n * @param key {String}\r\n */\r\nfunction proxy(model, key) {\r\n    Object.defineProperty(model, key, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: () => model._data[key],\r\n        set: newVal => {\r\n            model._data[key] = newVal;\r\n        }\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/index.js\n **/","'use strict';\r\n\r\n/**\r\n * []\r\n * @type {Array}\r\n */\r\nexport const arrayMethods = Object.create(Array.prototype);\r\n\r\n[\r\n    'push',\r\n    'dequeue',\r\n    'shift',\r\n    'unshift',\r\n    'sort',\r\n    'reverse',\r\n    'splice'\r\n].forEach(methodName => {\r\n    const original = Array.prototype[methodName];\r\n    Object.defineProperty(arrayMethods, methodName, {\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true,\r\n        value: function () {\r\n            const args = Array.from(arguments);\r\n            const result = original.apply(this, args);\r\n            const observer = this['__ob__'];\r\n            observeNewItems(methodName, args, observer);\r\n            observer.dep.notify();\r\n            return result;\r\n        }\r\n    })\r\n});\r\n\r\nfunction observeNewItems(methodName, args, observer) {\r\n    let inserted = undefined;\r\n    switch (methodName) {\r\n        case 'push':\r\n            inserted = args;\r\n            break;\r\n        case 'unshift':\r\n            inserted = args;\r\n            break;\r\n        case 'splice':\r\n            inserted = args.slice(2);\r\n            break;\r\n    }\r\n    if (inserted) {\r\n        observer.observeArray(inserted);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/array.js\n **/","'use strict';\r\n\r\nimport Dependency from './dependency.js';\r\nimport {arrayMethods} from './array.js';\r\n\r\nclass Observer {\r\n    constructor(value) {\r\n        this.value = value;\r\n        this.dep = new Dependency();\r\n        Object.defineProperty(value, '__ob__', {\r\n            value: this,\r\n            enumerable: false,\r\n            writable: true,\r\n            configurable: true\r\n        });\r\n\r\n        if (Array.isArray(value)) {\r\n            augment(value, arrayMethods);\r\n            this.observeArray(value);\r\n        } else\r\n            this.walk(value);\r\n    }\r\n\r\n    /**\r\n     * travel all the props of the object, and set reactive props.\r\n     * @param obj {object}\r\n     */\r\n    walk(obj) {\r\n        Object.keys(obj).forEach(key => {\r\n            defineReactive(obj, key, obj[key]);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Observe a list of Array items.\r\n     * @param items {Array}\r\n     */\r\n    observeArray(items) {\r\n        items.forEach(value => {\r\n            observe(value);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * observe a property and set a observer if the property doesn't own one;\r\n * @param value {object} the property that needs nextBlankTargetIndex be observed\r\n * @return {Observer|undefined} if it is a string or number, returns undefined\r\n */\r\nexport function observe(value) {\r\n    if (!value || typeof value !== 'object') {\r\n        return;\r\n    }\r\n    let ob;\r\n    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\r\n        ob = value['__ob__'];\r\n    } else if (Object.isExtensible(value)) {\r\n        ob = new Observer(value);\r\n    }\r\n    return ob;\r\n}\r\n\r\n/**\r\n * Make the prop reactified\r\n * @param obj {Object}\r\n * @param key {String}\r\n * @param val {*}\r\n * @return {*}\r\n */\r\nfunction defineReactive(obj, key, val) {\r\n    const dep = new Dependency();\r\n\r\n    let childObserver = observe(val);\r\n\r\n    Object.defineProperty(obj, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: () => {\r\n            if (Dependency.target) {\r\n                dep.depend();\r\n                if (childObserver) {\r\n                    childObserver.dep.depend();\r\n                }\r\n                if (Array.isArray(val)) {\r\n                    val.forEach(item => {\r\n                        item && item['__ob__'] && item['__ob__'].dep.depend();\r\n                    });\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n        set: (newVal) => {\r\n            if (newVal === val)\r\n                return;\r\n            val = newVal;\r\n            dep.notify();\r\n        }\r\n    });\r\n}\r\n\r\nfunction augment(target, src) {\r\n    target.__proto__ = src;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/index.js\n **/","'use strict';\r\n\r\n/**\r\n * The State constant of the game.\r\n * @type {{Unstarted: string, Pending: string, Win: string, Lose: string, Over: string}}\r\n */\r\nexport const Type = {\r\n    Unstarted: 'UNSTARTED',\r\n    Pending: 'PENDING',\r\n    Win: 'WIN',\r\n    Lose: 'LOSE',\r\n    Over: 'OVER',\r\n};\r\n\r\nexport const Img = [\r\n    {\r\n        name: 'panda',\r\n        url: {\r\n            img: './img/panda.jpg',\r\n            bg: './img/bg_gfpanda.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'overwatch',\r\n        url: {\r\n            img: './img/img_overwatch.jpg',\r\n            bg: './img/bg_overwatch.jpg'\r\n        }\r\n    },\r\n    {\r\n        name: 'zootopia',\r\n        url: {\r\n            img: './img/img_zootopia.jpeg',\r\n            bg: './img/bg_zootopia.jpeg'\r\n        }\r\n    },\r\n    {\r\n        name: 'baymax',\r\n        url: {\r\n            img: './img/img_baymax.jpg',\r\n            bg: './img/bg_baymax.jpg'\r\n        }\r\n    }\r\n];\n\n\n/** WEBPACK FOOTER **\n ** ./src/type.js\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}
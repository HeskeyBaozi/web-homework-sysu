{"version":3,"sources":["webpack:///calc.js","webpack:///webpack/bootstrap 9613d25f64c77110618c","webpack:///./src/index.js","webpack:///external \"jQuery\"","webpack:///./src/myModel/observer/dep.js","webpack:///external \"_\"","webpack:///./src/helper.js","webpack:///./src/myModel/index.js","webpack:///./src/myModel/observer/index.js","webpack:///./src/myModel/observer/watcher.js","webpack:///./src/normalize/expression.js","webpack:///./src/normalize/style.js","webpack:///./src/parser.js","webpack:///./src/types.js","webpack:///./src/util.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_jquery","_jquery2","_index","_index2","_types","_types2","_parser","_parser2","_style","_style2","_expression","_expression2","_helper","model","data","output","input","isEqualed","on","e","addChar","target","dataset","$watch","newValue","oldValue","text","trim","normalizedExpression","getter","showResult","this","addClass","result","jQuery","_classCallCheck","instance","Constructor","TypeError","pushTarget","_target","Dep","targetStack","push","popTarget","pop","Object","defineProperty","value","_createClass","defineProperties","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","uid","subs","sub","addDep","slice","forEach","update","_","directive","console","warn","valueGetter","error","proxy","get","_data","set","val","_watcher","_watcher2","Model","_this","options","arguments","undefined","_watchers","keys","observe","expOrFn","callback","watcher","_typeof","ob","hasOwnProperty","Observer","isExtensible","defineReactive","dep","_dep2","depend","newVal","notify","Symbol","iterator","constructor","_dep","walk","getGetter","Function","Watcher","newDepIds","Set","newDeps","_getter","has","add","addSub","run","normalizeBrace","expression","differs","match","reduce","left","right","getRightBraceExpression","_lodash2","times","normalizeFactory","reg","placer","regArray","exec","replace","normalizeExpression","flow","normalizePower","normalizeSqrt","normalizeFactorial","normalizeNumberMultiply","_lodash","MyRegExp","power","sqrt","factorial","numberBeforeOperation","split","join","normalizeClass","removeClass","normalizeOutput","outputArray","normalizeInput","_toConsumableArray","arr","Array","isArray","arr2","from","_util","Operation","math","Math","sin","cos","tan","log10","log","E","PI","pow","factor","string","bind","apply","concat","minusInput","stringAdded","test","onEqual","onDelete","deleteChar","mathRegExp","trigonometricFunction","logFunction","operation","number","root","pi","1","2","3","4","5","6","7","8","9","0","plus","minus","multiply","divide","point","ln","lg","eq","backspace","ce","num","Error"],"mappings":"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","file":"calc.js","sourcesContent":["/*!\n * simple-calculator 0.0.0 - Modern Web Programming HomeWork - SYSU\n * Copyright (c) 2016 He Zhiyu - https://github.com/HeskeyBaozi/web-homework-sysu#readme\n * License: MIT\n */\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _index = __webpack_require__(5);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _types = __webpack_require__(11);\n\t\n\tvar _types2 = _interopRequireDefault(_types);\n\t\n\tvar _parser = __webpack_require__(10);\n\t\n\tvar _parser2 = _interopRequireDefault(_parser);\n\t\n\tvar _style = __webpack_require__(9);\n\t\n\tvar _style2 = _interopRequireDefault(_style);\n\t\n\tvar _expression = __webpack_require__(8);\n\t\n\tvar _expression2 = _interopRequireDefault(_expression);\n\t\n\tvar _helper = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Create a model of the screen in the calculator\r\n\t * @type {Model}\r\n\t */\n\tvar model = new _index2.default({\n\t    data: {\n\t        output: '',\n\t        input: '0',\n\t        isEqualed: false\n\t    }\n\t});\n\t\n\t/**\r\n\t * Add and Bind Events\r\n\t */\n\t(0, _jquery2.default)('#panel').on('click', function (e) {\n\t    if (model.input === '0') model.input = ''; // normalize zero\n\t    if (model.isEqualed) {\n\t        (0, _style2.default)(model);\n\t        model.isEqualed = false;\n\t    }\n\t    (0, _helper.addChar)(model, _types2.default[e.target.dataset['directive']]);\n\t});\n\t\n\t/**\r\n\t * Bind the data with the View!!!\r\n\t * Observe the Model, Update the View when the model's data change!\r\n\t */\n\tmodel.$watch('output', function (newValue, oldValue) {\n\t    if (newValue !== oldValue) {\n\t        (0, _jquery2.default)('#output').text(newValue.trim());\n\t    }\n\t});\n\t\n\tmodel.$watch('input', function (newValue, oldValue) {\n\t    if (newValue !== oldValue) {\n\t        (0, _jquery2.default)('#input').text(newValue);\n\t        var normalizedExpression = (0, _expression2.default)(newValue);\n\t        var getter = (0, _parser2.default)(normalizedExpression);\n\t        (0, _helper.showResult)(this, normalizedExpression, getter);\n\t    }\n\t});\n\t\n\tmodel.$watch('isEqualed', function (newValue, oldValue) {\n\t    if (newValue !== oldValue && newValue) {\n\t        (0, _jquery2.default)('#input').addClass('low-light');\n\t        (0, _jquery2.default)('#input-quick').text(this.input ? '=' + this.result : '0').addClass('high-light');\n\t    }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.pushTarget = pushTarget;\n\texports.popTarget = popTarget;\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar uid = 0;\n\t\n\t/**\r\n\t * 订阅者模式\r\n\t */\n\t\n\tvar Dep = function () {\n\t    function Dep() {\n\t        _classCallCheck(this, Dep);\n\t\n\t        this.id = uid++;\n\t        this.subs = [];\n\t    }\n\t\n\t    _createClass(Dep, [{\n\t        key: 'addSub',\n\t        value: function addSub(sub) {\n\t            this.subs.push(sub);\n\t        }\n\t\n\t        /**\r\n\t         * 通知依赖\r\n\t         */\n\t\n\t    }, {\n\t        key: 'depend',\n\t        value: function depend() {\n\t            if (Dep.target) {\n\t                Dep.target.addDep(this);\n\t            }\n\t        }\n\t\n\t        /**\r\n\t         * 广播更新\r\n\t         */\n\t\n\t    }, {\n\t        key: 'notify',\n\t        value: function notify() {\n\t            var subs = this.subs.slice();\n\t            subs.forEach(function (sub) {\n\t                sub.update();\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Dep;\n\t}();\n\t\n\texports.default = Dep;\n\t\n\t\n\tDep.target = null;\n\t\n\tvar targetStack = [];\n\t\n\tfunction pushTarget(_target) {\n\t    if (Dep.target) targetStack.push(Dep.target);\n\t    Dep.target = _target;\n\t}\n\t\n\tfunction popTarget() {\n\t    Dep.target = targetStack.pop();\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = _;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.addChar = addChar;\n\texports.showResult = showResult;\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * add a char to the calculator screen!\r\n\t * @param model {model}\r\n\t * @param directive {string|function}\r\n\t */\n\tfunction addChar(model, directive) {\n\t    if (typeof directive === 'string') {\n\t        model.input += directive;\n\t    } else if (typeof directive === 'function') {\n\t        directive.call(model);\n\t    } else {\n\t        console.warn('cannot parse this directive:', directive);\n\t    }\n\t}\n\t\n\t/**\r\n\t * EveryTime show the result of the expression on the screen!\r\n\t * @param model {model}\r\n\t * @param normalizedExpression {string}\r\n\t * @param valueGetter {function} return the value of the expression!\r\n\t */\n\tfunction showResult(model, normalizedExpression, valueGetter) {\n\t    try {\n\t        model.result = valueGetter();\n\t        (0, _jquery2.default)('#input-quick').text(typeof model.result === 'function' ? 'Please enter number' : model.result ? normalizedExpression + ' = ' + model.result : '');\n\t    } catch (error) {\n\t        model.result = 'Syntax Error :(';\n\t        (0, _jquery2.default)('#input-quick').text(model.result);\n\t    }\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _index = __webpack_require__(6);\n\t\n\tvar _watcher = __webpack_require__(7);\n\t\n\tvar _watcher2 = _interopRequireDefault(_watcher);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Just like the part of the model in MVVM!\r\n\t */\n\tvar Model = function () {\n\t    function Model() {\n\t        var _this = this;\n\t\n\t        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t        _classCallCheck(this, Model);\n\t\n\t        this._data = options.data;\n\t        this._watchers = [];\n\t        Object.keys(this._data).forEach(function (key) {\n\t            proxy(_this, key);\n\t        });\n\t        (0, _index.observe)(this._data);\n\t    }\n\t\n\t    /**\r\n\t     * when the vale of the expression changes,\r\n\t     * the callback would be called\r\n\t     * callback example:\r\n\t     *        (newValue, oldValue) => *, this <===> model\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t\n\t\n\t    _createClass(Model, [{\n\t        key: '$watch',\n\t        value: function $watch(expOrFn, callback) {\n\t            var watcher = new _watcher2.default(this, expOrFn, callback);\n\t            this._watchers.push(watcher);\n\t        }\n\t    }]);\n\t\n\t    return Model;\n\t}();\n\t\n\t/**\r\n\t * proxy the properties\r\n\t * example:\r\n\t *      model.key <===> model._data.key\r\n\t * @param model {Model}\r\n\t * @param key {String}\r\n\t */\n\t\n\t\n\texports.default = Model;\n\tfunction proxy(model, key) {\n\t    Object.defineProperty(model, key, {\n\t        configurable: true,\n\t        enumerable: true,\n\t        get: function get() {\n\t            return model._data[key];\n\t        },\n\t        set: function set(val) {\n\t            model._data[key] = val;\n\t        }\n\t    });\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\texports.observe = observe;\n\t\n\tvar _dep = __webpack_require__(2);\n\t\n\tvar _dep2 = _interopRequireDefault(_dep);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Observer = function () {\n\t    function Observer(value) {\n\t        _classCallCheck(this, Observer);\n\t\n\t        this.value = value;\n\t        Object.defineProperty(value, '__ob__', {\n\t            value: this,\n\t            enumerable: false,\n\t            writable: true,\n\t            configurable: true\n\t        });\n\t        this.walk(value);\n\t    }\n\t\n\t    /**\r\n\t     * travel all the props of the object, and set reactive props.\r\n\t     * @param obj {object}\r\n\t     */\n\t\n\t\n\t    _createClass(Observer, [{\n\t        key: 'walk',\n\t        value: function walk(obj) {\n\t            Object.keys(obj).forEach(function (key) {\n\t                defineReactive(obj, key, obj[key]);\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Observer;\n\t}();\n\t\n\t/**\r\n\t * observe a property and set a observer if the property doesn't own one;\r\n\t * @param value {object} the property that needs to be observed\r\n\t * @return {Observer|undefined} if it is a string or number, returns undefined\r\n\t */\n\t\n\t\n\tfunction observe(value) {\n\t    if (!value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n\t        return;\n\t    }\n\t    var ob = void 0;\n\t    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\n\t        ob = value['__ob__'];\n\t    } else if (Object.isExtensible(value)) {\n\t        ob = new Observer(value);\n\t    }\n\t    return ob;\n\t}\n\t\n\tfunction defineReactive(obj, key, val) {\n\t    var dep = new _dep2.default();\n\t    Object.defineProperty(obj, key, {\n\t        enumerable: true,\n\t        configurable: true,\n\t        get: function get() {\n\t            if (_dep2.default.target) {\n\t                dep.depend();\n\t            }\n\t            return val;\n\t        },\n\t        set: function set(newVal) {\n\t            if (newVal === val) return;\n\t            val = newVal;\n\t            dep.notify();\n\t        }\n\t    });\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _dep = __webpack_require__(2);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Watcher will call the callback when the value of the expression changes!\r\n\t */\n\tvar Watcher = function () {\n\t    /**\r\n\t     * @constructor\r\n\t     * @param model {model}\r\n\t     * @param expOrFn {string|function}\r\n\t     * @param callback {function}\r\n\t     */\n\t    function Watcher(model, expOrFn, callback) {\n\t        _classCallCheck(this, Watcher);\n\t\n\t        this.callback = callback;\n\t        this.model = model;\n\t\n\t        this.newDepIds = new Set();\n\t        this.newDeps = [];\n\t        this._getter = getGetter(expOrFn);\n\t        this.value = this.get();\n\t    }\n\t\n\t    /**\r\n\t     * get the value of the expression and collects the dep!\r\n\t     * @return {*}\r\n\t     */\n\t\n\t\n\t    _createClass(Watcher, [{\n\t        key: 'get',\n\t        value: function get() {\n\t            (0, _dep.pushTarget)(this);\n\t            var value = this._getter.call(this.model, this.model); // collects the deps!\n\t            (0, _dep.popTarget)();\n\t            return value;\n\t        }\n\t\n\t        /**\r\n\t         * add dep for the watcher\r\n\t         * @param dep {Dep}\r\n\t         */\n\t\n\t    }, {\n\t        key: 'addDep',\n\t        value: function addDep(dep) {\n\t            var id = dep.id;\n\t            if (!this.newDepIds.has(id)) {\n\t                this.newDepIds.add(id);\n\t                this.newDeps.push(dep);\n\t                dep.addSub(this);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'update',\n\t        value: function update() {\n\t            this.run();\n\t        }\n\t\n\t        /**\r\n\t         * run the callback to update the value\r\n\t         */\n\t\n\t    }, {\n\t        key: 'run',\n\t        value: function run() {\n\t            var value = this.get();\n\t            if (value !== this.value) {\n\t                var oldValue = this.value;\n\t                this.value = value;\n\t                this.callback.call(this.model, value, oldValue);\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Watcher;\n\t}();\n\t\n\texports.default = Watcher;\n\t\n\t\n\tfunction getGetter(expOrFn) {\n\t    var getter = function getter() {\n\t        // do nothing..\n\t    };\n\t    if (typeof expOrFn === 'function') {\n\t        getter = expOrFn;\n\t    } else if (typeof expOrFn === 'string') {\n\t        getter = new Function('model', 'return model.' + expOrFn + ';');\n\t    } else {\n\t        console.warn(expOrFn + ' fail to parse!!');\n\t    }\n\t    return getter;\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = normalizeExpression;\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar MyRegExp = {\n\t    power: /(e|π|\\d+\\.?\\d*|\\(+[^\\)]*\\)+)\\^(\\d+\\.?\\d*|\\(+[^\\)]*\\)+)/g,\n\t    sqrt: /\\√(e|π|\\d+\\.?\\d*|\\(+[^\\)]*\\)+)/g,\n\t    factorial: /(\\d+\\.?\\d*|\\(+[^\\)]*\\)+)[\\!]/g,\n\t    numberBeforeOperation: /\\d+\\.?\\d*(sin|cos|tan|lg|ln|pow|sqrt|e|π)/g\n\t};\n\t\n\tfunction normalizeBrace(expression) {\n\t    var differs = [expression.match(/\\(/g) && expression.match(/\\(/g).length || 0, expression.match(/\\)/g) && expression.match(/\\)/g).length || 0].reduce(function (left, right) {\n\t        return left - right;\n\t    });\n\t    return differs < 0 ? undefined : getRightBraceExpression(expression, differs);\n\t}\n\t\n\tfunction getRightBraceExpression(expression, differs) {\n\t    var result = expression;\n\t    _lodash2.default.times(differs, function () {\n\t        result += ')';\n\t    });\n\t    return result;\n\t}\n\t\n\tfunction normalizeFactory(reg, placer) {\n\t    return function (expression) {\n\t        var regArray = reg.exec(expression);\n\t        while (regArray !== null) {\n\t            expression = expression.replace(reg, placer(regArray));\n\t            regArray = reg.exec(expression);\n\t        }\n\t        return expression;\n\t    };\n\t}\n\t\n\tvar normalizePower = normalizeFactory(MyRegExp.power, function (regArray) {\n\t    return 'pow(' + regArray[0].split('^').join(',') + ')';\n\t});\n\tvar normalizeSqrt = normalizeFactory(MyRegExp.sqrt, function (regArray) {\n\t    return 'sqrt(' + regArray[0].split('√')[1] + ')';\n\t});\n\tvar normalizeFactorial = normalizeFactory(MyRegExp.factorial, function (regArray) {\n\t    return 'factor(' + regArray[0].split('!')[0] + ')';\n\t});\n\tvar normalizeNumberMultiply = normalizeFactory(MyRegExp.numberBeforeOperation, function (regArray) {\n\t    return regArray[0].replace(/\\d+\\.?\\d*/g, function (match) {\n\t        return match + '*';\n\t    });\n\t});\n\t\n\tfunction normalizeExpression(expression) {\n\t    return _lodash2.default.flow(normalizeBrace, normalizePower, normalizeSqrt, normalizeFactorial, normalizeNumberMultiply)(expression);\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _lodash = __webpack_require__(3);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = function (model) {\n\t    return _lodash2.default.flow(normalizeInput, normalizeClass, normalizeOutput)(model);\n\t};\n\t\n\tfunction normalizeClass(model) {\n\t    (0, _jquery2.default)('#input-quick').removeClass('high-light');\n\t    (0, _jquery2.default)('#input').removeClass('low-light');\n\t    return model;\n\t}\n\t\n\tfunction normalizeOutput(model) {\n\t    var outputArray = model.output.split('\\n');\n\t    if (outputArray.length > 5) {\n\t        outputArray = outputArray.slice(1, outputArray.length);\n\t    }\n\t    model.output = outputArray.join('\\n');\n\t    return model;\n\t}\n\t\n\tfunction normalizeInput(model) {\n\t    model.input = '';\n\t    return model;\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _util = __webpack_require__(12);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar Operation = {\n\t    math: [Math.sin, Math.cos, Math.tan, Math.log10, Math.log, Math.E, Math.PI, Math.pow, Math.sqrt, _util.factor],\n\t    string: ['sin', 'cos', 'tan', 'lg', 'ln', 'e', 'π', 'pow', 'sqrt', 'factor']\n\t};\n\t\n\t/**\r\n\t * convert the expression into a function that returns the value of the expression.\r\n\t * @param expression {string}\r\n\t * @return {Function} get the value if called!\r\n\t */\n\t\n\texports.default = function (expression) {\n\t    return function () {\n\t        return new (Function.prototype.bind.apply(Function, [null].concat(_toConsumableArray(Operation.string), ['return ' + expression + ';'])))().apply(null, Operation.math);\n\t    };\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * Regular Expressions collections used to delete chars.\r\n\t * @type {{trigonometricFunction: RegExp, logFunction: RegExp, operation: RegExp, number: RegExp}}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar mathRegExp = {\n\t    trigonometricFunction: /cos\\($|sin\\($|tan\\($/,\n\t    logFunction: /lg\\($|ln\\($/,\n\t    operation: /\\+$|\\-$|\\*$|\\/$/,\n\t    number: /[0]$/\n\t};\n\t\n\texports.default = {\n\t    factorial: '!',\n\t    power: '^',\n\t    root: '√',\n\t\n\t    pi: 'π',\n\t    e: 'e',\n\t\n\t    sin: 'sin(',\n\t    cos: 'cos(',\n\t    tan: 'tan(',\n\t\n\t    left: '(',\n\t    right: ')',\n\t\n\t    '1': '1',\n\t    '2': '2',\n\t    '3': '3',\n\t    '4': '4',\n\t    '5': '5',\n\t    '6': '6',\n\t    '7': '7',\n\t    '8': '8',\n\t    '9': '9',\n\t    '0': '0',\n\t\n\t    plus: minusInput(mathRegExp.operation, '+'),\n\t    minus: minusInput(mathRegExp.operation, '-'),\n\t    multiply: minusInput(mathRegExp.operation, '*'),\n\t    divide: minusInput(mathRegExp.operation, '/'),\n\t\n\t    point: '.',\n\t    ln: 'ln(',\n\t    lg: 'lg(',\n\t\n\t    eq: onEqual,\n\t    backspace: onDelete,\n\t\n\t    ce: function ce() {\n\t        this.input = '0';\n\t    }\n\t};\n\t\n\t/**\r\n\t * delete a char before add a char\r\n\t * @param reg {RegExp}\r\n\t * @param stringAdded {string}\r\n\t * @return {Function}\r\n\t */\n\t\n\tfunction minusInput(reg, stringAdded) {\n\t    return function () {\n\t        var result = reg.test(this.input) ? this.input.slice(0, this.input.length - 1) : this.input;\n\t\n\t        this.input = result + stringAdded;\n\t    };\n\t}\n\t\n\t/**\r\n\t * when user clicks the eq block\r\n\t * this <===> model\r\n\t */\n\tfunction onEqual() {\n\t    this.isEqualed = true;\n\t    this.output += this.input ? this.input + ' = ' + this.result + '\\n' : '0=0\\n';\n\t}\n\t\n\t/**\r\n\t * when user clicks the backspace\r\n\t * this <===> model\r\n\t */\n\tfunction onDelete() {\n\t    if (this.input === '') {\n\t        this.input = '0';\n\t        return;\n\t    }\n\t    deleteChar(this);\n\t}\n\t\n\tfunction deleteChar(model) {\n\t    model.input = mathRegExp.trigonometricFunction.test(model.input) ? model.input.slice(0, model.input.length - 4) : mathRegExp.logFunction.test(model.input) ? model.input.slice(0, model.input.length - 3) : model.input.slice(0, model.input.length - 1);\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * Compute the factorial of the number\r\n\t * @param num {number}\r\n\t * @return {number}\r\n\t */\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.factor = factor;\n\tfunction factor(num) {\n\t    if (num === 0) {\n\t        return 1;\n\t    }\n\t    if (num < 0) {\n\t        throw new Error('fail!!!');\n\t    }\n\t\n\t    var result = 1;\n\t    for (var i = 1; i <= num; i++) {\n\t        result = result * i;\n\t    }\n\t    return result;\n\t}\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** calc.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9613d25f64c77110618c\n **/","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport Model from './myModel/index.js';\r\nimport Type from './types.js';\r\nimport parseExpression from './parser.js';\r\nimport normalizeStyle from './normalize/style.js';\r\nimport normalizeExpression from './normalize/expression.js';\r\nimport {addChar, showResult} from './helper.js';\r\n\r\n/**\r\n * Create a model of the screen in the calculator\r\n * @type {Model}\r\n */\r\nconst model = new Model({\r\n    data: {\r\n        output: '',\r\n        input: '0',\r\n        isEqualed: false\r\n    }\r\n});\r\n\r\n/**\r\n * Add and Bind Events\r\n */\r\n$('#panel').on('click', e => {\r\n    if (model.input === '0') model.input = ''; // normalize zero\r\n    if (model.isEqualed) {\r\n        normalizeStyle(model);\r\n        model.isEqualed = false;\r\n    }\r\n    addChar(model, Type[e.target.dataset['directive']]);\r\n});\r\n\r\n/**\r\n * Bind the data with the View!!!\r\n * Observe the Model, Update the View when the model's data change!\r\n */\r\nmodel.$watch('output', (newValue, oldValue) => {\r\n    if (newValue !== oldValue) {\r\n        $('#output').text(newValue.trim());\r\n    }\r\n});\r\n\r\nmodel.$watch('input', function (newValue, oldValue) {\r\n    if (newValue !== oldValue) {\r\n        $('#input').text(newValue);\r\n        const normalizedExpression = normalizeExpression(newValue);\r\n        const getter = parseExpression(normalizedExpression);\r\n        showResult(this, normalizedExpression, getter);\r\n    }\r\n});\r\n\r\nmodel.$watch('isEqualed', function (newValue, oldValue) {\r\n    if (newValue !== oldValue && newValue) {\r\n        $('#input').addClass('low-light');\r\n        $('#input-quick').text(this.input ? `=${this.result}` : `0`).addClass('high-light');\r\n    }\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\r\n\r\nlet uid = 0;\r\n\r\n/**\r\n * 订阅者模式\r\n */\r\nexport default class Dep {\r\n    constructor() {\r\n        this.id = uid++;\r\n        this.subs = [];\r\n    }\r\n\r\n    addSub(sub) {\r\n        this.subs.push(sub);\r\n    }\r\n\r\n    /**\r\n     * 通知依赖\r\n     */\r\n    depend() {\r\n        if (Dep.target) {\r\n            Dep.target.addDep(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 广播更新\r\n     */\r\n    notify() {\r\n        const subs = this.subs.slice();\r\n        subs.forEach(sub => {\r\n            sub.update();\r\n        });\r\n    }\r\n}\r\n\r\nDep.target = null;\r\n\r\nconst targetStack = [];\r\n\r\nexport function pushTarget(_target) {\r\n    if (Dep.target)\r\n        targetStack.push(Dep.target);\r\n    Dep.target = _target;\r\n}\r\n\r\nexport function popTarget() {\r\n    Dep.target = targetStack.pop()\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/dep.js\n **/","module.exports = _;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\r\n\r\nimport $ from 'jquery';\r\n\r\n/**\r\n * add a char to the calculator screen!\r\n * @param model {model}\r\n * @param directive {string|function}\r\n */\r\nexport function addChar(model, directive) {\r\n    if (typeof directive === 'string') {\r\n        model.input += directive;\r\n    } else if (typeof directive === 'function') {\r\n        directive.call(model);\r\n    } else {\r\n        console.warn('cannot parse this directive:', directive);\r\n    }\r\n}\r\n\r\n/**\r\n * EveryTime show the result of the expression on the screen!\r\n * @param model {model}\r\n * @param normalizedExpression {string}\r\n * @param valueGetter {function} return the value of the expression!\r\n */\r\nexport function showResult(model, normalizedExpression, valueGetter) {\r\n    try {\r\n        model.result = valueGetter();\r\n        $('#input-quick').text(typeof model.result === 'function'\r\n            ? 'Please enter number'\r\n            : (model.result ? `${normalizedExpression} = ${model.result}` : ''));\r\n    } catch (error) {\r\n        model.result = 'Syntax Error :(';\r\n        $('#input-quick').text(model.result);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/helper.js\n **/","'use strict';\r\n\r\nimport {observe} from './observer/index.js';\r\nimport Watcher from './observer/watcher.js';\r\n\r\n/**\r\n * Just like the part of the model in MVVM!\r\n */\r\nexport default class Model {\r\n    constructor(options = {}) {\r\n        this._data = options.data;\r\n        this._watchers = [];\r\n        Object.keys(this._data).forEach(key => {\r\n            proxy(this, key);\r\n        });\r\n        observe(this._data);\r\n    }\r\n\r\n    /**\r\n     * when the vale of the expression changes,\r\n     * the callback would be called\r\n     * callback example:\r\n     *        (newValue, oldValue) => *, this <===> model\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    $watch(expOrFn, callback) {\r\n        const watcher = new Watcher(this, expOrFn, callback);\r\n        this._watchers.push(watcher);\r\n    }\r\n}\r\n\r\n/**\r\n * proxy the properties\r\n * example:\r\n *      model.key <===> model._data.key\r\n * @param model {Model}\r\n * @param key {String}\r\n */\r\nfunction proxy(model, key) {\r\n    Object.defineProperty(model, key, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: () => model._data[key],\r\n        set: val => {\r\n            model._data[key] = val\r\n        }\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/index.js\n **/","'use strict';\r\n\r\nimport Dep from './dep.js';\r\n\r\nclass Observer {\r\n    constructor(value) {\r\n        this.value = value;\r\n        Object.defineProperty(value, '__ob__', {\r\n            value: this,\r\n            enumerable: false,\r\n            writable: true,\r\n            configurable: true\r\n        });\r\n        this.walk(value);\r\n    }\r\n\r\n    /**\r\n     * travel all the props of the object, and set reactive props.\r\n     * @param obj {object}\r\n     */\r\n    walk(obj) {\r\n        Object.keys(obj).forEach(key => {\r\n            defineReactive(obj, key, obj[key]);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * observe a property and set a observer if the property doesn't own one;\r\n * @param value {object} the property that needs to be observed\r\n * @return {Observer|undefined} if it is a string or number, returns undefined\r\n */\r\nexport function observe(value) {\r\n    if (!value || typeof value !== 'object') {\r\n        return;\r\n    }\r\n    let ob;\r\n    if (value.hasOwnProperty('__ob__') && value['__ob__'] instanceof Observer) {\r\n        ob = value['__ob__'];\r\n    } else if (Object.isExtensible(value)) {\r\n        ob = new Observer(value);\r\n    }\r\n    return ob;\r\n}\r\n\r\nfunction defineReactive(obj, key, val) {\r\n    const dep = new Dep();\r\n    Object.defineProperty(obj, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get(){\r\n            if (Dep.target) {\r\n                dep.depend();\r\n            }\r\n            return val;\r\n        },\r\n        set(newVal){\r\n            if (newVal === val)\r\n                return;\r\n            val = newVal;\r\n            dep.notify();\r\n        }\r\n    });\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/index.js\n **/","'use strict';\r\n\r\nimport {popTarget, pushTarget} from './dep.js';\r\n\r\n/**\r\n * Watcher will call the callback when the value of the expression changes!\r\n */\r\nexport default class Watcher {\r\n    /**\r\n     * @constructor\r\n     * @param model {model}\r\n     * @param expOrFn {string|function}\r\n     * @param callback {function}\r\n     */\r\n    constructor(model, expOrFn, callback) {\r\n        this.callback = callback;\r\n        this.model = model;\r\n\r\n        this.newDepIds = new Set();\r\n        this.newDeps = [];\r\n        this._getter = getGetter(expOrFn);\r\n        this.value = this.get();\r\n    }\r\n\r\n    /**\r\n     * get the value of the expression and collects the dep!\r\n     * @return {*}\r\n     */\r\n    get() {\r\n        pushTarget(this);\r\n        const value = this._getter.call(this.model, this.model); // collects the deps!\r\n        popTarget();\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * add dep for the watcher\r\n     * @param dep {Dep}\r\n     */\r\n    addDep(dep) {\r\n        const id = dep.id;\r\n        if (!this.newDepIds.has(id)) {\r\n            this.newDepIds.add(id);\r\n            this.newDeps.push(dep);\r\n            dep.addSub(this)\r\n        }\r\n    }\r\n\r\n    update() {\r\n        this.run();\r\n    }\r\n\r\n    /**\r\n     * run the callback to update the value\r\n     */\r\n    run() {\r\n        const value = this.get();\r\n        if (value !== this.value) {\r\n            const oldValue = this.value;\r\n            this.value = value;\r\n            this.callback.call(this.model, value, oldValue);\r\n        }\r\n    }\r\n}\r\n\r\nfunction getGetter(expOrFn) {\r\n    let getter = function () {\r\n        // do nothing..\r\n    };\r\n    if (typeof expOrFn === 'function') {\r\n        getter = expOrFn;\r\n    } else if (typeof expOrFn === 'string') {\r\n        getter = new Function('model', `return model.${expOrFn};`);\r\n    } else {\r\n        console.warn(`${expOrFn} fail to parse!!`);\r\n    }\r\n    return getter;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/myModel/observer/watcher.js\n **/","'use strict';\r\n\r\nimport _ from 'lodash';\r\n\r\nconst MyRegExp = {\r\n    power: /(e|π|\\d+\\.?\\d*|\\(+[^\\)]*\\)+)\\^(\\d+\\.?\\d*|\\(+[^\\)]*\\)+)/g,\r\n    sqrt: /\\√(e|π|\\d+\\.?\\d*|\\(+[^\\)]*\\)+)/g,\r\n    factorial: /(\\d+\\.?\\d*|\\(+[^\\)]*\\)+)[\\!]/g,\r\n    numberBeforeOperation: /\\d+\\.?\\d*(sin|cos|tan|lg|ln|pow|sqrt|e|π)/g\r\n};\r\n\r\nfunction normalizeBrace(expression) {\r\n    const differs = [\r\n        expression.match(/\\(/g) && expression.match(/\\(/g).length || 0,\r\n        expression.match(/\\)/g) && expression.match(/\\)/g).length || 0\r\n    ].reduce((left, right) => left - right);\r\n    return differs < 0 ? undefined : getRightBraceExpression(expression, differs);\r\n}\r\n\r\nfunction getRightBraceExpression(expression, differs) {\r\n    let result = expression;\r\n    _.times(differs, () => {\r\n        result += ')';\r\n    });\r\n    return result;\r\n}\r\n\r\nfunction normalizeFactory(reg, placer) {\r\n    return function (expression) {\r\n        let regArray = reg.exec(expression);\r\n        while (regArray !== null) {\r\n            expression = expression.replace(reg, placer(regArray));\r\n            regArray = reg.exec(expression);\r\n        }\r\n        return expression;\r\n    }\r\n}\r\n\r\nconst normalizePower = normalizeFactory(MyRegExp.power, regArray => `pow(${regArray[0].split('^').join(',')})`);\r\nconst normalizeSqrt = normalizeFactory(MyRegExp.sqrt, regArray =>`sqrt(${regArray[0].split('√')[1]})`);\r\nconst normalizeFactorial = normalizeFactory(MyRegExp.factorial, regArray => `factor(${regArray[0].split('!')[0]})`);\r\nconst normalizeNumberMultiply = normalizeFactory(MyRegExp.numberBeforeOperation, regArray => {\r\n    return regArray[0].replace(/\\d+\\.?\\d*/g, match => match + '*');\r\n});\r\n\r\n\r\nexport default function normalizeExpression(expression) {\r\n    return _.flow(normalizeBrace, normalizePower, normalizeSqrt, normalizeFactorial, normalizeNumberMultiply)(\r\n        expression\r\n    );\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/normalize/expression.js\n **/","'use strict';\r\n\r\nimport $ from 'jquery';\r\nimport _ from 'lodash';\r\n\r\nexport default  model => _.flow(normalizeInput, normalizeClass, normalizeOutput)(model);\r\n\r\nfunction normalizeClass(model) {\r\n    $('#input-quick').removeClass('high-light');\r\n    $('#input').removeClass('low-light');\r\n    return model;\r\n}\r\n\r\nfunction normalizeOutput(model) {\r\n    let outputArray = model.output.split('\\n');\r\n    if (outputArray.length > 5) {\r\n        outputArray = outputArray.slice(1, outputArray.length);\r\n    }\r\n    model.output = outputArray.join('\\n');\r\n    return model;\r\n}\r\n\r\nfunction normalizeInput(model) {\r\n    model.input = '';\r\n    return model;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/normalize/style.js\n **/","'use strict';\r\n\r\nimport {factor} from './util.js';\r\n\r\nconst Operation = {\r\n    math: [Math.sin, Math.cos, Math.tan, Math.log10, Math.log, Math.E, Math.PI, Math.pow, Math.sqrt, factor],\r\n    string: ['sin', 'cos', 'tan', 'lg', 'ln', 'e', 'π', 'pow', 'sqrt', 'factor']\r\n};\r\n\r\n/**\r\n * convert the expression into a function that returns the value of the expression.\r\n * @param expression {string}\r\n * @return {Function} get the value if called!\r\n */\r\nexport default expression => () => {\r\n    return new Function(...Operation.string, `return ${expression};`).apply(null, Operation.math);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/parser.js\n **/","'use strict';\r\n\r\n/**\r\n * Regular Expressions collections used to delete chars.\r\n * @type {{trigonometricFunction: RegExp, logFunction: RegExp, operation: RegExp, number: RegExp}}\r\n */\r\nconst mathRegExp = {\r\n    trigonometricFunction: /cos\\($|sin\\($|tan\\($/,\r\n    logFunction: /lg\\($|ln\\($/,\r\n    operation: /\\+$|\\-$|\\*$|\\/$/,\r\n    number: /[0]$/,\r\n};\r\n\r\nexport default {\r\n    factorial: '!',\r\n    power: '^',\r\n    root: '√',\r\n\r\n    pi: 'π',\r\n    e: 'e',\r\n\r\n    sin: 'sin(',\r\n    cos: 'cos(',\r\n    tan: 'tan(',\r\n\r\n    left: '(',\r\n    right: ')',\r\n\r\n    '1': '1',\r\n    '2': '2',\r\n    '3': '3',\r\n    '4': '4',\r\n    '5': '5',\r\n    '6': '6',\r\n    '7': '7',\r\n    '8': '8',\r\n    '9': '9',\r\n    '0': '0',\r\n\r\n    plus: minusInput(mathRegExp.operation, '+'),\r\n    minus: minusInput(mathRegExp.operation, '-'),\r\n    multiply: minusInput(mathRegExp.operation, '*'),\r\n    divide: minusInput(mathRegExp.operation, '/'),\r\n\r\n    point: '.',\r\n    ln: 'ln(',\r\n    lg: 'lg(',\r\n\r\n    eq: onEqual,\r\n    backspace: onDelete,\r\n\r\n    ce() {\r\n        this.input = '0';\r\n    }\r\n};\r\n\r\n/**\r\n * delete a char before add a char\r\n * @param reg {RegExp}\r\n * @param stringAdded {string}\r\n * @return {Function}\r\n */\r\nfunction minusInput(reg, stringAdded) {\r\n    return function () {\r\n        let result = reg.test(this.input)\r\n            ? this.input.slice(0, this.input.length - 1)\r\n            : this.input;\r\n\r\n        this.input = result + stringAdded;\r\n    };\r\n}\r\n\r\n/**\r\n * when user clicks the eq block\r\n * this <===> model\r\n */\r\nfunction onEqual() {\r\n    this.isEqualed = true;\r\n    this.output += this.input ? `${this.input} = ${this.result}\\n` : '0=0\\n';\r\n}\r\n\r\n/**\r\n * when user clicks the backspace\r\n * this <===> model\r\n */\r\nfunction onDelete() {\r\n    if (this.input === '') {\r\n        this.input = '0';\r\n        return;\r\n    }\r\n    deleteChar(this);\r\n}\r\n\r\nfunction deleteChar(model) {\r\n    model.input = mathRegExp.trigonometricFunction.test(model.input)\r\n        ? model.input.slice(0, model.input.length - 4)\r\n        : mathRegExp.logFunction.test(model.input)\r\n        ? model.input.slice(0, model.input.length - 3)\r\n        : model.input.slice(0, model.input.length - 1);\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/types.js\n **/","'use strict';\r\n\r\n/**\r\n * Compute the factorial of the number\r\n * @param num {number}\r\n * @return {number}\r\n */\r\nexport function factor(num) {\r\n    if (num === 0) {\r\n        return 1;\r\n    }\r\n    if (num < 0) {\r\n        throw new Error('fail!!!');\r\n    }\r\n\r\n    let result = 1;\r\n    for (let i = 1; i <= num; i++) {\r\n        result = result * i;\r\n    }\r\n    return result;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/"],"sourceRoot":""}